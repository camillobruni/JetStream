(()=>{var e={4424:function(e){e.exports=function(){"use strict";const e=/^[\w+.-]+:\/\//,t=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,n=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function i(e){return e.startsWith("/")}function r(e){return/^[.?#]/.test(e)}function o(e){const n=t.exec(e);return s(n[1],n[2]||"",n[3],n[4]||"",n[5]||"/",n[6]||"",n[7]||"")}function s(e,t,n,i,r,o,s){return{scheme:e,user:t,host:n,port:i,path:r,query:o,hash:s,type:7}}function a(t){if(function(e){return e.startsWith("//")}(t)){const e=o("http:"+t);return e.scheme="",e.type=6,e}if(i(t)){const e=o("http://foo.com"+t);return e.scheme="",e.host="",e.type=5,e}if(function(e){return e.startsWith("file:")}(t))return function(e){const t=n.exec(e),r=t[2];return s("file:","",t[1]||"","",i(r)?r:"/"+r,t[3]||"",t[4]||"")}(t);if(function(t){return e.test(t)}(t))return o(t);const r=o("http://foo.com/"+t);return r.scheme="",r.host="",r.type=t?t.startsWith("?")?3:t.startsWith("#")?2:4:1,r}function u(e,t){const n=t<=4,i=e.path.split("/");let r=1,o=0,s=!1;for(let e=1;e<i.length;e++){const t=i[e];t?(s=!1,"."!==t&&(".."!==t?(i[r++]=t,o++):o?(s=!0,o--,r--):n&&(i[r++]=t))):s=!0}let a="";for(let e=1;e<r;e++)a+="/"+i[e];(!a||s&&!a.endsWith("/.."))&&(a+="/"),e.path=a}return function(e,t){if(!e&&!t)return"";const n=a(e);let i=n.type;if(t&&7!==i){const e=a(t),r=e.type;switch(i){case 1:n.hash=e.hash;case 2:n.query=e.query;case 3:case 4:!function(e,t){u(t,t.type),"/"===e.path?e.path=t.path:e.path=function(e){if(e.endsWith("/.."))return e;const t=e.lastIndexOf("/");return e.slice(0,t+1)}(t.path)+e.path}(n,e);case 5:n.user=e.user,n.host=e.host,n.port=e.port;case 6:n.scheme=e.scheme}r>i&&(i=r)}u(n,i);const o=n.query+n.hash;switch(i){case 2:case 3:return o;case 4:{const i=n.path.slice(1);return i?r(t||e)&&!r(i)?"./"+i+o:i+o:o||"."}case 5:return n.path+o;default:return n.scheme+"//"+n.user+n.host+n.port+n.path+o}}}()},65606:e=>{var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,u=[],c=!1,f=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(l);c=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},93775:e=>{var t=["utf8","utf-8","unicode-1-1-utf-8"];e.exports={TextEncoder:function(e){if(t.indexOf(e)<0&&void 0!==e&&null!=e)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(e){if("string"!=typeof e)throw new TypeError("passed argument must be of tye string");var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);const i=t.split("");for(let e=0;e<i.length;e++)n[e]=i[e].charCodeAt(0);return n}},TextDecoder:function(e){if(t.indexOf(e)<0&&void 0!==e&&null!=e)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.decode=function(e,t){if(void 0===e)return"";var n=void 0!==t&&n in t&&t.stream;if("boolean"!=typeof n)throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(e)){var i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=new Array(i.length);for(let e=0;e<i.length;e++)r[e]=String.fromCharCode(i[e]);return decodeURIComponent(escape(r.join("")))}throw new TypeError("passed argument must be an array buffer view")}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}(()=>{"use strict";function e(e){return e.split("")}function t(e,t){return t.includes(e)}class i extends Error{constructor(e,t){super(),this.name="DefaultsError",this.message=e,this.defs=t}}function r(e,t,n){!0===e?e={}:null!=e&&"object"==typeof e&&(e={...e});const r=e||{};if(n)for(const e in r)if(g(r,e)&&!g(t,e))throw new i("`"+e+"` is not a supported option",t);for(const n in t)if(g(t,n))if(e&&g(e,n))if("ecma"===n){let t=0|e[n];t>5&&t<2015&&(t+=2009),r[n]=t}else r[n]=e&&g(e,n)?e[n]:t[n];else r[n]=t[n];return r}function o(){}function s(){return!1}function a(){return!0}function u(){return this}function c(){return null}var f=function(){function e(e,n,i=!0){const r=[];for(let o=0;o<e.length;++o){let s=e[o].transform(n,i);s instanceof ye?r.push(s):s instanceof t&&r.push(...s.v)}return r}function t(e){this.v=e}return e.splice=function(e){return new t(e)},e.skip={},e}();function l(e,t,n){return n||(n={}),t&&(n.start||(n.start=t.start),n.end||(n.end=t.end)),new e(n)}function p(e,t){e.includes(t)||e.push(t)}function h(e,t){return e.replace(/{(.+?)}/g,function(e,n){return t&&t[n]})}function d(e,t){for(var n=e.length;--n>=0;)e[n]===t&&e.splice(n,1)}function _(e,t){return e.length<2?e.slice():function e(n){if(n.length<=1)return n;var i=Math.floor(n.length/2),r=n.slice(0,i),o=n.slice(i);return function(e,n){for(var i=[],r=0,o=0,s=0;r<e.length&&o<n.length;)t(e[r],n[o])<=0?i[s++]=e[r++]:i[s++]=n[o++];return r<e.length&&i.push.apply(i,e.slice(r)),o<n.length&&i.push.apply(i,n.slice(o)),i}(r=e(r),o=e(o))}(e)}function m(e){return Array.isArray(e)||(e=e.split(" ")),new Set(e.sort())}function v(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t){return!0===e||e instanceof RegExp&&e.test(t)}var b={"\0":"0","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function D(e){return e.replace(/[\0\n\r\u2028\u2029]/g,function(t,n){return("\\"!=e[n-1]||"\\"==e[n-2]&&!/(?:^|[^\\])(?:\\{2})*$/.test(e.slice(0,n-1))?"\\":"")+b[t]})}const x=/^[\\/|\0\s\w^$.[\]()]*$/,w=e=>x.test(e);function E(e,t){return e._annotations&t}function k(e,t){e._annotations|=t}var A="",F=new Map,C="break case catch class const continue debugger default delete do else export extends finally for function if in instanceof let new return switch throw try typeof var void while with",B="false null true",S="enum import super this "+B+" "+C,T="implements interface package private protected public static "+S,q="return new delete throw else case yield await";C=m(C),S=m(S),q=m(q),B=m(B),T=m(T);var $=m(e("+-*&%=<>!?|~^")),z=/^0x[0-9a-f]+$/i,O=/^0[0-7]+$/,M=/^0o[0-7]+$/i,I=/^0b[01]+$/i,N=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,P=/^(0[xob])?[0-9a-f]+n$/i,H=m(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","**","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","||=","&&=","??=","/=","*=","**=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","??","||"]),j=m(e("  \n\r\t\f\v​           \u2028\u2029  　\ufeff")),R=m(e("\n\r\u2028\u2029")),L=m(e(";]),:")),U=m(e("[{(,;:")),V=m(e("[]{}(),;:")),Y={ID_Start:/[$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/(?:[$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])+/};function W(e,t){if(G(e.charCodeAt(t))){if(X(e.charCodeAt(t+1)))return e.charAt(t)+e.charAt(t+1)}else if(X(e.charCodeAt(t))&&G(e.charCodeAt(t-1)))return e.charAt(t-1)+e.charAt(t);return e.charAt(t)}function G(e){return e>=55296&&e<=56319}function X(e){return e>=56320&&e<=57343}function J(e){return e>=48&&e<=57}function Z(e){return Y.ID_Start.test(e)}function K(e){return Y.ID_Continue.test(e)}const Q=/^[a-z_$][a-z0-9_$]*$/i;function ee(e){return Q.test(e)}function te(e,t){if(Q.test(e))return!0;if(!t&&/[\ud800-\udfff]/.test(e))return!1;var n=Y.ID_Start.exec(e);return!(!n||0!==n.index||(e=e.slice(n[0].length))&&(!(n=Y.ID_Continue.exec(e))||n[0].length!==e.length))}function ne(e,t=!0){if(!t&&e.includes("e"))return NaN;if(z.test(e))return parseInt(e.substr(2),16);if(O.test(e))return parseInt(e.substr(1),8);if(M.test(e))return parseInt(e.substr(2),8);if(I.test(e))return parseInt(e.substr(2),2);if(N.test(e))return parseFloat(e);var n=parseFloat(e);return n==e?n:void 0}class ie extends Error{constructor(e,t,n,i,r){super(),this.name="SyntaxError",this.message=e,this.filename=t,this.line=n,this.col=i,this.pos=r}}function re(e,t,n,i,r){throw new ie(e,t,n,i,r)}function oe(e,t,n){return e.type==t&&(null==n||e.value==n)}var se={};function ae(e,t,n,i){var r={text:e,filename:t,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,brace_counter:0,template_braces:[],comments_before:[],directives:{},directive_stack:[]};function o(){return W(r.text,r.pos)}function s(){if(46!==r.text.charCodeAt(r.pos+1))return!1;const e=r.text.charCodeAt(r.pos+2);return e<48||e>57}function a(e,t){var n=W(r.text,r.pos++);if(e&&!n)throw se;return R.has(n)?(r.newline_before=r.newline_before||!t,++r.line,r.col=0,"\r"==n&&"\n"==o()&&(++r.pos,n="\n")):(n.length>1&&(++r.pos,++r.col),++r.col),n}function u(e){for(;e--;)a()}function c(e){return r.text.substr(r.pos,e.length)==e}function f(e,t){var n=r.text.indexOf(e,r.pos);if(t&&-1==n)throw se;return n}function l(){r.tokline=r.line,r.tokcol=r.col,r.tokpos=r.pos}var p=!1,h=null;function d(e,n,i){r.regex_allowed="operator"==e&&!ce.has(n)||"keyword"==e&&q.has(n)||"punc"==e&&U.has(n)||"arrow"==e,"punc"!=e||"."!=n&&"?."!=n?i||(p=!1):p=!0;const o=r.tokline,s=r.tokcol,a=r.tokpos,u=r.newline_before,c=t;let f=[],l=[];i||(f=r.comments_before,l=r.comments_before=[]),r.newline_before=!1;const d=new ge(e,n,o,s,a,u,f,l,c);return i||(h=d),d}function _(){for(;j.has(o());)a()}function m(e){re(e,t,r.tokline,r.tokcol,r.tokpos)}function v(e){var t=!1,n=!1,i=!1,r="."==e,s=!1,u=!1,c=function(e){for(var t,n="",i=0;(t=o())&&e(t,i++);)n+=a();return n}(function(o,a){if(s)return!1;var c=o.charCodeAt(0);switch(c){case 95:return u=!0;case 98:case 66:return i=!0;case 111:case 79:case 120:case 88:return!i&&(i=!0);case 101:case 69:return!!i||!t&&(t=n=!0);case 45:return n||0==a&&!e;case 43:return n;case n=!1,46:return!(r||i||t)&&(r=!0);case 110:return s=!0,!0}return c>=48&&c<=57||c>=97&&c<=102||c>=65&&c<=70});if(e&&(c=e+c),A=c,O.test(c)&&ie.has_directive("use strict")&&m("Legacy octal literals are not allowed in strict mode"),u&&(c.endsWith("_")?m("Numeric separators are not allowed at the end of numeric literals"):c.includes("__")&&m("Only one underscore is allowed as numeric separator"),c=c.replace(/_/g,"")),s){const e=c.slice(0,-1),t=ne(e,z.test(e));if(!r&&P.test(c)&&!isNaN(t))return d("big_int",e);m("Invalid or unexpected token")}var f=ne(c);if(!isNaN(f))return d("num",f);m("Invalid syntax: "+c)}function g(e){return e>="0"&&e<="7"}function y(e,t,n){var i,s=a(!0,e);switch(s.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(b(2,t));case 117:if("{"==o()){for(a(!0),"}"===o()&&m("Expecting hex-character between {}");"0"==o();)a(!0);var u,c=f("}",!0)-r.pos;return(c>6||(u=b(c,t))>1114111)&&m("Unicode reference out of bounds"),a(!0),(i=u)>65535?(i-=65536,String.fromCharCode(55296+(i>>10))+String.fromCharCode(i%1024+56320)):String.fromCharCode(i)}return String.fromCharCode(b(4,t));case 10:return"";case 13:if("\n"==o())return a(!0,e),""}return g(s)?(n&&t&&("0"===s&&!g(o())||m("Octal escape sequences are not allowed in template strings")),function(e,t){var n=o();return n>="0"&&n<="7"&&(e+=a(!0))[0]<="3"&&(n=o())>="0"&&n<="7"&&(e+=a(!0)),"0"===e?"\0":(e.length>0&&ie.has_directive("use strict")&&t&&m("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(e,8)))}(s,t)):s}function b(e,t){for(var n=0;e>0;--e){if(!t&&isNaN(parseInt(o(),16)))return parseInt(n,16)||"";var i=a(!0);isNaN(parseInt(i,16))&&m("Invalid hex-character pattern in string"),n+=i}return parseInt(n,16)}var D=te("Unterminated string constant",function(){const e=r.pos;for(var t=a(),n=[];;){var i=a(!0,!0);if("\\"==i)i=y(!0,!0);else if("\r"==i||"\n"==i)m("Unterminated string constant");else if(i==t)break;n.push(i)}var o=d("string",n.join(""));return A=r.text.slice(e,r.pos),o.quote=t,o}),x=te("Unterminated template",function(e){e&&r.template_braces.push(r.brace_counter);var t,n,i="",s="";for(a(!0,!0);"`"!=(t=a(!0,!0));){if("\r"==t)"\n"==o()&&++r.pos,t="\n";else if("$"==t&&"{"==o())return a(!0,!0),r.brace_counter++,n=d(e?"template_head":"template_cont",i),F.set(n,s),n.template_end=!1,n;if(s+=t,"\\"==t){var u=r.pos;t=y(!0,!(h&&("name"===h.type||"punc"===h.type&&(")"===h.value||"]"===h.value))),!0),s+=r.text.substr(u,r.pos-u)}i+=t}return r.template_braces.pop(),n=d(e?"template_head":"template_cont",i),F.set(n,s),n.template_end=!0,n});function w(e){var t,n=r.regex_allowed,i=function(){for(var e=r.text,t=r.pos,n=r.text.length;t<n;++t){var i=e[t];if(R.has(i))return t}return-1}();return-1==i?(t=r.text.substr(r.pos),r.pos=r.text.length):(t=r.text.substring(r.pos,i),r.pos=i),r.col=r.tokcol+(r.pos-r.tokpos),r.comments_before.push(d(e,t,!0)),r.regex_allowed=n,ie}var E=te("Unterminated multiline comment",function(){var e=r.regex_allowed,t=f("*/",!0),n=r.text.substring(r.pos,t).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return u(function(e){for(var t=0,n=0;n<e.length;n++)G(e.charCodeAt(n))&&X(e.charCodeAt(n+1))&&(t++,n++);return e.length-t}(n)+2),r.comments_before.push(d("comment2",n,!0)),r.newline_before=r.newline_before||n.includes("\n"),r.regex_allowed=e,ie}),k=function(){let e=r.pos,t=e-1,n="c";for(;(n=r.text.charAt(++t))&&(n>="a"&&n<="z"||n>="A"&&n<="Z"););return t>e+1&&n&&"\\"!==n&&!K(n)?(r.pos+=t-e,r.col+=t-e,r.text.slice(e,r.pos)):T()},T=te("Unterminated identifier name",function(){var e,t=[],n=!1,i=function(){return n=!0,a(),"u"!==o()&&m("Expecting UnicodeEscapeSequence -- uXXXX or u{XXXX}"),y(!1,!0)};if("\\"===(e=o()))Z(e=i())||m("First identifier char is an invalid identifier char");else{if(!Z(e))return"";a()}for(t.push(e);null!=(e=o());){if("\\"===(e=o()))K(e=i())||m("Invalid escaped identifier char");else{if(!K(e))break;a()}t.push(e)}const r=t.join("");return S.has(r)&&n&&m("Escaped characters are not allowed in keywords"),r}),M=te("Unterminated regular expression",function(e){for(var t,n=!1,i=!1;t=a(!0);)if(R.has(t))m("Unexpected line terminator");else if(n)/^[\u0000-\u007F]$/.test(t)?e+="\\"+t:e+=t,n=!1;else if("["==t)i=!0,e+=t;else if("]"==t&&i)i=!1,e+=t;else{if("/"==t&&!i)break;"\\"==t?n=!0:e+=t}return d("regexp","/"+e+"/"+k())});function I(e){return d("operator",function e(t){if(!o())return t;var n=t+o();return H.has(n)?(a(),e(n)):t}(e||a()))}function N(){switch(a(),o()){case"/":return a(),w("comment1");case"*":return a(),E()}return r.regex_allowed?M(""):I("/")}function L(){return a(),">"===o()?(a(),d("arrow","=>")):I("=")}function Y(){return a(),J(o().charCodeAt(0))?v("."):"."===o()?(a(),a(),d("expand","...")):d("punc",".")}function Q(){var e=k();return p?d("name",e):B.has(e)?d("atom",e):C.has(e)?H.has(e)?d("operator",e):d("keyword",e):d("name",e)}function ee(){return a(),d("privatename",k())}function te(e,t){return function(n){try{return t(n)}catch(t){if(t!==se)throw t;m(e)}}}function ie(e){if(null!=e)return M(e);for(i&&0==r.pos&&c("#!")&&(l(),u(2),w("comment5"));;){if(_(),l(),n){if(c("\x3c!--")){u(4),w("comment3");continue}if(c("--\x3e")&&r.newline_before){u(3),w("comment4");continue}}var t=o();if(!t)return d("eof");var f=t.charCodeAt(0);switch(f){case 34:case 39:return D();case 46:return Y();case 47:var p=N();if(p===ie)continue;return p;case 61:return L();case 63:if(!s())break;return a(),a(),d("punc","?.");case 96:return x(!0);case 123:r.brace_counter++;break;case 125:if(r.brace_counter--,r.template_braces.length>0&&r.template_braces[r.template_braces.length-1]===r.brace_counter)return x(!1)}if(J(f))return v();if(V.has(t))return d("punc",a());if($.has(t))return I();if(92==f||Z(t))return Q();if(35==f)return ee();break}m("Unexpected character '"+t+"'")}return ie.next=a,ie.peek=o,ie.context=function(e){return e&&(r=e),r},ie.add_directive=function(e){r.directive_stack[r.directive_stack.length-1].push(e),void 0===r.directives[e]?r.directives[e]=1:r.directives[e]++},ie.push_directives_stack=function(){r.directive_stack.push([])},ie.pop_directives_stack=function(){for(var e=r.directive_stack[r.directive_stack.length-1],t=0;t<e.length;t++)r.directives[e[t]]--;r.directive_stack.pop()},ie.has_directive=function(e){return r.directives[e]>0},ie}var ue=m(["typeof","void","delete","--","++","!","~","-","+"]),ce=m(["--","++"]),fe=m(["=","+=","-=","??=","&&=","||=","/=","*=","**=","%=",">>=","<<=",">>>=","|=","^=","&="]),le=m(["??=","&&=","||="]),pe=function(e,t){for(var n=0;n<e.length;++n)for(const i of e[n])t[i]=n+1;return t}([["||"],["??"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),he=m(["atom","num","big_int","string","regexp","name"]);function de(e,t){const n=new WeakMap;t=r(t,{bare_returns:!1,ecma:null,expression:!1,filename:null,html5_comments:!0,module:!1,shebang:!0,strict:!1,toplevel:null},!0);var i={input:"string"==typeof e?ae(e,t.filename,t.html5_comments,t.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_async:-1,in_generator:-1,in_directives:!0,in_loop:0,labels:[]};function o(e,t){return oe(i.token,e,t)}function s(){return i.peeked||(i.peeked=i.input())}function a(){return i.prev=i.token,i.peeked||s(),i.token=i.peeked,i.peeked=null,i.in_directives=i.in_directives&&("string"==i.token.type||o("punc",";")),i.token}function u(){return i.prev}function c(e,t,n,r){var o=i.input.context();re(e,o.filename,null!=t?t:o.tokline,null!=n?n:o.tokcol,null!=r?r:o.tokpos)}function f(e,t){c(t,e.line,e.col)}function l(e){null==e&&(e=i.token),f(e,"Unexpected token: "+e.type+" ("+e.value+")")}function p(e,t){if(o(e,t))return a();f(i.token,"Unexpected token "+i.token.type+" «"+i.token.value+"», expected "+e+" «"+t+"»")}function h(e){return p("punc",e)}function d(e){return e.nlb||!e.comments_before.every(e=>!e.nlb)}function _(){return!t.strict&&(o("eof")||o("punc","}")||d(i.token))}function m(){return i.in_generator===i.in_function}function v(){return i.in_async===i.in_function||0===i.in_function&&i.input.has_directive("use strict")}function g(e){o("punc",";")?a():e||_()||l()}function y(){h("(");var e=Xt(!0);return h(")"),e}function b(e){return function(...t){const n=i.token,r=e(...t);return r.start=n,r.end=u(),r}}function D(){(o("operator","/")||o("operator","/="))&&(i.peeked=null,i.token=i.input(i.token.value.substr(1)))}i.token=a();var x=b(function e(n,r,m){switch(D(),i.token.type){case"string":if(i.in_directives){var b=s();!A.includes("\\")&&(oe(b,"punc",";")||oe(b,"punc","}")||d(b)||oe(b,"eof"))?i.input.add_directive(i.token.value):i.in_directives=!1}var x=i.in_directives,k=E();return x&&k.body instanceof Bn?new xe(k.body):k;case"template_head":case"num":case"big_int":case"regexp":case"operator":case"atom":return E();case"name":case"privatename":if(o("privatename")&&!i.in_class&&c("Private field must be used in an enclosing class"),"async"==i.token.value&&oe(s(),"keyword","function"))return a(),a(),r&&c("functions are not allowed as the body of a loop"),z(Ye,!1,!0,n);if("import"==i.token.value&&!oe(s(),"punc","(")&&!oe(s(),"punc",".")){a();var F=function(){var e,t,n=u();o("name")&&(e=Ee(gn)),o("punc",",")&&a(),((t=_e(!0))||e)&&p("name","from");var r=i.token;"string"!==r.type&&l(),a();const s=ie();return new Dt({start:n,imported_name:e,imported_names:t,module_name:new Bn({start:r,value:r.value,quote:r.quote,end:r}),attributes:s,end:i.token})}();return g(),F}return oe(s(),"punc",":")?w():E();case"punc":switch(i.token.value){case"{":return new Fe({start:i.token,body:H(),end:u()});case"[":case"(":return E();case";":return i.in_directives=!1,a(),new Ce;default:l()}case"keyword":switch(i.token.value){case"break":return a(),C(nt);case"continue":return a(),C(it);case"debugger":return a(),g(),new De;case"do":a();var S=nn(e);p("keyword","while");var $=y();return g(!0),new $e({body:S,condition:$});case"while":return a(),new ze({condition:y(),body:nn(function(){return e(!1,!0)})});case"for":return a(),function(){var e="`for await` invalid in this context",t=i.token;"name"==t.type&&"await"==t.value?(v()||f(t,e),a()):t=!1,h("(");var n=null;if(o("punc",";"))t&&f(t,e);else{n=o("keyword","var")?(a(),U(!0)):o("keyword","let")?(a(),V(!0)):o("keyword","const")?(a(),Y(!0)):Xt(!0,!0);var r=o("operator","in"),s=o("name","of");if(t&&!s&&f(t,e),r||s)return n instanceof _t?n.definitions.length>1&&f(n.start,"Only one variable declaration allowed in for..in loop"):Ke(n)||(n=tt(n))instanceof We||f(n.start,"Invalid left-hand side in for..in loop"),a(),r?q(n):T(n,!!t)}return B(n)}();case"class":return a(),r&&c("classes are not allowed as the body of a loop"),m&&c("classes are not allowed as the body of an if"),te(Qt,n);case"function":return a(),r&&c("functions are not allowed as the body of a loop"),z(Ye,!1,!1,n);case"if":return a(),P();case"return":0!=i.in_function||t.bare_returns||c("'return' outside of function"),a();var O=null;return o("punc",";")?a():_()||(O=Xt(!0),g()),new Qe({value:O});case"switch":return a(),new at({expression:y(),body:nn(j)});case"throw":return a(),d(i.token)&&c("Illegal newline after 'throw'"),O=Xt(!0),g(),new et({value:O});case"try":return a(),function(){var e,t=null,n=null;if(e=new pt({start:i.token,body:H(),end:u()}),o("keyword","catch")){var r=i.token;if(a(),o("punc","{"))var s=null;else h("("),s=M(void 0,vn),h(")");t=new ht({start:r,argname:s,body:H(),end:u()})}return o("keyword","finally")&&(r=i.token,a(),n=new dt({start:r,body:H(),end:u()})),t||n||c("Missing catch/finally blocks"),new lt({body:e,bcatch:t,bfinally:n})}();case"var":return a(),F=U(),g(),F;case"let":return a(),F=V(),g(),F;case"const":return a(),F=Y(),g(),F;case"with":return i.input.has_directive("use strict")&&c("Strict mode may not include a with statement"),a(),new Ne({expression:y(),body:e()});case"export":if(!oe(s(),"punc","("))return a(),F=me(),o("punc",";")&&g(),F}}l()});function w(){var e=Ee(bn);"await"===e.name&&i.in_async===i.in_function&&f(i.prev,"await cannot be used as label inside async function"),i.labels.some(t=>t.name===e.name)&&c("Label "+e.name+" defined twice"),h(":"),i.labels.push(e);var t=x();return i.labels.pop(),t instanceof Te||e.references.forEach(function(t){t instanceof it&&(t=t.label.start,c("Continue label `"+e.name+"` refers to non-IterationStatement.",t.line,t.col,t.pos))}),new Se({body:t,label:e})}function E(e){return new we({body:(e=Xt(!0),g(),e)})}function C(e){var t,n=null;_()||(n=Ee(En,!0)),null!=n?((t=i.labels.find(e=>e.name===n.name))||c("Undefined label "+n.name),n.thedef=t):0==i.in_loop&&c(e.TYPE+" not inside a loop or switch"),g();var r=new e({label:n});return t&&t.references.push(r),r}function B(e){h(";");var t=o("punc",";")?null:Xt(!0);h(";");var n=o("punc",")")?null:Xt(!0);return h(")"),new Oe({init:e,condition:t,step:n,body:nn(function(){return x(!1,!0)})})}function T(e,t){var n=e instanceof _t?e.definitions[0].name:null,i=Xt(!0);return h(")"),new Ie({await:t,init:e,name:n,object:i,body:nn(function(){return x(!1,!0)})})}function q(e){var t=Xt(!0);return h(")"),new Me({init:e,object:t,body:nn(function(){return x(!1,!0)})})}var $=function(e,t,n){d(i.token)&&c("Unexpected newline before arrow (=>)"),p("arrow","=>");var r=N(o("punc","{"),!1,n);return new Ve({start:e,end:r.end,async:n,argnames:t,body:r})},z=function(e,t,n,i){var r=e===Ye;o("operator","*")&&(t=!0,a());var s=o("name")?Ee(r?ln:dn):null;r&&!s&&(i?e=Ue:l()),!s||e===Le||s instanceof on||l(u());var c=[],f=N(!0,t,n,s,c);return new e({start:c.start,end:f.end,is_generator:t,async:n,name:s,argnames:c,body:f})};class O{constructor(e,t,n=!1){this.is_parameter=e,this.duplicates_ok=n,this.parameters=new Set,this.duplicate=null,this.default_assignment=!1,this.spread=!1,this.strict_mode=!!t}add_parameter(e){if(this.parameters.has(e.value))null===this.duplicate&&(this.duplicate=e),this.check_strict();else if(this.parameters.add(e.value),this.is_parameter)switch(e.value){case"arguments":case"eval":case"yield":this.strict_mode&&f(e,"Unexpected "+e.value+" identifier as parameter inside strict mode");break;default:S.has(e.value)&&l()}}mark_default_assignment(e){!1===this.default_assignment&&(this.default_assignment=e)}mark_spread(e){!1===this.spread&&(this.spread=e)}mark_strict_mode(){this.strict_mode=!0}is_strict(){return!1!==this.default_assignment||!1!==this.spread||this.strict_mode}check_strict(){this.is_strict()&&null!==this.duplicate&&!this.duplicates_ok&&f(this.duplicate,"Parameter "+this.duplicate.value+" was used already")}}function M(e,t){var n,r=!1;return void 0===e&&(e=new O(!0,i.input.has_directive("use strict"))),o("expand","...")&&(r=i.token,e.mark_spread(i.token),a()),n=I(e,t),o("operator","=")&&!1===r&&(e.mark_default_assignment(i.token),a(),n=new Nt({start:n.start,left:n,operator:"=",right:Xt(!1),end:i.token})),!1!==r&&(o("punc",")")||l(),n=new je({start:r,expression:n,end:r})),e.check_strict(),n}function I(e,t){var n,r=[],f=!0,p=!1,d=i.token;if(void 0===e){const n=i.input.has_directive("use strict");e=new O(!1,n,t===sn)}if(t=void 0===t?fn:t,o("punc","[")){for(a();!o("punc","]");){if(f?f=!1:h(","),o("expand","...")&&(p=!0,n=i.token,e.mark_spread(i.token),a()),o("punc"))switch(i.token.value){case",":r.push(new In({start:i.token,end:i.token}));continue;case"]":break;case"[":case"{":r.push(I(e,t));break;default:l()}else o("name")?(e.add_parameter(i.token),r.push(Ee(t))):c("Invalid function parameter");o("operator","=")&&!1===p&&(e.mark_default_assignment(i.token),a(),r[r.length-1]=new Nt({start:r[r.length-1].start,left:r[r.length-1],operator:"=",right:Xt(!1),end:i.token})),p&&(o("punc","]")||c("Rest element must be last element"),r[r.length-1]=new je({start:n,expression:r[r.length-1],end:n}))}return h("]"),e.check_strict(),new We({start:d,names:r,is_array:!0,end:u()})}if(o("punc","{")){for(a();!o("punc","}");){if(f?f=!1:h(","),o("expand","...")&&(p=!0,n=i.token,e.mark_spread(i.token),a()),o("name")&&(oe(s(),"punc")||oe(s(),"operator"))&&[",","}","="].includes(s().value)){e.add_parameter(i.token);var _=u(),m=Ee(t);p?r.push(new je({start:n,expression:m,end:m.end})):r.push(new Rt({start:_,key:m.name,value:m,end:m.end}))}else{if(o("punc","}"))continue;var v=i.token,g=ve();null===g?l(u()):"name"!==u().type||o("punc",":")?(h(":"),r.push(new Rt({start:v,quote:v.quote,key:g,value:I(e,t),end:u()}))):r.push(new Rt({start:u(),key:g,value:new t({start:u(),name:g,end:u()}),end:u()}))}p?o("punc","}")||c("Rest element must be last element"):o("operator","=")&&(e.mark_default_assignment(i.token),a(),r[r.length-1].value=new Nt({start:r[r.length-1].value.start,left:r[r.length-1].value,operator:"=",right:Xt(!1),end:i.token}))}return h("}"),e.check_strict(),new We({start:d,names:r,is_array:!1,end:u()})}if(o("name"))return e.add_parameter(i.token),Ee(t);c("Invalid function parameter")}function N(e,t,n,r,s){var u=i.in_loop,c=i.labels,f=i.in_generator,l=i.in_async;if(++i.in_function,t&&(i.in_generator=i.in_function),n&&(i.in_async=i.in_function),s&&function(e){var t=new O(!0,i.input.has_directive("use strict"));for(h("(");!o("punc",")");){var n=M(t);if(e.push(n),o("punc",")")||h(","),n instanceof je)break}a()}(s),e&&(i.in_directives=!0),i.in_loop=0,i.labels=[],e){i.input.push_directives_stack();var p=H();r&&be(r),s&&s.forEach(be),i.input.pop_directives_stack()}else p=[new Qe({start:i.token,value:Xt(!1),end:i.token})];return--i.in_function,i.in_loop=u,i.labels=c,i.in_generator=f,i.in_async=l,p}function P(){var e=y(),t=x(!1,!1,!0),n=null;return o("keyword","else")&&(a(),n=x(!1,!1,!0)),new st({condition:e,body:t,alternative:n})}function H(){h("{");for(var e=[];!o("punc","}");)o("eof")&&l(),e.push(x());return a(),e}function j(){h("{");for(var e,t=[],n=null,r=null;!o("punc","}");)o("eof")&&l(),o("keyword","case")?(r&&(r.end=u()),n=[],r=new ft({start:(e=i.token,a(),e),expression:Xt(!0),body:n}),t.push(r),h(":")):o("keyword","default")?(r&&(r.end=u()),n=[],r=new ct({start:(e=i.token,a(),h(":"),e),body:n}),t.push(r)):(n||l(),n.push(x()));return r&&(r.end=u()),a(),t}function R(e,t){for(var n,r=[];;){var s="var"===t?sn:"const"===t?un:"let"===t?cn:null;if(o("punc","{")||o("punc","[")?n=new yt({start:i.token,name:I(void 0,s),value:o("operator","=")?(p("operator","="),Xt(!1,e)):null,end:u()}):"import"==(n=new yt({start:i.token,name:Ee(s),value:o("operator","=")?(a(),Xt(!1,e)):e||"const"!==t?null:c("Missing initializer in const declaration"),end:u()})).name.name&&c("Unexpected token: import"),r.push(n),!o("punc",","))break;a()}return r}var U=function(e){return new mt({start:u(),definitions:R(e,"var"),end:u()})},V=function(e){return new vt({start:u(),definitions:R(e,"let"),end:u()})},Y=function(e){return new gt({start:u(),definitions:R(e,"const"),end:u()})};function W(){var e,t=i.token;switch(t.type){case"name":e=ye(Dn);break;case"num":e=new Sn({start:t,end:t,value:t.value,raw:A});break;case"big_int":e=new Tn({start:t,end:t,value:t.value,raw:A});break;case"string":ke(e=new Bn({start:t,end:t,value:t.value,quote:t.quote}));break;case"regexp":const[n,i,r]=t.value.match(/^\/(.*)\/(\w*)$/);e=new qn({start:t,end:t,value:{source:i,flags:r}});break;case"atom":switch(t.value){case"false":e=new Hn({start:t,end:t});break;case"true":e=new jn({start:t,end:t});break;case"null":e=new zn({start:t,end:t})}}return a(),e}function G(e,t){var n=function(e,t){return t?new Nt({start:e.start,left:e,operator:"=",right:t,end:t.end}):e};return e instanceof Ht?n(new We({start:e.start,end:e.end,is_array:!1,names:e.properties.map(e=>G(e))}),t):e instanceof Rt?(e.value=G(e.value),n(e,t)):e instanceof In?e:e instanceof We?(e.names=e.names.map(e=>G(e)),n(e,t)):e instanceof Dn?n(new fn({name:e.name,start:e.start,end:e.end}),t):e instanceof je?(e.expression=G(e.expression),n(e,t)):e instanceof Pt?n(new We({start:e.start,end:e.end,is_array:!0,names:e.elements.map(e=>G(e))}),t):e instanceof It?n(G(e.left,e.right),t):e instanceof Nt?(e.left=G(e.left),e):void c("Invalid function parameter",e.start.line,e.start.col)}var X=function(e,t){if(o("operator","new"))return function(e){var t=i.token;if(p("operator","new"),o("punc","."))return a(),p("name","target"),Ae(new rn({start:t,end:u()}),e);var n,r=X(!1);o("punc","(")?(a(),n=Z(")",!0)):n=[];var s=new kt({start:t,expression:r,args:n,end:u()});return ke(s),Ae(s,e)}(e);if(o("name","import")&&oe(s(),"punc","."))return function(e){var t=i.token;return p("name","import"),p("punc","."),p("name","meta"),Ae(new xt({start:t,end:u()}),e)}(e);var r,c=i.token,f=o("name","async")&&"["!=(r=s()).value&&"arrow"!=r.type&&W();if(o("punc")){switch(i.token.value){case"(":if(f&&!e)break;var d=function(e,t){var n,r,s,c=[];for(h("(");!o("punc",")");)n&&l(n),o("expand","...")?(n=i.token,t&&(r=i.token),a(),c.push(new je({start:u(),expression:Xt(),end:i.token}))):c.push(Xt()),o("punc",")")||(h(","),o("punc",")")&&(s=u(),t&&(r=s)));return h(")"),e&&o("arrow","=>")?n&&s&&l(s):r&&l(r),c}(t,!f);if(t&&o("arrow","=>"))return $(c,d.map(e=>G(e)),!!f);var _=f?new Et({expression:f,args:d}):qt(c,d);if(_.start){const e=c.comments_before.length;if(n.set(c,e),_.start.comments_before.unshift(...c.comments_before),c.comments_before=_.start.comments_before,0==e&&c.comments_before.length>0){var m=c.comments_before[0];m.nlb||(m.nlb=c.nlb,c.nlb=!1)}c.comments_after=_.start.comments_after}_.start=c;var v=u();return _.end&&(v.comments_before=_.end.comments_before,_.end.comments_after.push(...v.comments_after),v.comments_after=_.end.comments_after),_.end=v,_ instanceof Et&&ke(_),Ae(_,e);case"[":return Ae(K(),e);case"{":return Ae(ee(),e)}f||l()}if(t&&o("name")&&oe(s(),"arrow")){var g=new fn({name:i.token.value,start:c,end:c});return a(),$(c,[g],!!f)}if(o("keyword","function")){a();var y=z(Ue,!1,!!f);return y.start=c,y.end=u(),Ae(y,e)}if(f)return Ae(f,e);if(o("keyword","class")){a();var b=te(tn);return b.start=c,b.end=u(),Ae(b,e)}return o("template_head")?Ae(J(),e):he.has(i.token.type)?Ae(W(),e):void l()};function J(){var e=[],t=i.token;for(e.push(new Je({start:i.token,raw:F.get(i.token),value:i.token.value,end:i.token}));!i.token.template_end;)a(),D(),e.push(Xt(!0)),e.push(new Je({start:i.token,raw:F.get(i.token),value:i.token.value,end:i.token}));return a(),new Xe({start:t,segments:e,end:i.token})}function Z(e,t,n){for(var r=!0,s=[];!o("punc",e)&&(r?r=!1:h(","),!t||!o("punc",e));)o("punc",",")&&n?s.push(new In({start:i.token,end:i.token})):o("expand","...")?(a(),s.push(new je({start:u(),expression:Xt(),end:i.token}))):s.push(Xt(!1));return a(),s}var K=b(function(){return h("["),new Pt({elements:Z("]",!t.strict,!0)})}),Q=b((e,t)=>z(Le,e,t)),ee=b(function(){var e=i.token,n=!0,r=[];for(h("{");!o("punc","}")&&(n?n=!1:h(","),t.strict||!o("punc","}"));){if("expand"==(e=i.token).type){a(),r.push(new je({start:e,expression:Xt(!1),end:u()}));continue}o("privatename")&&c("private fields are not allowed in an object");var s,f=ve();if(o("punc",":"))null===f?l(u()):(a(),s=Xt(!1));else{var p=ne(f,e);if(p){r.push(p);continue}s=new Dn({start:u(),name:f,end:u()})}o("operator","=")&&(a(),s=new It({start:e,left:s,operator:"=",right:Xt(!1),logical:!1,end:u()}));const t=new Rt({start:e,quote:e.quote,key:f,value:s,end:u()});r.push(ke(t))}return a(),new Ht({properties:r})});function te(e,t){var n,r,s,c,f=[];i.input.push_directives_stack(),i.input.add_directive("use strict"),"name"==i.token.type&&"extends"!=i.token.value&&(s=Ee(e===Qt?_n:mn)),e!==Qt||s||(t?e=tn:l()),"extends"==i.token.value&&(a(),c=Xt(!0)),h("{");const p=i.in_class;for(i.in_class=!0;o("punc",";");)a();for(;!o("punc","}");)for(n=i.token,(r=ne(ve(),n,!0))||l(),f.push(r);o("punc",";");)a();return i.in_class=p,i.input.pop_directives_stack(),a(),new e({start:n,name:s,extends:c,properties:f,end:u()})}function ne(e,t,n){const r=(e,n)=>"string"==typeof e?new n({start:t,name:e,end:u()}):(null===e&&l(),e),s=()=>!(o("punc","(")||o("punc",",")||o("punc","}")||o("punc",";")||o("operator","="));var c=!1,f=!1,p=!1,h=!1,d=null;if(n&&"static"===e&&s()){const t=function(){if(!o("punc","{"))return null;const e=i.token,t=[];for(a();!o("punc","}");)t.push(x());return a(),new en({start:e,body:t,end:u()})}();if(null!=t)return t;f=!0,e=ve()}"async"===e&&s()&&(c=!0,e=ve()),"operator"===u().type&&"*"===u().value&&(p=!0,e=ve()),"get"!==e&&"set"!==e||!s()||(d=e,e=ve()),"privatename"===u().type&&(h=!0);const _=u();if(null!=d){if(h)return ke(new("get"===d?Ut:Lt)({start:t,static:f,key:r(e,pn),value:Q(),end:u()}));{const n="get"===d?Yt:Vt;return e=r(e,pn),ke(new n({start:t,static:f,key:e,quote:e instanceof pn?_.quote:void 0,value:Q(),end:u()}))}}if(o("punc","("))return e=r(e,pn),ke(new(h?Gt:Wt)({start:t,static:f,key:e,quote:e instanceof pn?_.quote:void 0,value:Q(p,c),end:u()}));if(n){const n=h?Zt:Jt,i=r(e,h?kn:hn),s=i instanceof hn?_.quote:void 0;if(o("operator","="))return a(),ke(new n({start:t,static:f,quote:s,key:i,value:Xt(!1),end:u()}));if(o("name")||o("privatename")||o("punc","[")||o("operator","*")||o("punc",";")||o("punc","}")||o("string")||o("num")||o("big_int"))return ke(new n({start:t,static:f,quote:s,key:i,end:u()}))}}function ie(){return!o("keyword","with")&&!o("name","assert")||d(i.token)?null:(a(),ee())}function se(e){function t(e,t){return new e({name:ve(),quote:t||void 0,start:u(),end:u()})}var n,r,s=e?yn:wn,c=e?gn:xn,f=i.token;return e?n=t(s,f.quote):r=t(c,f.quote),o("name","as")?(a(),e?r=t(c):n=t(s,i.token.quote)):e?r=new c(n):n=new s(r),new bt({start:f,foreign_name:n,name:r,end:u()})}function de(e,t){var n,r,o=e?yn:wn,s=e?gn:xn,a=i.token,c=u();return e?n=t:r=t,n=n||new s({start:a,name:"*",end:c}),r=r||new o({start:a,name:"*",end:c}),new bt({start:a,foreign_name:r,name:n,end:c})}function _e(e){var t;if(o("punc","{")){for(a(),t=[];!o("punc","}");)t.push(se(e)),o("punc",",")&&a();a()}else if(o("operator","*")){var n;a(),o("name","as")&&(a(),n=e?Ee(gn):function(e){if(!o("name")){o("string")||c("Name or string expected");var t=i.token,n=new e({start:t,end:t,name:t.value,quote:t.quote});return a(),n}var r=ye(e);return be(r),a(),r}(wn)),t=[de(e,n)]}return t}function me(){var e,t,n,r,c,f=i.token;if(o("keyword","default"))e=!0,a();else if(t=_e(!1)){if(o("name","from")){a();var p=i.token;"string"!==p.type&&l(),a();const n=ie();return new wt({start:f,is_default:e,exported_names:t,module_name:new Bn({start:p,value:p.value,quote:p.quote,end:p}),end:u(),attributes:n})}return new wt({start:f,is_default:e,exported_names:t,end:u()})}return o("punc","{")||e&&(o("keyword","class")||o("keyword","function"))&&oe(s(),"punc")?(r=Xt(!1),g()):(n=x(e))instanceof _t&&e?l(n.start):n instanceof _t||n instanceof Ye||n instanceof Qt?c=n:n instanceof tn||n instanceof Ue?r=n:n instanceof we?r=n.body:l(n.start),new wt({start:f,is_default:e,exported_value:r,exported_definition:c,end:u(),attributes:null})}function ve(){var e=i.token;switch(e.type){case"punc":if("["===e.value){a();var t=Xt(!1);return h("]"),t}l(e);case"operator":if("*"===e.value)return a(),null;["delete","in","instanceof","new","typeof","void"].includes(e.value)||l(e);case"name":case"privatename":case"string":case"keyword":case"atom":return a(),e.value;case"num":case"big_int":return a(),""+e.value;default:l(e)}}function ge(){var e=i.token;return"name"!=e.type&&"privatename"!=e.type&&l(),a(),e.value}function ye(e){var t=i.token.value;return new("this"==t?An:"super"==t?Fn:e)({name:String(t),start:i.token,end:i.token})}function be(e){var t=e.name;m()&&"yield"==t&&f(e.start,"Yield cannot be used as identifier inside generators"),i.input.has_directive("use strict")&&("yield"==t&&f(e.start,"Unexpected yield identifier inside strict mode"),e instanceof on&&("arguments"==t||"eval"==t)&&f(e.start,"Unexpected "+t+" in strict mode"))}function Ee(e,t){if(!o("name"))return t||c("Name expected"),null;var n=ye(e);return be(n),a(),n}function ke(e,t=e.start){var i=t.comments_before;const r=n.get(t);for(var o=null!=r?r:i.length;--o>=0;){var s=i[o];if(/[@#]__/.test(s.value)){if(/[@#]__PURE__/.test(s.value)){k(e,Wn);break}if(/[@#]__INLINE__/.test(s.value)){k(e,Gn);break}if(/[@#]__NOINLINE__/.test(s.value)){k(e,Xn);break}if(/[@#]__KEY__/.test(s.value)){k(e,Jn);break}if(/[@#]__MANGLE_PROP__/.test(s.value)){k(e,Zn);break}}}return e}var Ae=function(e,t,n){var r=e.start;if(o("punc",".")){a(),o("privatename")&&!i.in_class&&c("Private field must be used in an enclosing class");const s=o("privatename")?Bt:Ct;return ke(Ae(new s({start:r,expression:e,optional:!1,property:ge(),end:u()}),t,n))}if(o("punc","[")){a();var s=Xt(!0);return h("]"),ke(Ae(new St({start:r,expression:e,optional:!1,property:s,end:u()}),t,n))}if(t&&o("punc","(")){a();var f=new Et({start:r,expression:e,optional:!1,args:Be(),end:u()});return ke(f),Ae(f,!0,n)}if(o("punc","?.")){let n;if(a(),t&&o("punc","(")){a();const t=new Et({start:r,optional:!0,expression:e,args:Be(),end:u()});ke(t),n=Ae(t,!0,!0)}else if(o("name")||o("privatename")){o("privatename")&&!i.in_class&&c("Private field must be used in an enclosing class");const s=o("privatename")?Bt:Ct;n=ke(Ae(new s({start:r,expression:e,optional:!0,property:ge(),end:u()}),t,!0))}else if(o("punc","[")){a();const i=Xt(!0);h("]"),n=ke(Ae(new St({start:r,expression:e,optional:!0,property:i,end:u()}),t,!0))}return n||l(),n instanceof Tt?n:new Tt({start:r,expression:n,end:u()})}return o("template_head")?(n&&l(),Ae(new Ge({start:r,prefix:e,template_string:J(),end:u()}),t)):e};function Be(){for(var e=[];!o("punc",")");)o("expand","...")?(a(),e.push(new je({start:u(),expression:Xt(!1),end:u()}))):e.push(Xt(!1)),o("punc",")")||h(",");return a(),e}var qe=function(e,t){var n=i.token;if("name"==n.type&&"await"==n.value&&v())return a(),v()||c("Unexpected await expression outside async function",i.prev.line,i.prev.col,i.prev.pos),new rt({start:u(),end:i.token,expression:qe(!0)});if(o("operator")&&ue.has(n.value)){a(),D();var r=Pe($t,n,qe(e));return r.start=n,r.end=u(),r}for(var s=X(e,t);o("operator")&&ce.has(i.token.value)&&!d(i.token);)s instanceof Ve&&l(),(s=Pe(zt,i.token,s)).start=n,s.end=i.token,a();return s};function Pe(e,t,n){var r=t.value;switch(r){case"++":case"--":Ke(n)||c("Invalid use of "+r+" operator",t.line,t.col,t.pos);break;case"delete":n instanceof Dn&&i.input.has_directive("use strict")&&c("Calling delete on expression not allowed in strict mode",n.start.line,n.start.col,n.start.pos)}return new e({operator:r,expression:n})}var Re=function(e,t,n){var r=o("operator")?i.token.value:null;"in"==r&&n&&(r=null),"**"==r&&e instanceof $t&&!oe(e.start,"punc","(")&&"--"!==e.operator&&"++"!==e.operator&&l(e.start);var s=null!=r?pe[r]:null;if(null!=s&&(s>t||"**"===r&&t===s)){a();var u=Ze(n,s,!0);return Re(new Ot({start:e.start,left:e,operator:r,right:u,end:u.end}),t,n)}return e};function Ze(e,t,n,r){if(!e&&t<pe.in&&o("privatename")){i.in_class||c("Private field must be used in an enclosing class");const t=i.token,n=new kn({start:t,name:t.value,end:t});a(),p("operator","in");const r=new Kt({start:t,key:n,value:Ze(e,pe.in,!0),end:u()});return Re(r,0,e)}return Re(qe(n,r),t,e)}function Ke(e){return e instanceof Ft||e instanceof Dn}function tt(e){if(e instanceof Ht)e=new We({start:e.start,names:e.properties.map(tt),is_array:!1,end:e.end});else if(e instanceof Pt){for(var t=[],n=0;n<e.elements.length;n++)e.elements[n]instanceof je&&(n+1!==e.elements.length&&f(e.elements[n].start,"Spread must the be last element in destructuring array"),e.elements[n].expression=tt(e.elements[n].expression)),t.push(tt(e.elements[n]));e=new We({start:e.start,names:t,is_array:!0,end:e.end})}else e instanceof jt?e.value=tt(e.value):e instanceof It&&(e=new Nt({start:e.start,left:e.left,operator:"=",right:e.right,end:e.end}));return e}var ut=function(e){D();var t=i.token;if("name"==t.type&&"yield"==t.value){if(m())return a(),function(){var e=i.token,t=!1,n=!0;return _()||o("punc")&&L.has(i.token.value)||o("template_cont")?n=!1:o("operator","*")&&(t=!0,a()),new ot({start:e,is_star:t,expression:n?Xt():null,end:u()})}();i.input.has_directive("use strict")&&f(i.token,"Unexpected yield identifier inside strict mode")}var n=function(e){var t=i.token,n=Ze(e,0,!0,!0);if(o("operator","?")){a();var r=Xt(!1);return h(":"),new Mt({start:t,condition:n,consequent:r,alternative:Xt(!1,e),end:u()})}return n}(e),r=i.token.value;if(o("operator")&&fe.has(r)){if(Ke(n)||(n=tt(n))instanceof We)return a(),new It({start:t,left:n,operator:r,right:ut(e),logical:le.has(r),end:u()});c("Invalid assignment")}return n},qt=function(e,t){return 1===t.length?t[0]:t.length>1?new At({start:e,expressions:t,end:s()}):void c("Invalid parenthesized expression")},Xt=function(e,t){for(var n=i.token,r=[];r.push(ut(t)),e&&o("punc",",");)a(),e=!0;return qt(n,r)};function nn(e){++i.in_loop;var t=e();return--i.in_loop,t}return t.expression?Xt(!0):function(){var e=i.token,n=[];for(i.input.push_directives_stack(),t.module&&i.input.add_directive("use strict");!o("eof");)n.push(x());i.input.pop_directives_stack();var r=u(),s=t.toplevel;return s?(s.body=s.body.concat(n),s.end=r):s=new He({start:e,body:n,end:r}),F=new Map,s}()}function _e(e,t,n,i,r=ye){var o=t=t?t.split(/\s+/):[];r&&r.PROPS&&(t=t.concat(r.PROPS));const s=r&&Object.create(r.prototype);if(s&&(n.prototype=s,n.BASE=r),r&&r.SUBCLASSES.push(n),n.prototype.CTOR=n,n.prototype.constructor=n,n.PROPS=t||null,n.SELF_PROPS=o,n.SUBCLASSES=[],e&&(n.prototype.TYPE=n.TYPE=e),i)for(let e in i)g(i,e)&&("$"===e[0]?n[e.substr(1)]=i[e]:n.prototype[e]=i[e]);return n.DEFMETHOD=function(e,t){this.prototype[e]=t},n}const me=(e,t)=>Boolean(e.flags&t),ve=(e,t,n)=>{n?e.flags|=t:e.flags&=~t};class ge{constructor(e,t,n,i,r,o,s,a,u){this.flags=o?1:0,this.type=e,this.value=t,this.line=n,this.col=i,this.pos=r,this.comments_before=s,this.comments_after=a,this.file=u,Object.seal(this)}[Symbol.for("nodejs.util.inspect.custom")](e,t){const n=e=>t.stylize(e,"special"),i="string"==typeof this.value&&this.value.includes("`")?"'":"`",r=`${i}${this.value}${i}`;return`${n("[AST_Token")} ${r} at ${this.line}:${this.col}${n("]")}`}get nlb(){return me(this,1)}set nlb(e){ve(this,1,e)}get quote(){return me(this,4)?me(this,2)?"'":'"':""}set quote(e){ve(this,2,"'"===e),ve(this,4,!!e)}get template_end(){return me(this,8)}set template_end(e){ve(this,8,e)}}var ye=_e("Node","start end",function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{_clone:function(e){if(e){var t=this.clone();return t.transform(new Yn(function(e){if(e!==t)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)},_children_backwards:()=>{}},null),be=_e("Statement",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class of all statements"}),De=_e("Debugger",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Represents a debugger statement"},be),xe=_e("Directive","value quote",function(e){e&&(this.value=e.value,this.quote=e.quote,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"}},be),we=_e("SimpleStatement","body",function(e){e&&(this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})},_children_backwards(e){e(this.body)}},be);function Ee(e,t){const n=e.body;for(var i=0,r=n.length;i<r;i++)n[i]._walk(t)}function ke(e){var t=this._clone(e);return this.block_scope&&(t.block_scope=this.block_scope.clone()),t}var Ae=_e("Block","body block_scope",function(e){e&&(this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements",block_scope:"[AST_Scope] the block scope"},_walk:function(e){return e._visit(this,function(){Ee(this,e)})},_children_backwards(e){let t=this.body.length;for(;t--;)e(this.body[t])},clone:ke},be),Fe=_e("BlockStatement",null,function(e){e&&(this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A block statement"},Ae),Ce=_e("EmptyStatement",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The empty statement (empty block or simply a semicolon)"},be),Be=_e("StatementWithBody","body",function(e){e&&(this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"}},be),Se=_e("LabeledStatement","label",function(e){e&&(this.label=e.label,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})},_children_backwards(e){e(this.body),e(this.label)},clone:function(e){var t=this._clone(e);if(e){var n=t.label,i=this.label;t.walk(new Vn(function(e){e instanceof tt&&e.label&&e.label.thedef===i&&(e.label.thedef=n,n.references.push(e))}))}return t}},Be),Te=_e("IterationStatement","block_scope",function(e){e&&(this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Internal class.  All loops inherit from it.",$propdoc:{block_scope:"[AST_Scope] the block scope for this iteration statement."},clone:ke},Be),qe=_e("DWLoop","condition",function(e){e&&(this.condition=e.condition,this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},Te),$e=_e("Do",null,function(e){e&&(this.condition=e.condition,this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})},_children_backwards(e){e(this.condition),e(this.body)}},qe),ze=_e("While",null,function(e){e&&(this.condition=e.condition,this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})},_children_backwards(e){e(this.body),e(this.condition)}},qe),Oe=_e("For","init condition step",function(e){e&&(this.init=e.init,this.condition=e.condition,this.step=e.step,this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})},_children_backwards(e){e(this.body),this.step&&e(this.step),this.condition&&e(this.condition),this.init&&e(this.init)}},Te),Me=_e("ForIn","init object",function(e){e&&(this.init=e.init,this.object=e.object,this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})},_children_backwards(e){e(this.body),this.object&&e(this.object),this.init&&e(this.init)}},Te),Ie=_e("ForOf","await",function(e){e&&(this.await=e.await,this.init=e.init,this.object=e.object,this.block_scope=e.block_scope,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `for ... of` statement"},Me),Ne=_e("With","expression",function(e){e&&(this.expression=e.expression,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})},_children_backwards(e){e(this.body),e(this.expression)}},Be),Pe=_e("Scope","variables uses_with uses_eval parent_scope enclosed cname",function(e){e&&(this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{variables:"[Map/S] a map of name -> SymbolDef for all variables/functions defined in this scope",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"},get_defun_scope:function(){for(var e=this;e.is_block_scope();)e=e.parent_scope;return e},clone:function(e,t){var n=this._clone(e);return e&&this.variables&&t&&!this._block_scope?n.figure_out_scope({},{toplevel:t,parent_scope:this.parent_scope}):(this.variables&&(n.variables=new Map(this.variables)),this.enclosed&&(n.enclosed=this.enclosed.slice()),this._block_scope&&(n._block_scope=this._block_scope)),n},pinned:function(){return this.uses_eval||this.uses_with}},Ae),He=_e("Toplevel","globals",function(e){e&&(this.globals=e.globals,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The toplevel scope",$propdoc:{globals:"[Map/S] a map of name -> SymbolDef for all undeclared names"},wrap_commonjs:function(e){var t=this.body,n="(function(exports){'$ORIG';})(typeof "+e+"=='undefined'?("+e+"={}):"+e+");";return(n=de(n)).transform(new Yn(function(e){if(e instanceof xe&&"$ORIG"==e.value)return f.splice(t)}))},wrap_enclose:function(e){"string"!=typeof e&&(e="");var t=e.indexOf(":");t<0&&(t=e.length);var n=this.body;return de(["(function(",e.slice(0,t),'){"$ORIG"})(',e.slice(t+1),")"].join("")).transform(new Yn(function(e){if(e instanceof xe&&"$ORIG"==e.value)return f.splice(n)}))}},Pe),je=_e("Expansion","expression",function(e){e&&(this.expression=e.expression,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An expandible argument, such as ...rest, a splat, such as [1,2,...all], or an expansion in a variable declaration, such as var [first, ...rest] = list",$propdoc:{expression:"[AST_Node] the thing to be expanded"},_walk:function(e){return e._visit(this,function(){this.expression.walk(e)})},_children_backwards(e){e(this.expression)}}),Re=_e("Lambda","name argnames uses_arguments is_generator async",function(e){e&&(this.name=e.name,this.argnames=e.argnames,this.uses_arguments=e.uses_arguments,this.is_generator=e.is_generator,this.async=e.async,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg|AST_Destructuring|AST_Expansion|AST_DefaultAssign*] array of function arguments, destructurings, or expanding arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array",is_generator:"[boolean] is this a generator method",async:"[boolean] is this method async"},args_as_names:function(){for(var e=[],t=0;t<this.argnames.length;t++)this.argnames[t]instanceof We?e.push(...this.argnames[t].all_symbols()):e.push(this.argnames[t]);return e},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e);for(var t=this.argnames,n=0,i=t.length;n<i;n++)t[n]._walk(e);Ee(this,e)})},_children_backwards(e){let t=this.body.length;for(;t--;)e(this.body[t]);for(t=this.argnames.length;t--;)e(this.argnames[t]);this.name&&e(this.name)},is_braceless(){return this.body[0]instanceof Qe&&this.body[0].value},length_property(){let e=0;for(const t of this.argnames)(t instanceof fn||t instanceof We)&&e++;return e}},Pe),Le=_e("Accessor",null,function(e){e&&(this.name=e.name,this.argnames=e.argnames,this.uses_arguments=e.uses_arguments,this.is_generator=e.is_generator,this.async=e.async,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A setter/getter function.  The `name` property is always null."},Re),Ue=_e("Function",null,function(e){e&&(this.name=e.name,this.argnames=e.argnames,this.uses_arguments=e.uses_arguments,this.is_generator=e.is_generator,this.async=e.async,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A function expression"},Re),Ve=_e("Arrow",null,function(e){e&&(this.name=e.name,this.argnames=e.argnames,this.uses_arguments=e.uses_arguments,this.is_generator=e.is_generator,this.async=e.async,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An ES6 Arrow function ((a) => b)"},Re),Ye=_e("Defun",null,function(e){e&&(this.name=e.name,this.argnames=e.argnames,this.uses_arguments=e.uses_arguments,this.is_generator=e.is_generator,this.async=e.async,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A function definition"},Re),We=_e("Destructuring","names is_array",function(e){e&&(this.names=e.names,this.is_array=e.is_array,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A destructuring of several names. Used in destructuring assignment and with destructuring function argument names",$propdoc:{names:"[AST_Node*] Array of properties or elements",is_array:"[Boolean] Whether the destructuring represents an object or array"},_walk:function(e){return e._visit(this,function(){this.names.forEach(function(t){t._walk(e)})})},_children_backwards(e){let t=this.names.length;for(;t--;)e(this.names[t])},all_symbols:function(){var e=[];return Rn(this,t=>{if(t instanceof on&&e.push(t),t instanceof Re)return!0}),e}}),Ge=_e("PrefixedTemplateString","template_string prefix",function(e){e&&(this.template_string=e.template_string,this.prefix=e.prefix,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A templatestring with a prefix, such as String.raw`foobarbaz`",$propdoc:{template_string:"[AST_TemplateString] The template string",prefix:"[AST_Node] The prefix, which will get called."},_walk:function(e){return e._visit(this,function(){this.prefix._walk(e),this.template_string._walk(e)})},_children_backwards(e){e(this.template_string),e(this.prefix)}}),Xe=_e("TemplateString","segments",function(e){e&&(this.segments=e.segments,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A template string literal",$propdoc:{segments:"[AST_Node*] One or more segments, starting with AST_TemplateSegment. AST_Node may follow AST_TemplateSegment, but each AST_Node must be followed by AST_TemplateSegment."},_walk:function(e){return e._visit(this,function(){this.segments.forEach(function(t){t._walk(e)})})},_children_backwards(e){let t=this.segments.length;for(;t--;)e(this.segments[t])}}),Je=_e("TemplateSegment","value raw",function(e){e&&(this.value=e.value,this.raw=e.raw,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A segment of a template string literal",$propdoc:{value:"Content of the segment",raw:"Raw source of the segment"}}),Ze=_e("Jump",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},be),Ke=_e("Exit","value",function(e){e&&(this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})},_children_backwards(e){this.value&&e(this.value)}},Ze),Qe=_e("Return",null,function(e){e&&(this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `return` statement"},Ke),et=_e("Throw",null,function(e){e&&(this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `throw` statement"},Ke),tt=_e("LoopControl","label",function(e){e&&(this.label=e.label,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})},_children_backwards(e){this.label&&e(this.label)}},Ze),nt=_e("Break",null,function(e){e&&(this.label=e.label,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `break` statement"},tt),it=_e("Continue",null,function(e){e&&(this.label=e.label,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `continue` statement"},tt),rt=_e("Await","expression",function(e){e&&(this.expression=e.expression,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An `await` statement",$propdoc:{expression:"[AST_Node] the mandatory expression being awaited"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})},_children_backwards(e){e(this.expression)}}),ot=_e("Yield","expression is_star",function(e){e&&(this.expression=e.expression,this.is_star=e.is_star,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `yield` statement",$propdoc:{expression:"[AST_Node?] the value returned or thrown by this statement; could be null (representing undefined) but only when is_star is set to false",is_star:"[Boolean] Whether this is a yield or yield* statement"},_walk:function(e){return e._visit(this,this.expression&&function(){this.expression._walk(e)})},_children_backwards(e){this.expression&&e(this.expression)}}),st=_e("If","condition alternative",function(e){e&&(this.condition=e.condition,this.alternative=e.alternative,this.body=e.body,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})},_children_backwards(e){this.alternative&&e(this.alternative),e(this.body),e(this.condition)}},Be),at=_e("Switch","expression",function(e){e&&(this.expression=e.expression,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),Ee(this,e)})},_children_backwards(e){let t=this.body.length;for(;t--;)e(this.body[t]);e(this.expression)}},Ae),ut=_e("SwitchBranch",null,function(e){e&&(this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for `switch` branches"},Ae),ct=_e("Default",null,function(e){e&&(this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `default` switch branch"},ut),ft=_e("Case","expression",function(e){e&&(this.expression=e.expression,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),Ee(this,e)})},_children_backwards(e){let t=this.body.length;for(;t--;)e(this.body[t]);e(this.expression)}},ut),lt=_e("Try","body bcatch bfinally",function(e){e&&(this.body=e.body,this.bcatch=e.bcatch,this.bfinally=e.bfinally,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `try` statement",$propdoc:{body:"[AST_TryBlock] the try block",bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})},_children_backwards(e){this.bfinally&&e(this.bfinally),this.bcatch&&e(this.bcatch),e(this.body)}},be),pt=_e("TryBlock",null,function(e){e&&(this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `try` block of a try statement"},Ae),ht=_e("Catch","argname",function(e){e&&(this.argname=e.argname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch|AST_Destructuring|AST_Expansion|AST_DefaultAssign] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname&&this.argname._walk(e),Ee(this,e)})},_children_backwards(e){let t=this.body.length;for(;t--;)e(this.body[t]);this.argname&&e(this.argname)}},Ae),dt=_e("Finally",null,function(e){e&&(this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},Ae),_t=_e("Definitions","definitions",function(e){e&&(this.definitions=e.definitions,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){for(var t=this.definitions,n=0,i=t.length;n<i;n++)t[n]._walk(e)})},_children_backwards(e){let t=this.definitions.length;for(;t--;)e(this.definitions[t])}},be),mt=_e("Var",null,function(e){e&&(this.definitions=e.definitions,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `var` statement"},_t),vt=_e("Let",null,function(e){e&&(this.definitions=e.definitions,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `let` statement"},_t),gt=_e("Const",null,function(e){e&&(this.definitions=e.definitions,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A `const` statement"},_t),yt=_e("VarDef","name value",function(e){e&&(this.name=e.name,this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructuring|AST_SymbolConst|AST_SymbolLet|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})},_children_backwards(e){this.value&&e(this.value),e(this.name)},declarations_as_names(){return this.name instanceof on?[this]:this.name.all_symbols()}}),bt=_e("NameMapping","foreign_name name",function(e){e&&(this.foreign_name=e.foreign_name,this.name=e.name,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The part of the export/import statement that declare names from a module.",$propdoc:{foreign_name:"[AST_SymbolExportForeign|AST_SymbolImportForeign] The name being exported/imported (as specified in the module)",name:"[AST_SymbolExport|AST_SymbolImport] The name as it is visible to this module."},_walk:function(e){return e._visit(this,function(){this.foreign_name._walk(e),this.name._walk(e)})},_children_backwards(e){e(this.name),e(this.foreign_name)}}),Dt=_e("Import","imported_name imported_names module_name attributes",function(e){e&&(this.imported_name=e.imported_name,this.imported_names=e.imported_names,this.module_name=e.module_name,this.attributes=e.attributes,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An `import` statement",$propdoc:{imported_name:"[AST_SymbolImport] The name of the variable holding the module's default export.",imported_names:"[AST_NameMapping*] The names of non-default imported variables",module_name:"[AST_String] String literal describing where this module came from",attributes:"[AST_Object?] The import attributes (with {...})"},_walk:function(e){return e._visit(this,function(){this.imported_name&&this.imported_name._walk(e),this.imported_names&&this.imported_names.forEach(function(t){t._walk(e)}),this.module_name._walk(e)})},_children_backwards(e){if(e(this.module_name),this.imported_names){let t=this.imported_names.length;for(;t--;)e(this.imported_names[t])}this.imported_name&&e(this.imported_name)}}),xt=_e("ImportMeta",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A reference to import.meta"}),wt=_e("Export","exported_definition exported_value is_default exported_names module_name attributes",function(e){e&&(this.exported_definition=e.exported_definition,this.exported_value=e.exported_value,this.is_default=e.is_default,this.exported_names=e.exported_names,this.module_name=e.module_name,this.attributes=e.attributes,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An `export` statement",$propdoc:{exported_definition:"[AST_Defun|AST_Definitions|AST_DefClass?] An exported definition",exported_value:"[AST_Node?] An exported value",exported_names:"[AST_NameMapping*?] List of exported names",module_name:"[AST_String?] Name of the file to load exports from",is_default:"[Boolean] Whether this is the default exported value of this module",attributes:"[AST_Object?] The import attributes"},_walk:function(e){return e._visit(this,function(){this.exported_definition&&this.exported_definition._walk(e),this.exported_value&&this.exported_value._walk(e),this.exported_names&&this.exported_names.forEach(function(t){t._walk(e)}),this.module_name&&this.module_name._walk(e)})},_children_backwards(e){if(this.module_name&&e(this.module_name),this.exported_names){let t=this.exported_names.length;for(;t--;)e(this.exported_names[t])}this.exported_value&&e(this.exported_value),this.exported_definition&&e(this.exported_definition)}},be),Et=_e("Call","expression args optional _annotations",function(e){e&&(this.expression=e.expression,this.args=e.args,this.optional=e.optional,this._annotations=e._annotations,this.start=e.start,this.end=e.end,this.initialize()),this.flags=0},{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments",optional:"[boolean] whether this is an optional call (IE ?.() )",_annotations:"[number] bitfield containing information about the call"},initialize(){null==this._annotations&&(this._annotations=0)},_walk(e){return e._visit(this,function(){for(var t=this.args,n=0,i=t.length;n<i;n++)t[n]._walk(e);this.expression._walk(e)})},_children_backwards(e){let t=this.args.length;for(;t--;)e(this.args[t]);e(this.expression)}}),kt=_e("New",null,function(e){e&&(this.expression=e.expression,this.args=e.args,this.optional=e.optional,this._annotations=e._annotations,this.start=e.start,this.end=e.end,this.initialize()),this.flags=0},{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},Et),At=_e("Sequence","expressions",function(e){e&&(this.expressions=e.expressions,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_walk:function(e){return e._visit(this,function(){this.expressions.forEach(function(t){t._walk(e)})})},_children_backwards(e){let t=this.expressions.length;for(;t--;)e(this.expressions[t])}}),Ft=_e("PropAccess","expression property optional",function(e){e&&(this.expression=e.expression,this.property=e.property,this.optional=e.optional,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot & AST_DotHash this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",optional:"[boolean] whether this is an optional property access (IE ?.)"}}),Ct=_e("Dot","quote",function(e){e&&(this.quote=e.quote,this.expression=e.expression,this.property=e.property,this.optional=e.optional,this._annotations=e._annotations,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A dotted property access expression",$propdoc:{quote:"[string] the original quote character when transformed from AST_Sub"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})},_children_backwards(e){e(this.expression)}},Ft),Bt=_e("DotHash","",function(e){e&&(this.expression=e.expression,this.property=e.property,this.optional=e.optional,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A dotted property access to a private property",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})},_children_backwards(e){e(this.expression)}},Ft),St=_e("Sub",null,function(e){e&&(this.expression=e.expression,this.property=e.property,this.optional=e.optional,this._annotations=e._annotations,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})},_children_backwards(e){e(this.property),e(this.expression)}},Ft),Tt=_e("Chain","expression",function(e){e&&(this.expression=e.expression,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A chain expression like a?.b?.(c)?.[d]",$propdoc:{expression:"[AST_Call|AST_Dot|AST_DotHash|AST_Sub] chain element."},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})},_children_backwards(e){e(this.expression)}}),qt=_e("Unary","operator expression",function(e){e&&(this.operator=e.operator,this.expression=e.expression,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})},_children_backwards(e){e(this.expression)}}),$t=_e("UnaryPrefix",null,function(e){e&&(this.operator=e.operator,this.expression=e.expression,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},qt),zt=_e("UnaryPostfix",null,function(e){e&&(this.operator=e.operator,this.expression=e.expression,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Unary postfix expression, i.e. `i++`"},qt),Ot=_e("Binary","operator left right",function(e){e&&(this.operator=e.operator,this.left=e.left,this.right=e.right,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})},_children_backwards(e){e(this.right),e(this.left)}}),Mt=_e("Conditional","condition consequent alternative",function(e){e&&(this.condition=e.condition,this.consequent=e.consequent,this.alternative=e.alternative,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})},_children_backwards(e){e(this.alternative),e(this.consequent),e(this.condition)}}),It=_e("Assign","logical",function(e){e&&(this.logical=e.logical,this.operator=e.operator,this.left=e.left,this.right=e.right,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An assignment expression — `a = b + 5`",$propdoc:{logical:"Whether it's a logical assignment"}},Ot),Nt=_e("DefaultAssign",null,function(e){e&&(this.operator=e.operator,this.left=e.left,this.right=e.right,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A default assignment expression like in `(a = 3) => a`"},Ot),Pt=_e("Array","elements",function(e){e&&(this.elements=e.elements,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){for(var t=this.elements,n=0,i=t.length;n<i;n++)t[n]._walk(e)})},_children_backwards(e){let t=this.elements.length;for(;t--;)e(this.elements[t])}}),Ht=_e("Object","properties",function(e){e&&(this.properties=e.properties,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){for(var t=this.properties,n=0,i=t.length;n<i;n++)t[n]._walk(e)})},_children_backwards(e){let t=this.properties.length;for(;t--;)e(this.properties[t])}}),jt=_e("ObjectProperty","key value",function(e){e&&(this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name. For ObjectKeyVal this is a string. For getters, setters and computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters, setters and methods this is an AST_Accessor."},_walk:function(e){return e._visit(this,function(){this.key instanceof ye&&this.key._walk(e),this.value._walk(e)})},_children_backwards(e){e(this.value),this.key instanceof ye&&e(this.key)}}),Rt=_e("ObjectKeyVal","quote",function(e){e&&(this.quote=e.quote,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"},computed_key(){return this.key instanceof ye}},jt),Lt=_e("PrivateSetter","static",function(e){e&&(this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$propdoc:{static:"[boolean] whether this is a static private setter"},$documentation:"A private setter property",computed_key:()=>!1},jt),Ut=_e("PrivateGetter","static",function(e){e&&(this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$propdoc:{static:"[boolean] whether this is a static private getter"},$documentation:"A private getter property",computed_key:()=>!1},jt),Vt=_e("ObjectSetter","quote static",function(e){e&&(this.quote=e.quote,this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] whether this is a static setter (classes only)"},$documentation:"An object setter property",computed_key(){return!(this.key instanceof pn)}},jt),Yt=_e("ObjectGetter","quote static",function(e){e&&(this.quote=e.quote,this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] whether this is a static getter (classes only)"},$documentation:"An object getter property",computed_key(){return!(this.key instanceof pn)}},jt),Wt=_e("ConciseMethod","quote static",function(e){e&&(this.quote=e.quote,this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] is this method static (classes only)"},$documentation:"An ES6 concise method inside an object or class",computed_key(){return!(this.key instanceof pn)}},jt),Gt=_e("PrivateMethod","static",function(e){e&&(this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A private class method inside a class",$propdoc:{static:"[boolean] is this a static private method"},computed_key:()=>!1},jt),Xt=_e("Class","name extends properties",function(e){e&&(this.name=e.name,this.extends=e.extends,this.properties=e.properties,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$propdoc:{name:"[AST_SymbolClass|AST_SymbolDefClass?] optional class name.",extends:"[AST_Node]? optional parent class",properties:"[AST_ObjectProperty|AST_ClassStaticBlock]* array of properties or static blocks"},$documentation:"An ES6 class",_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e),this.extends&&this.extends._walk(e),this.properties.forEach(t=>t._walk(e))})},_children_backwards(e){let t=this.properties.length;for(;t--;)e(this.properties[t]);this.extends&&e(this.extends),this.name&&e(this.name)},visit_nondeferred_class_parts(e){this.extends&&this.extends._walk(e),this.properties.forEach(t=>{t instanceof en?t._walk(e):(t.computed_key()&&(e.push(t),t.key._walk(e),e.pop()),(t instanceof Zt&&t.static&&t.value||t instanceof Jt&&t.static&&t.value)&&(e.push(t),t.value._walk(e),e.pop()))})},visit_deferred_class_parts(e){this.properties.forEach(t=>{t instanceof Wt||t instanceof Gt?t.walk(e):(t instanceof Jt&&!t.static&&t.value||t instanceof Zt&&!t.static&&t.value)&&(e.push(t),t.value._walk(e),e.pop())})},is_self_referential:function(){const e=this.name&&this.name.definition().id;let t=!1,n=!0;return this.visit_nondeferred_class_parts(new Vn((i,r)=>{if(t)return!0;if(i instanceof An)return t=n;if(i instanceof Dn)return t=i.definition().id===e;if(i instanceof Re&&!(i instanceof Ve)){const e=n;return n=!1,r(),n=e,!0}})),t}},Pe),Jt=_e("ClassProperty","static quote",function(e){e&&(this.static=e.static,this.quote=e.quote,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$documentation:"A class property",$propdoc:{static:"[boolean] whether this is a static key",quote:"[string] which quote is being used"},_walk:function(e){return e._visit(this,function(){this.key instanceof ye&&this.key._walk(e),this.value instanceof ye&&this.value._walk(e)})},_children_backwards(e){this.value instanceof ye&&e(this.value),this.key instanceof ye&&e(this.key)},computed_key(){return!(this.key instanceof hn)}},jt),Zt=_e("ClassPrivateProperty","",function(e){e&&(this.static=e.static,this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A class property for a private property",_walk:function(e){return e._visit(this,function(){this.value instanceof ye&&this.value._walk(e)})},_children_backwards(e){this.value instanceof ye&&e(this.value)},computed_key:()=>!1},jt),Kt=_e("PrivateIn","key value",function(e){e&&(this.key=e.key,this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"An `in` binop when the key is private, eg #x in this",_walk:function(e){return e._visit(this,function(){this.key._walk(e),this.value._walk(e)})},_children_backwards(e){e(this.value),e(this.key)}}),Qt=_e("DefClass",null,function(e){e&&(this.name=e.name,this.extends=e.extends,this.properties=e.properties,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A class definition"},Xt),en=_e("ClassStaticBlock","body block_scope",function(e){this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end},{$documentation:"A block containing statements to be executed in the context of the class",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){Ee(this,e)})},_children_backwards(e){let t=this.body.length;for(;t--;)e(this.body[t])},clone:ke,computed_key:()=>!1},Pe),tn=_e("ClassExpression",null,function(e){e&&(this.name=e.name,this.extends=e.extends,this.properties=e.properties,this.variables=e.variables,this.uses_with=e.uses_with,this.uses_eval=e.uses_eval,this.parent_scope=e.parent_scope,this.enclosed=e.enclosed,this.cname=e.cname,this.body=e.body,this.block_scope=e.block_scope,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A class expression."},Xt),nn=_e("Symbol","scope name thedef",function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),rn=_e("NewTarget",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A reference to new.target"}),on=_e("SymbolDeclaration","init",function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)"},nn),sn=_e("SymbolVar",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol defining a variable"},on),an=_e("SymbolBlockDeclaration",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for block-scoped declaration symbols"},on),un=_e("SymbolConst",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A constant declaration"},an),cn=_e("SymbolLet",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A block-scoped `let` declaration"},an),fn=_e("SymbolFunarg",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol naming a function argument"},sn),ln=_e("SymbolDefun",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol defining a function"},on),pn=_e("SymbolMethod",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol in an object defining a method"},nn),hn=_e("SymbolClassProperty",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol for a class property"},nn),dn=_e("SymbolLambda",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol naming a function expression"},on),_n=_e("SymbolDefClass",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol naming a class's name in a class declaration. Lexically scoped to its containing scope, and accessible within the class."},an),mn=_e("SymbolClass",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol naming a class's name. Lexically scoped to the class."},on),vn=_e("SymbolCatch",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol naming the exception in catch"},an),gn=_e("SymbolImport",null,function(e){e&&(this.init=e.init,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol referring to an imported name"},an),yn=_e("SymbolImportForeign","quote",function(e){e&&(this.quote=e.quote,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A symbol imported from a module, but it is defined in the other module, and its real name is irrelevant for this module's purposes"},nn),bn=_e("Label","references",function(e){e&&(this.references=e.references,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end,this.initialize()),this.flags=0},{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},nn),Dn=_e("SymbolRef",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Reference to some symbol (not definition/declaration)"},nn),xn=_e("SymbolExport","quote",function(e){e&&(this.quote=e.quote,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Symbol referring to a name to export"},Dn),wn=_e("SymbolExportForeign","quote",function(e){e&&(this.quote=e.quote,this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A symbol exported from this module, but it is used in the other module, and its real name is irrelevant for this module's purposes"},nn),En=_e("LabelRef",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Reference to a label symbol"},nn),kn=_e("SymbolPrivateProperty",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A symbol that refers to a private property"},nn),An=_e("This",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `this` symbol"},nn),Fn=_e("Super",null,function(e){e&&(this.scope=e.scope,this.name=e.name,this.thedef=e.thedef,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `super` symbol"},An),Cn=_e("Constant",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for all constants",getValue:function(){return this.value}}),Bn=_e("String","value quote",function(e){e&&(this.value=e.value,this.quote=e.quote,this.start=e.start,this.end=e.end,this._annotations=e._annotations),this.flags=0},{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},Cn),Sn=_e("Number","value raw",function(e){e&&(this.value=e.value,this.raw=e.raw,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",raw:"[string] numeric value as string"}},Cn),Tn=_e("BigInt","value raw",function(e){e&&(this.value=e.value,this.raw=e.raw,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A big int literal",$propdoc:{value:"[string] big int value, represented as a string",raw:"[string] the original format preserved"}},Cn),qn=_e("RegExp","value",function(e){e&&(this.value=e.value,this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},Cn),$n=_e("Atom",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for atoms"},Cn),zn=_e("Null",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `null` atom",value:null},$n),On=_e("NaN",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The impossible value",value:NaN},$n),Mn=_e("Undefined",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `undefined` value",value:void 0},$n),In=_e("Hole",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"A hole in an array",value:void 0},$n),Nn=_e("Infinity",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `Infinity` value",value:1/0},$n),Pn=_e("Boolean",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"Base class for booleans"},$n),Hn=_e("False",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `false` atom",value:!1},Pn),jn=_e("True",null,function(e){e&&(this.start=e.start,this.end=e.end),this.flags=0},{$documentation:"The `true` atom",value:!0},Pn);function Rn(e,t,n=[e]){const i=n.push.bind(n);for(;n.length;){const e=n.pop(),r=t(e,n);if(r){if(r===Un)return!0}else e._children_backwards(i)}return!1}function Ln(e,t,n){const i=[e],r=i.push.bind(i),o=n?n.slice():[],s=[];let a;const u={parent:(e=0)=>-1===e?a:n&&e>=o.length?(e-=o.length,n[n.length-(e+1)]):o[o.length-(1+e)]};for(;i.length;){for(a=i.pop();s.length&&i.length==s[s.length-1];)o.pop(),s.pop();const e=t(a,u);if(e){if(e===Un)return!0;continue}const n=i.length;a._children_backwards(r),i.length>n&&(o.push(a),s.push(n-1))}return!1}const Un=Symbol("abort walk");class Vn{constructor(e){this.visit=e,this.stack=[],this.directives=Object.create(null)}_visit(e,t){this.push(e);var n=this.visit(e,t?function(){t.call(e)}:o);return!n&&t&&t.call(e),this.pop(),n}parent(e){return this.stack[this.stack.length-2-(e||0)]}push(e){e instanceof Re?this.directives=Object.create(this.directives):e instanceof xe&&!this.directives[e.value]?this.directives[e.value]=e:e instanceof Xt&&(this.directives=Object.create(this.directives),this.directives["use strict"]||(this.directives["use strict"]=e)),this.stack.push(e)}pop(){var e=this.stack.pop();(e instanceof Re||e instanceof Xt)&&(this.directives=Object.getPrototypeOf(this.directives))}self(){return this.stack[this.stack.length-1]}find_parent(e){for(var t=this.stack,n=t.length;--n>=0;){var i=t[n];if(i instanceof e)return i}}is_within_loop(){let e=this.stack.length-1,t=this.stack[e];for(;e--;){const n=this.stack[e];if(n instanceof Re)return!1;if(n instanceof Te&&!(n instanceof Oe&&t===n.init)&&(!(n instanceof Me||n instanceof Ie)||t!==n.object))return!0;t=n}return!1}find_scope(){for(var e=this.stack,t=e.length;--t>=0;){const n=e[t];if(n instanceof He)return n;if(n instanceof Re)return n;if(n.block_scope)return n.block_scope}}has_directive(e){var t=this.directives[e];if(t)return t;var n=this.stack[this.stack.length-1];if(n instanceof Pe&&n.body)for(var i=0;i<n.body.length;++i){var r=n.body[i];if(!(r instanceof xe))break;if(r.value==e)return r}}loopcontrol_target(e){var t=this.stack;if(e.label){for(var n=t.length;--n>=0;)if((i=t[n])instanceof Se&&i.label.name==e.label.name)return i.body}else for(n=t.length;--n>=0;){var i;if((i=t[n])instanceof Te||e instanceof nt&&i instanceof at)return i}}}class Yn extends Vn{constructor(e,t){super(),this.before=e,this.after=t}}const Wn=1,Gn=2,Xn=4,Jn=8,Zn=16;function Kn(e,t){e.DEFMETHOD("transform",function(e,n){let i;if(e.push(this),e.before&&(i=e.before(this,t,n)),void 0===i&&(i=this,t(i,e),e.after)){const t=e.after(i,n);void 0!==t&&(i=t)}return e.pop(),i})}function Qn(e){let t=e.parent(-1);for(let n,i=0;n=e.parent(i);i++){if(n instanceof be&&n.body===t)return!0;if(!(n instanceof At&&n.expressions[0]===t||"Call"===n.TYPE&&n.expression===t||n instanceof Ge&&n.prefix===t||n instanceof Ct&&n.expression===t||n instanceof St&&n.expression===t||n instanceof Tt&&n.expression===t||n instanceof Mt&&n.condition===t||n instanceof Ot&&n.left===t||n instanceof zt&&n.expression===t))return!1;t=n}}function ei(e){return e instanceof Ht||(e instanceof At?ei(e.expressions[0]):"Call"===e.TYPE?ei(e.expression):e instanceof Ge?ei(e.prefix):e instanceof Ct||e instanceof St||e instanceof Tt?ei(e.expression):e instanceof Mt?ei(e.condition):e instanceof Ot?ei(e.left):e instanceof zt&&ei(e.expression))}Kn(ye,o),Kn(Se,function(e,t){e.label=e.label.transform(t),e.body=e.body.transform(t)}),Kn(we,function(e,t){e.body=e.body.transform(t)}),Kn(Ae,function(e,t){e.body=f(e.body,t)}),Kn($e,function(e,t){e.body=e.body.transform(t),e.condition=e.condition.transform(t)}),Kn(ze,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t)}),Kn(Oe,function(e,t){e.init&&(e.init=e.init.transform(t)),e.condition&&(e.condition=e.condition.transform(t)),e.step&&(e.step=e.step.transform(t)),e.body=e.body.transform(t)}),Kn(Me,function(e,t){e.init=e.init.transform(t),e.object=e.object.transform(t),e.body=e.body.transform(t)}),Kn(Ne,function(e,t){e.expression=e.expression.transform(t),e.body=e.body.transform(t)}),Kn(Ke,function(e,t){e.value&&(e.value=e.value.transform(t))}),Kn(tt,function(e,t){e.label&&(e.label=e.label.transform(t))}),Kn(st,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t),e.alternative&&(e.alternative=e.alternative.transform(t))}),Kn(at,function(e,t){e.expression=e.expression.transform(t),e.body=f(e.body,t)}),Kn(ft,function(e,t){e.expression=e.expression.transform(t),e.body=f(e.body,t)}),Kn(lt,function(e,t){e.body=e.body.transform(t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))}),Kn(ht,function(e,t){e.argname&&(e.argname=e.argname.transform(t)),e.body=f(e.body,t)}),Kn(_t,function(e,t){e.definitions=f(e.definitions,t)}),Kn(yt,function(e,t){e.name=e.name.transform(t),e.value&&(e.value=e.value.transform(t))}),Kn(We,function(e,t){e.names=f(e.names,t)}),Kn(Re,function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=f(e.argnames,t,!1),e.body instanceof ye?e.body=e.body.transform(t):e.body=f(e.body,t)}),Kn(Et,function(e,t){e.expression=e.expression.transform(t),e.args=f(e.args,t,!1)}),Kn(At,function(e,t){const n=f(e.expressions,t);e.expressions=n.length?n:[new Sn({value:0})]}),Kn(Ft,function(e,t){e.expression=e.expression.transform(t)}),Kn(St,function(e,t){e.expression=e.expression.transform(t),e.property=e.property.transform(t)}),Kn(Tt,function(e,t){e.expression=e.expression.transform(t)}),Kn(ot,function(e,t){e.expression&&(e.expression=e.expression.transform(t))}),Kn(rt,function(e,t){e.expression=e.expression.transform(t)}),Kn(qt,function(e,t){e.expression=e.expression.transform(t)}),Kn(Ot,function(e,t){e.left=e.left.transform(t),e.right=e.right.transform(t)}),Kn(Kt,function(e,t){e.key=e.key.transform(t),e.value=e.value.transform(t)}),Kn(Mt,function(e,t){e.condition=e.condition.transform(t),e.consequent=e.consequent.transform(t),e.alternative=e.alternative.transform(t)}),Kn(Pt,function(e,t){e.elements=f(e.elements,t)}),Kn(Ht,function(e,t){e.properties=f(e.properties,t)}),Kn(jt,function(e,t){e.key instanceof ye&&(e.key=e.key.transform(t)),e.value&&(e.value=e.value.transform(t))}),Kn(Xt,function(e,t){e.name&&(e.name=e.name.transform(t)),e.extends&&(e.extends=e.extends.transform(t)),e.properties=f(e.properties,t)}),Kn(en,function(e,t){e.body=f(e.body,t)}),Kn(je,function(e,t){e.expression=e.expression.transform(t)}),Kn(bt,function(e,t){e.foreign_name=e.foreign_name.transform(t),e.name=e.name.transform(t)}),Kn(Dt,function(e,t){e.imported_name&&(e.imported_name=e.imported_name.transform(t)),e.imported_names&&f(e.imported_names,t),e.module_name=e.module_name.transform(t)}),Kn(wt,function(e,t){e.exported_definition&&(e.exported_definition=e.exported_definition.transform(t)),e.exported_value&&(e.exported_value=e.exported_value.transform(t)),e.exported_names&&f(e.exported_names,t),e.module_name&&(e.module_name=e.module_name.transform(t))}),Kn(Xe,function(e,t){e.segments=f(e.segments,t)}),Kn(Ge,function(e,t){e.prefix=e.prefix.transform(t),e.template_string=e.template_string.transform(t)}),function(){var e=function(e){for(var t=0;t<e.length;t++){if(!(e[t]instanceof be&&e[t].body instanceof Bn))return e;e[t]=new xe({start:e[t].start,end:e[t].end,quote:'"',value:e[t].body.value})}return e};function t(e){return e&&e.length>0?new Ht({start:r(e),end:o(e),properties:e.map(e=>new Rt({start:r(e),end:o(e),key:e.key.name||e.key.value,value:a(e.value)}))}):null}var n={Program:function(t){return new He({start:r(t),end:o(t),body:e(t.body.map(a))})},ArrayPattern:function(e){return new We({start:r(e),end:o(e),names:e.elements.map(function(e){return null===e?new In:a(e)}),is_array:!0})},ObjectPattern:function(e){return new We({start:r(e),end:o(e),names:e.properties.map(a),is_array:!1})},AssignmentPattern:function(e){return new Nt({start:r(e),end:o(e),left:a(e.left),operator:"=",right:a(e.right)})},SpreadElement:function(e){return new je({start:r(e),end:o(e),expression:a(e.argument)})},RestElement:function(e){return new je({start:r(e),end:o(e),expression:a(e.argument)})},TemplateElement:function(e){return new Je({start:r(e),end:o(e),value:e.value.cooked,raw:e.value.raw})},TemplateLiteral:function(e){for(var t=[],n=0;n<e.quasis.length;n++)t.push(a(e.quasis[n])),e.expressions[n]&&t.push(a(e.expressions[n]));return new Xe({start:r(e),end:o(e),segments:t})},TaggedTemplateExpression:function(e){return new Ge({start:r(e),end:o(e),template_string:a(e.quasi),prefix:a(e.tag)})},FunctionDeclaration:function(t){return new Ye({start:r(t),end:o(t),name:t.id&&c(ln,t.id),argnames:t.params.map(e=>p(e,fn)),is_generator:t.generator,async:t.async,body:e(a(t.body).body)})},FunctionExpression:function(e){return f(e,!1)},ArrowFunctionExpression:function(e){const t="BlockStatement"===e.body.type?a(e.body).body:[l(Qe,{},{value:a(e.body)})];return new Ve({start:r(e),end:o(e),argnames:e.params.map(e=>p(e,fn)),body:t,async:e.async})},ExpressionStatement:function(e){return new we({start:r(e),end:o(e),body:a(e.expression)})},TryStatement:function(e){var t=e.handlers||[e.handler];if(t.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new lt({start:r(e),end:o(e),body:new pt(a(e.block)),bcatch:a(t[0]),bfinally:e.finalizer?new dt(a(e.finalizer)):null})},Property:function(e){if("init"==e.kind&&!e.method){var t={start:r(e.key||e.value),end:o(e.value),key:e.computed?a(e.key):e.key.name||String(e.key.value),quote:u(e.key,e.computed),static:!1,value:a(e.value)};return new Rt(t)}var n=f(e.value,!0);return t={start:r(e.key||e.value),end:o(e.value),key:e.computed?a(e.key):c(pn,e.key),quote:u(e.key,e.computed),static:!1,value:n},"get"==e.kind?new Yt(t):"set"==e.kind?new Vt(t):e.method?new Wt(t):void 0},MethodDefinition:function(e){const t="PrivateIdentifier"===e.key.type,n=e.computed?a(e.key):new pn({name:e.key.name||String(e.key.value)});var i={start:r(e),end:o(e),key:n,quote:u(e.key,e.computed),value:f(e.value,!0),static:e.static};return"get"==e.kind?new(t?Ut:Yt)(i):"set"==e.kind?new(t?Lt:Vt)(i):new(t?Gt:Wt)(i)},FieldDefinition:function(e){let t;if(e.computed)t=a(e.key);else{if("Identifier"!==e.key.type)throw new Error("Non-Identifier key in FieldDefinition");t=a(e.key)}return new Jt({start:r(e),end:o(e),quote:u(e.key,e.computed),key:t,value:a(e.value),static:e.static})},PropertyDefinition:function(e){let t;if(e.computed)t=a(e.key);else{if("PrivateIdentifier"===e.key.type)return new Zt({start:r(e),end:o(e),key:a(e.key),value:a(e.value),static:e.static});t=c(hn,e.key)}return new Jt({start:r(e),end:o(e),quote:u(e.key,e.computed),key:t,value:a(e.value),static:e.static})},PrivateIdentifier:function(e){return new kn({start:r(e),end:o(e),name:e.name})},StaticBlock:function(e){return new en({start:r(e),end:o(e),body:e.body.map(a)})},ArrayExpression:function(e){return new Pt({start:r(e),end:o(e),elements:e.elements.map(function(e){return null===e?new In:a(e)})})},ObjectExpression:function(e){return new Ht({start:r(e),end:o(e),properties:e.properties.map(function(e){return"SpreadElement"===e.type||(e.type="Property"),a(e)})})},SequenceExpression:function(e){return new At({start:r(e),end:o(e),expressions:e.expressions.map(a)})},MemberExpression:function(e){return"PrivateIdentifier"===e.property.type?new Bt({start:r(e),end:o(e),property:e.property.name,expression:a(e.object),optional:e.optional||!1}):new(e.computed?St:Ct)({start:r(e),end:o(e),property:e.computed?a(e.property):e.property.name,expression:a(e.object),optional:e.optional||!1})},ChainExpression:function(e){return new Tt({start:r(e),end:o(e),expression:a(e.expression)})},SwitchCase:function(e){return new(e.test?ft:ct)({start:r(e),end:o(e),expression:a(e.test),body:e.consequent.map(a)})},VariableDeclaration:function(e){let t,n;"const"===e.kind?(t=gt,n=un):"let"===e.kind?(t=vt,n=cn):(t=mt,n=sn);const i=e.declarations.map(e=>new yt({start:r(e),end:o(e),name:p(e.id,n),value:a(e.init)}));return new t({start:r(e),end:o(e),definitions:i})},ImportDeclaration:function(e){var n=null,i=null;return e.specifiers.forEach(function(e){"ImportSpecifier"===e.type||"ImportNamespaceSpecifier"===e.type?(i||(i=[]),i.push(a(e))):"ImportDefaultSpecifier"===e.type&&(n=a(e))}),new Dt({start:r(e),end:o(e),imported_name:n,imported_names:i,module_name:a(e.source),attributes:t(e.attributes||e.assertions)})},ImportSpecifier:function(e){return new bt({start:r(e),end:o(e),foreign_name:c(yn,e.imported,"Literal"===e.imported.type),name:c(gn,e.local)})},ImportDefaultSpecifier:function(e){return c(gn,e.local)},ImportNamespaceSpecifier:function(e){return new bt({start:r(e),end:o(e),foreign_name:new yn({name:"*"}),name:c(gn,e.local)})},ImportExpression:function(e){const t=[a(e.source)];return e.options&&t.push(a(e.options)),new Et({start:r(e),end:o(e),expression:a({type:"Identifier",name:"import"}),optional:!1,args:t})},ExportAllDeclaration:function(e){var n=null==e.exported?new wn({name:"*"}):c(wn,e.exported,"Literal"===e.exported.type);return new wt({start:r(e),end:o(e),exported_names:[new bt({start:r(e),end:o(e),name:new xn({name:"*"}),foreign_name:n})],module_name:a(e.source),attributes:t(e.attributes||e.assertions)})},ExportNamedDeclaration:function(e){return e.declaration?new wt({start:r(e),end:o(e),exported_definition:a(e.declaration),exported_names:null,module_name:null,attributes:null}):new wt({start:r(e),end:o(e),exported_definition:null,exported_names:e.specifiers&&e.specifiers.length?e.specifiers.map(a):[],module_name:a(e.source),attributes:t(e.attributes||e.assertions)})},ExportDefaultDeclaration:function(e){return new wt({start:r(e),end:o(e),exported_value:a(e.declaration),is_default:!0})},ExportSpecifier:function(e){return new bt({start:r(e),end:o(e),foreign_name:c(wn,e.exported,"Literal"===e.exported.type),name:c(xn,e.local,"Literal"===e.local.type)})},Literal:function(e){var t=e.value,n={start:r(e),end:o(e)},i=e.regex;if(i&&i.pattern)return n.value={source:i.pattern,flags:i.flags},new qn(n);if(i){const i=e.raw||t,r=i.match(/^\/(.*)\/(\w*)$/);if(!r)throw new Error("Invalid regex source "+i);const[o,s,a]=r;return n.value={source:s,flags:a},new qn(n)}const s="bigint"==typeof e.value?e.value.toString():e.bigint;if("string"==typeof s)return n.value=s,n.raw=e.raw,new Tn(n);if(null===t)return new zn(n);switch(typeof t){case"string":return n.quote='"',n.value=t,new Bn(n);case"number":return n.value=t,n.raw=e.raw||t.toString(),new Sn(n);case"boolean":return new(t?jn:Hn)(n)}},MetaProperty:function(e){return"new"===e.meta.name&&"target"===e.property.name?new rn({start:r(e),end:o(e)}):"import"===e.meta.name&&"meta"===e.property.name?new xt({start:r(e),end:o(e)}):void 0},Identifier:function(e){return new Dn({start:r(e),end:o(e),name:e.name})},EmptyStatement:function(e){return new Ce({start:r(e),end:o(e)})},BlockStatement:function(e){return new Fe({start:r(e),end:o(e),body:e.body.map(a)})},IfStatement:function(e){return new st({start:r(e),end:o(e),condition:a(e.test),body:a(e.consequent),alternative:a(e.alternate)})},LabeledStatement:function(e){try{const t=c(bn,e.label);return s.push(t),new Se({start:r(e),end:o(e),label:t,body:a(e.body)})}finally{s.pop()}},BreakStatement:function(e){return new nt({start:r(e),end:o(e),label:h(e.label)})},ContinueStatement:function(e){return new it({start:r(e),end:o(e),label:h(e.label)})},WithStatement:function(e){return new Ne({start:r(e),end:o(e),expression:a(e.object),body:a(e.body)})},SwitchStatement:function(e){return new at({start:r(e),end:o(e),expression:a(e.discriminant),body:e.cases.map(a)})},ReturnStatement:function(e){return new Qe({start:r(e),end:o(e),value:a(e.argument)})},ThrowStatement:function(e){return new et({start:r(e),end:o(e),value:a(e.argument)})},WhileStatement:function(e){return new ze({start:r(e),end:o(e),condition:a(e.test),body:a(e.body)})},DoWhileStatement:function(e){return new $e({start:r(e),end:o(e),condition:a(e.test),body:a(e.body)})},ForStatement:function(e){return new Oe({start:r(e),end:o(e),init:a(e.init),condition:a(e.test),step:a(e.update),body:a(e.body)})},ForInStatement:function(e){return new Me({start:r(e),end:o(e),init:a(e.left),object:a(e.right),body:a(e.body)})},ForOfStatement:function(e){return new Ie({start:r(e),end:o(e),init:a(e.left),object:a(e.right),body:a(e.body),await:e.await})},AwaitExpression:function(e){return new rt({start:r(e),end:o(e),expression:a(e.argument)})},YieldExpression:function(e){return new ot({start:r(e),end:o(e),expression:a(e.argument),is_star:e.delegate})},DebuggerStatement:function(e){return new De({start:r(e),end:o(e)})},CatchClause:function(e){return new ht({start:r(e),end:o(e),argname:e.param?p(e.param,vn):null,body:a(e.body).body})},ThisExpression:function(e){return new An({start:r(e),name:"this",end:o(e)})},Super:function(e){return new Fn({start:r(e),end:o(e),name:"super"})},BinaryExpression:function(e){return"PrivateIdentifier"===e.left.type?new Kt({start:r(e),end:o(e),key:new kn({start:r(e.left),end:o(e.left),name:e.left.name}),value:a(e.right)}):new Ot({start:r(e),end:o(e),operator:e.operator,left:a(e.left),right:a(e.right)})},LogicalExpression:function(e){return new Ot({start:r(e),end:o(e),operator:e.operator,left:a(e.left),right:a(e.right)})},AssignmentExpression:function(e){return new It({start:r(e),end:o(e),operator:e.operator,logical:"??="===e.operator||"&&="===e.operator||"||="===e.operator,left:a(e.left),right:a(e.right)})},ConditionalExpression:function(e){return new Mt({start:r(e),end:o(e),condition:a(e.test),consequent:a(e.consequent),alternative:a(e.alternate)})},NewExpression:function(e){return new kt({start:r(e),end:o(e),expression:a(e.callee),args:e.arguments.map(a)})},CallExpression:function(e){return new Et({start:r(e),end:o(e),expression:a(e.callee),optional:e.optional,args:e.arguments.map(a)})}};function i(e){const t=[];if(e)for(const{key:n,value:i}of e.properties){const e=ee(n)?{type:"Identifier",name:n}:{type:"Literal",value:n,raw:JSON.stringify(n)};t.push({type:"ImportAttribute",key:e,value:m(i)})}return t}function r(e){var t=e.loc,n=t&&t.start,i=e.range;return new ge("","",n&&n.line||0,n&&n.column||0,i?i[0]:e.start,!1,[],[],t&&t.source)}function o(e){var t=e.loc,n=t&&t.end,i=e.range;return new ge("","",n&&n.line||0,n&&n.column||0,i?i[0]:e.end,!1,[],[],t&&t.source)}n.UpdateExpression=n.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?$t:zt)({start:r(e),end:o(e),operator:e.operator,expression:a(e.argument)})},n.ClassDeclaration=n.ClassExpression=function(e){return new("ClassDeclaration"===e.type?Qt:tn)({start:r(e),end:o(e),name:e.id&&c("ClassDeclaration"===e.type?_n:mn,e.id),extends:a(e.superClass),properties:e.body.body.map(a)})},d(Ce,function(){return{type:"EmptyStatement"}}),d(Fe,function(e){return{type:"BlockStatement",body:e.body.map(m)}}),d(st,function(e){return{type:"IfStatement",test:m(e.condition),consequent:m(e.body),alternate:m(e.alternative)}}),d(Se,function(e){return{type:"LabeledStatement",label:m(e.label),body:m(e.body)}}),d(nt,function(e){return{type:"BreakStatement",label:m(e.label)}}),d(it,function(e){return{type:"ContinueStatement",label:m(e.label)}}),d(Ne,function(e){return{type:"WithStatement",object:m(e.expression),body:m(e.body)}}),d(at,function(e){return{type:"SwitchStatement",discriminant:m(e.expression),cases:e.body.map(m)}}),d(Qe,function(e){return{type:"ReturnStatement",argument:m(e.value)}}),d(et,function(e){return{type:"ThrowStatement",argument:m(e.value)}}),d(ze,function(e){return{type:"WhileStatement",test:m(e.condition),body:m(e.body)}}),d($e,function(e){return{type:"DoWhileStatement",test:m(e.condition),body:m(e.body)}}),d(Oe,function(e){return{type:"ForStatement",init:m(e.init),test:m(e.condition),update:m(e.step),body:m(e.body)}}),d(Me,function(e){return{type:"ForInStatement",left:m(e.init),right:m(e.object),body:m(e.body)}}),d(Ie,function(e){return{type:"ForOfStatement",left:m(e.init),right:m(e.object),body:m(e.body),await:e.await}}),d(rt,function(e){return{type:"AwaitExpression",argument:m(e.expression)}}),d(ot,function(e){return{type:"YieldExpression",argument:m(e.expression),delegate:e.is_star}}),d(De,function(){return{type:"DebuggerStatement"}}),d(yt,function(e){return{type:"VariableDeclarator",id:m(e.name),init:m(e.value)}}),d(An,function(){return{type:"ThisExpression"}}),d(Fn,function(){return{type:"Super"}}),d(Mt,function(e){return{type:"ConditionalExpression",test:m(e.condition),consequent:m(e.consequent),alternate:m(e.alternative)}}),d(kt,function(e){return{type:"NewExpression",callee:m(e.expression),arguments:e.args.map(m)}}),d(Et,function(e){if(e.expression instanceof Dn&&"import"===e.expression.name){const[t,n]=e.args.map(m);return{type:"ImportExpression",source:t,options:n||null}}return{type:"CallExpression",callee:m(e.expression),optional:e.optional,arguments:e.args.map(m)}}),d(He,function(e){return D("Program",e)}),d(je,function(e){return{type:y()?"RestElement":"SpreadElement",argument:m(e.expression)}}),d(Ge,function(e){return{type:"TaggedTemplateExpression",tag:m(e.prefix),quasi:m(e.template_string)}}),d(Xe,function(e){for(var t=[],n=[],i=0;i<e.segments.length;i++)i%2!=0?n.push(m(e.segments[i])):t.push({type:"TemplateElement",value:{raw:e.segments[i].raw,cooked:e.segments[i].value},tail:i===e.segments.length-1});return{type:"TemplateLiteral",quasis:t,expressions:n}}),d(Ye,function(e){return{type:"FunctionDeclaration",id:m(e.name),params:e.argnames.map(g),generator:e.is_generator,async:e.async,body:D("BlockStatement",e)}}),d(Ue,function(e){return{type:"FunctionExpression",id:m(e.name),params:e.argnames.map(g),generator:e.is_generator||!1,async:e.async||!1,body:D("BlockStatement",e)}}),d(Ve,function(e){var t=1===e.body.length&&e.body[0]instanceof Qe&&e.body[0].value?m(e.body[0].value):{type:"BlockStatement",body:e.body.map(m)};return{type:"ArrowFunctionExpression",params:e.argnames.map(g),async:e.async,body:t}}),d(We,function(e){return e.is_array?{type:"ArrayPattern",elements:e.names.map(e=>e instanceof In?null:g(e))}:{type:"ObjectPattern",properties:e.names.map(e=>{if(e instanceof Rt){var t=e.computed_key();const[n,i]=v(e.key,t,e.quote,e.value);return{type:"Property",computed:t,kind:"init",key:i,method:!1,shorthand:n,value:g(e.value)}}return g(e)})}}),d(Nt,function(e){return{type:"AssignmentPattern",left:g(e.left),right:m(e.right)}}),d(xe,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value,raw:e.print_to_string()},directive:e.value}}),d(we,function(e){return{type:"ExpressionStatement",expression:m(e.body)}}),d(ut,function(e){return{type:"SwitchCase",test:m(e.expression),consequent:e.body.map(m)}}),d(lt,function(e){return{type:"TryStatement",block:b(e.body),handler:m(e.bcatch),guardedHandlers:[],finalizer:m(e.bfinally)}}),d(ht,function(e){return{type:"CatchClause",param:null!=e.argname?g(e.argname):null,body:b(e)}}),d(_t,function(e){return{type:"VariableDeclaration",kind:e instanceof gt?"const":e instanceof vt?"let":"var",declarations:e.definitions.map(m)}}),d(wt,function(e){if(e.exported_names){var t=e.exported_names[0];if(t&&"*"===t.name.name&&!t.name.quote){var n=t.foreign_name,r="*"!==n.name||n.quote?m(n):null;return{type:"ExportAllDeclaration",source:m(e.module_name),exported:r,attributes:i(e.attributes)}}return{type:"ExportNamedDeclaration",specifiers:e.exported_names.map(function(e){return{type:"ExportSpecifier",exported:m(e.foreign_name),local:m(e.name)}}),declaration:m(e.exported_definition),source:m(e.module_name),attributes:i(e.attributes)}}return e.is_default?{type:"ExportDefaultDeclaration",declaration:m(e.exported_value||e.exported_definition)}:{type:"ExportNamedDeclaration",declaration:m(e.exported_value||e.exported_definition),specifiers:[],source:null}}),d(Dt,function(e){var t=[];if(e.imported_name&&t.push({type:"ImportDefaultSpecifier",local:m(e.imported_name)}),e.imported_names){var n=e.imported_names[0].foreign_name;"*"!==n.name||n.quote?e.imported_names.forEach(function(e){t.push({type:"ImportSpecifier",local:m(e.name),imported:m(e.foreign_name)})}):t.push({type:"ImportNamespaceSpecifier",local:m(e.imported_names[0].name)})}return{type:"ImportDeclaration",specifiers:t,source:m(e.module_name),attributes:i(e.attributes)}}),d(xt,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"import"},property:{type:"Identifier",name:"meta"}}}),d(At,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(m)}}),d(Bt,function(e){return{type:"MemberExpression",object:m(e.expression),computed:!1,property:{type:"PrivateIdentifier",name:e.property},optional:e.optional}}),d(Ft,function(e){var t=e instanceof St;return{type:"MemberExpression",object:m(e.expression),computed:t,property:t?m(e.property):{type:"Identifier",name:e.property},optional:e.optional}}),d(Tt,function(e){return{type:"ChainExpression",expression:m(e.expression)}}),d(qt,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof $t,argument:m(e.expression)}}),d(Ot,function(e){return"="==e.operator&&y()?{type:"AssignmentPattern",left:m(e.left),right:m(e.right)}:{type:"&&"==e.operator||"||"==e.operator||"??"===e.operator?"LogicalExpression":"BinaryExpression",left:m(e.left),operator:e.operator,right:m(e.right)}}),d(It,function(e){return{type:"AssignmentExpression",operator:e.operator,left:m(e.left),right:m(e.right)}}),d(Kt,function(e){return{type:"BinaryExpression",left:{type:"PrivateIdentifier",name:e.key.name},operator:"in",right:m(e.value)}}),d(Pt,function(e){return{type:"ArrayExpression",elements:e.elements.map(m)}}),d(Ht,function(e){return{type:"ObjectExpression",properties:e.properties.map(m)}}),d(jt,function(e,t){var n=e.computed_key();const[i,r]=v(e.key,n,e.quote,e.value);var o;return e instanceof Yt?o="get":e instanceof Vt&&(o="set"),e instanceof Ut||e instanceof Lt?{type:"MethodDefinition",computed:!1,kind:e instanceof Ut?"get":"set",static:e.static,key:{type:"PrivateIdentifier",name:e.key.name},value:m(e.value)}:e instanceof Zt?{type:"PropertyDefinition",key:{type:"PrivateIdentifier",name:e.key.name},value:m(e.value),computed:!1,static:e.static}:e instanceof Jt?{type:"PropertyDefinition",key:r,value:m(e.value),computed:n,static:e.static}:t instanceof Xt?{type:"MethodDefinition",computed:n,kind:o,static:e.static,key:m(e.key),value:m(e.value)}:{type:"Property",computed:n,method:!1,shorthand:i,kind:o,key:r,value:m(e.value)}}),d(Rt,function(e){var t=e.computed_key();const[n,i]=v(e.key,t,e.quote,e.value);return{type:"Property",computed:t,shorthand:n,method:!1,kind:"init",key:i,value:m(e.value)}}),d(Wt,function(e,t){const n=e.computed_key(),[i,r]=v(e.key,n,e.quote,e.value);return t instanceof Ht?{type:"Property",kind:"init",computed:n,method:!0,shorthand:!1,key:r,value:m(e.value)}:{type:"MethodDefinition",kind:n||"constructor"!==e.key.name?"method":"constructor",computed:n,key:r,value:m(e.value),static:e.static}}),d(Gt,function(e){return{type:"MethodDefinition",kind:"method",key:{type:"PrivateIdentifier",name:e.key.name},value:m(e.value),computed:!1,static:e.static}}),d(Xt,function(e){return{type:e instanceof tn?"ClassExpression":"ClassDeclaration",superClass:m(e.extends),id:e.name?m(e.name):null,body:{type:"ClassBody",body:e.properties.map(m)}}}),d(en,function(e){return{type:"StaticBlock",body:e.body.map(m)}}),d(rn,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),d(nn,function(e,t){if(e instanceof pn&&t.quote||(e instanceof yn||e instanceof wn||e instanceof xn)&&e.quote)return{type:"Literal",value:e.name};var n=e.definition();return{type:"Identifier",name:n?n.mangled_name||n.name:e.name}}),d(qn,function(e){const t=e.value.source,n=e.value.flags;return{type:"Literal",value:null,raw:e.print_to_string(),regex:{pattern:t,flags:n}}}),d(Cn,function(e){return{type:"Literal",value:e.value,raw:e.raw||e.print_to_string()}}),d($n,function(e){return{type:"Identifier",name:String(e.value)}}),d(Tn,e=>({type:"Literal",value:null,bigint:"function"==typeof BigInt?BigInt(e.value).toString():e.value,raw:e.raw})),Pn.DEFMETHOD("to_mozilla_ast",Cn.prototype.to_mozilla_ast),zn.DEFMETHOD("to_mozilla_ast",Cn.prototype.to_mozilla_ast),In.DEFMETHOD("to_mozilla_ast",function(){return null}),Ae.DEFMETHOD("to_mozilla_ast",Fe.prototype.to_mozilla_ast),Re.DEFMETHOD("to_mozilla_ast",Ue.prototype.to_mozilla_ast);var s=null;function a(e){return null==e?null:n[e.type](e)}function u(e,t){return t||"Literal"!==e.type||"string"!=typeof e.value?"":'"'}function c(e,t,n){return new e({start:r(t),quote:n?'"':void 0,name:"Identifier"===t.type?t.name:String(t.value),end:o(t)})}function f(t,n){return new(n?Le:Ue)({start:r(t),end:o(t),name:t.id&&c(n?pn:dn,t.id),argnames:t.params.map(e=>p(e,fn)),is_generator:t.generator,async:t.async,body:e(a(t.body).body)})}function p(e,t){switch(e.type){case"ObjectPattern":return new We({start:r(e),end:o(e),names:e.properties.map(e=>p(e,t)),is_array:!1});case"Property":var n=e.key,i={start:r(n||e.value),end:o(e.value),key:"Identifier"==n.type?n.name:String(n.value),quote:e.computed||"Literal"!==n.type||"string"!=typeof n.value?"":'"',value:p(e.value,t)};return e.computed&&(i.key=a(e.key)),new Rt(i);case"ArrayPattern":return new We({start:r(e),end:o(e),names:e.elements.map(function(e){return null===e?new In:p(e,t)}),is_array:!0});case"SpreadElement":case"RestElement":return new je({start:r(e),end:o(e),expression:p(e.argument,t)});case"AssignmentPattern":return new Nt({start:r(e),end:o(e),left:p(e.left,t),operator:"=",right:a(e.right)});case"Identifier":return new t({start:r(e),end:o(e),name:e.name});default:throw new Error("Invalid node type for destructuring: "+e.type)}}function h(e){if(!e)return null;const t=c(En,e);let n=s.length;for(;n--;){const e=s[n];if(t.name===e.name){t.thedef=e;break}}return t}function d(e,t){e.DEFMETHOD("to_mozilla_ast",function(e){return n=t(this,e),i=this.start,r=this.end,i&&r?(null!=i.pos&&null!=r.endpos&&(n.range=[i.pos,r.endpos]),i.line&&(n.loc={start:{line:i.line,column:i.col},end:r.endline?{line:r.endline,column:r.endcol}:null},i.file&&(n.loc.source=i.file)),n):n;var n,i,r})}ye.from_mozilla_ast=function(e){var t=s;s=[];var n=a(e);return s=t,n};var _=null;function m(e){null===_&&(_=[]),_.push(e);var t=null!=e?e.to_mozilla_ast(_[_.length-2]):null;return _.pop(),0===_.length&&(_=null),t}function v(e,t=!1,n=!1,i=null){if(t)return[!1,m(e)];const r="string"==typeof e?e:e.name;let o;return o=n?{type:"Literal",value:r,raw:JSON.stringify(r)}:""+ +r===r&&+r>=0?{type:"Literal",value:+r,raw:JSON.stringify(+r)}:{type:"Identifier",name:r},["Identifier"===o.type&&o.name===r&&(i instanceof nn&&i.name===r||i instanceof Nt&&i.left.name===r),o]}function g(e){if(e instanceof je)return{type:"RestElement",argument:g(e.expression)};if(e instanceof nn||e instanceof We||e instanceof Nt||e instanceof Ft)return m(e);throw new Error(e.TYPE)}function y(){for(var e=_.length;e--;)if(_[e]instanceof We)return!0;return!1}function b(e){return{type:"BlockStatement",body:e.body.map(m)}}function D(e,t){var n=t.body.map(m);return t.body[0]instanceof we&&t.body[0].body instanceof Bn&&n.unshift(m(new Ce(t.body[0]))),{type:e,body:n}}}();const ti=/[@#]__(PURE|INLINE|NOINLINE)__/;function ni(e){return("comment2"===e.type||"comment1"===e.type)&&/@preserve|@copyright|@lic|@cc_on|^\**!/i.test(e.value)}class ii{constructor(){this.committed="",this.current=""}append(e){this.current.length>8e3?(this.committed+=this.current+e,this.current=""):this.current+=e}insertAt(e,t){const{committed:n,current:i}=this;t<n.length?this.committed=n.slice(0,t)+e+n.slice(t):t===n.length?this.committed+=e:(t-=n.length,this.committed+=i.slice(0,t)+e,this.current=i.slice(t))}charAt(e){const{committed:t}=this;return e<t.length?t[e]:this.current[e-t.length]}charCodeAt(e){const{committed:t}=this;return e<t.length?t.charCodeAt(e):this.current.charCodeAt(e-t.length)}length(){return this.committed.length+this.current.length}expectDirective(){let e,t=this.length();if(t<=0)return!0;for(;(e=this.charCodeAt(--t))&&(32==e||10==e););return!e||59===e||123===e}hasNLB(){let e=this.length()-1;for(;e>=0;){const t=this.charCodeAt(e--);if(10===t)return!0;if(32!==t)return!1}return!0}toString(){return this.committed+this.current}}function ri(e){var t=!e;void 0===(e=r(e,{ascii_only:!1,beautify:!1,braces:!1,comments:"some",ecma:5,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_numbers:!1,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_annotations:!1,quote_keys:!1,quote_style:0,safari10:!1,semicolons:!0,shebang:!0,shorthand:void 0,source_map:null,webkit:!1,width:80,wrap_iife:!1,wrap_func_args:!1,_destroy_ast:!1},!0)).shorthand&&(e.shorthand=e.ecma>5);var n=s;if(e.comments){let t=e.comments;if("string"==typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)){var i=e.comments.lastIndexOf("/");t=new RegExp(e.comments.substr(1,i-1),e.comments.substr(i+1))}n=t instanceof RegExp?function(e){return"comment5"!=e.type&&t.test(e.value)}:"function"==typeof t?function(e){return"comment5"!=e.type&&t(this,e)}:"some"===t?ni:a}if(e.preserve_annotations){let e=n;n=function(t){return ti.test(t.value)||e.apply(this,arguments)}}var u=0,c=0,f=1,l=0,p=new ii;let h=new Set;var d=e.ascii_only?function(t,n=!1,i=!1){return e.ecma>=2015&&!e.safari10&&!i&&(t=t.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){var t=function(e){return G(e.charCodeAt(0))?65536+(e.charCodeAt(0)-55296<<10)+e.charCodeAt(1)-56320:e.charCodeAt(0)}(e).toString(16);return"\\u{"+t+"}"})),t.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t})}:function(e){return e.replace(/[\ud800-\udbff][\udc00-\udfff]|([\ud800-\udbff]|[\udc00-\udfff])/g,function(e,t){return t?"\\u"+t.charCodeAt(0).toString(16):e})};function _(t,n){var i=function(t,n){var i=0,r=0;function o(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function s(){return'"'+t.replace(/\x22/g,'\\"')+'"'}if(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(n,o){switch(n){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(W(t,o+1))?"\\x00":"\\0"}return n}),t=d(t),"`"===n)return"`"+t.replace(/`/g,"\\`")+"`";switch(e.quote_style){case 1:return o();case 2:return s();case 3:return"'"==n?o():s();default:return i>r?o():s()}}(t,n);return e.inline_script&&(i=(i=(i=i.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e")),i}var v,g,y=!1,b=!1,D=!1,x=0,w=!1,E=!1,k=-1,A="",F=e.source_map&&[],C=F?function(){F.forEach(function(t){try{let{name:n,token:i}=t;!1!==n&&("name"==i.type||"privatename"===i.type?n=i.value:n instanceof nn&&(n="string"===i.type?i.value:n.name)),e.source_map.add(t.token.file,t.line,t.col,t.token.line,t.token.col,ee(n)?n:void 0)}catch(e){}}),F=[]}:o,B=e.max_line_len?function(){if(c>e.max_line_len&&x){p.insertAt("\n",x);const e=p.length()-x-1;if(F){var t=e-c;F.forEach(function(e){e.line++,e.col+=t})}f++,l++,c=e}x&&(x=0,C())}:o,S=m("( [ + * / - , . `");function T(t){var n=W(t=String(t),0);w&&n&&(w=!1,"\n"!==n&&(T("\n"),$())),E&&n&&(E=!1,/[\s;})]/.test(n)||q()),k=-1;var i=A.charAt(A.length-1);D&&(D=!1,(":"!==i||"}"!==n)&&(n&&";}".includes(n)||";"===i)||(e.semicolons||S.has(n)?(p.append(";"),c++,l++):(B(),c>0&&(p.append("\n"),l++,f++,c=0),/^\s+$/.test(t)&&(D=!0)),e.beautify||(b=!1))),b&&((K(i)&&(K(n)||"\\"==n)||"/"==n&&n==i||("+"==n||"-"==n)&&n==A)&&(p.append(" "),c++,l++),b=!1),v&&(F.push({token:v,name:g,line:f,col:c}),v=!1,x||C()),p.append(t),y="("==t[t.length-1],l+=t.length;var r=t.split(/\r?\n/),o=r.length-1;f+=o,c+=r[0].length,o>0&&(B(),c=r[o].length),A=t}var q=e.beautify?function(){T(" ")}:function(){b=!0},$=e.beautify?function(t){var n;e.beautify&&T((n=t?.5:0," ".repeat(e.indent_start+u-n*e.indent_level)))}:o,z=e.beautify?function(e,t){!0===e&&(e=N());var n=u;u=e;var i=t();return u=n,i}:function(e,t){return t()},O=e.beautify?function(){if(k<0)return T("\n");"\n"!=p.charAt(k)&&(p.insertAt("\n",k),l++,f++),k++}:e.max_line_len?function(){B(),x=p.length()}:o,M=e.beautify?function(){T(";")}:function(){D=!0};function I(){D=!1,T(";")}function N(){return u+e.indent_level}var P=F?function(e,t){v=e,g=t}:o;function H(){return x&&B(),p.toString()}function j(t){return e.preserve_annotations||(t=t.replace(ti," ")),/^\s*$/.test(t)?"":t.replace(/(<\s*\/\s*)(script)/i,"<\\/$2")}const R=e._destroy_ast?function(e){e.body.length=0,e.argnames.length=0}:o;var L=[];return{get:H,toString:H,indent:$,in_directive:!1,use_asm:null,active_scope:null,indentation:function(){return u},current_width:function(){return c-u},should_break:function(){return e.width&&this.current_width()>=e.width},has_parens:function(){return y},newline:O,print:T,star:function(){T("*")},space:q,comma:function(){T(","),q()},colon:function(){T(":"),q()},last:function(){return A},semicolon:M,force_semicolon:I,to_utf8:d,print_name:function(e){T(function(e){return e=e.toString(),d(e,!0)}(e))},print_string:function(e,t,n){var i=_(e,t);!0!==n||i.includes("\\")||(p.expectDirective()||I(),I()),T(i)},print_template_string_chars:function(e){var t=_(e,"`").replace(/\${/g,"\\${");return T(t.substr(1,t.length-2))},encode_string:_,next_indent:N,with_indent:z,with_block:function(e){var t;return T("{"),O(),z(N(),function(){t=e()}),$(),T("}"),t},with_parens:function(e){T("(");var t=e();return T(")"),t},with_square:function(e){T("[");var t=e();return T("]"),t},add_mapping:P,option:function(t){return e[t]},gc_scope:R,printed_comments:h,prepend_comments:t?o:function(t){var i=t.start;if(!i)return;var r=this.printed_comments;const o=t instanceof Ke&&t.value||(t instanceof rt||t instanceof ot)&&t.expression;if(i.comments_before&&r.has(i.comments_before)){if(!o)return;i.comments_before=[]}var s=i.comments_before;if(s||(s=i.comments_before=[]),r.add(s),o){var a=new Vn(function(e){var t=a.parent();if(!(t instanceof Ke||t instanceof rt||t instanceof ot||t instanceof Ot&&t.left===e||"Call"==t.TYPE&&t.expression===e||t instanceof Mt&&t.condition===e||t instanceof Ct&&t.expression===e||t instanceof At&&t.expressions[0]===e||t instanceof St&&t.expression===e||t instanceof zt))return!0;if(e.start){var n=e.start.comments_before;n&&!r.has(n)&&(r.add(n),s=s.concat(n))}});a.push(t),o.walk(a)}if(0==l){s.length>0&&e.shebang&&"comment5"===s[0].type&&!r.has(s[0])&&(T("#!"+s.shift().value+"\n"),$());var u=e.preamble;u&&T(u.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}if(0!=(s=s.filter(n,t).filter(e=>!r.has(e))).length){var c=p.hasNLB();s.forEach(function(e,t){if(r.add(e),c||(e.nlb?(T("\n"),$(),c=!0):t>0&&q()),/comment[134]/.test(e.type))(n=j(e.value))&&(T("//"+n+"\n"),$()),c=!0;else if("comment2"==e.type){var n;(n=j(e.value))&&T("/*"+n+"*/"),c=!1}}),c||(i.nlb?(T("\n"),$()):q())}},append_comments:t||n===s?o:function(e,t){var i=e.end;if(i){var r=this.printed_comments,o=i[t?"comments_before":"comments_after"];if(o&&!r.has(o)&&(e instanceof be||o.every(e=>!/comment[134]/.test(e.type)))){r.add(o);var s=p.length();o.filter(n,e).forEach(function(e,n){if(!r.has(e))if(r.add(e),E=!1,w?(T("\n"),$(),w=!1):e.nlb&&(n>0||!p.hasNLB())?(T("\n"),$()):(n>0||!t)&&q(),/comment[134]/.test(e.type)){const t=j(e.value);t&&T("//"+t),w=!0}else if("comment2"==e.type){const t=j(e.value);t&&T("/*"+t+"*/"),E=!0}}),p.length()>s&&(k=s)}}},line:function(){return f},col:function(){return c},pos:function(){return l},push_node:function(e){L.push(e)},pop_node:function(){return L.pop()},parent:function(e){return L[L.length-2-(e||0)]}}}!function(){function e(e,t){e.DEFMETHOD("_codegen",t)}function t(e,n){Array.isArray(e)?e.forEach(function(e){t(e,n)}):e.DEFMETHOD("needs_parens",n)}function n(e,t,n,i){var r=e.length-1;n.in_directive=i,e.forEach(function(e,i){!0!==n.in_directive||e instanceof xe||e instanceof Ce||e instanceof we&&e.body instanceof Bn||(n.in_directive=!1),e instanceof Ce||(n.indent(),e.print(n),i==r&&t||(n.newline(),t&&n.newline())),!0===n.in_directive&&e instanceof we&&e.body instanceof Bn&&(n.in_directive=!1)}),n.in_directive=!1}function i(e,t){t.print("{"),t.with_indent(t.next_indent(),function(){t.append_comments(e,!0)}),t.add_mapping(e.end),t.print("}")}function r(e,t,r){e.body.length>0?t.with_block(function(){n(e.body,!1,t,r),t.add_mapping(e.end)}):i(e,t)}function a(e,t,n){var i=!1;n&&(i=Rn(e,e=>e instanceof Pe&&!(e instanceof Ve)||(e instanceof Ot&&"in"==e.operator||e instanceof Kt?Un:void 0))),e.print(t,i)}function u(e,t,n){return n.option("quote_keys")?(n.print_string(e),!1):""+ +e==e&&e>=0?n.option("keep_numbers")?(n.print(e),!1):(n.print(h(e)),!1):(T.has(e)?n.option("ie8"):n.option("ecma")<2015||n.option("safari10")?!ee(e):!te(e,!0))||t&&n.option("keep_quoted_props")?(n.print_string(e,t),!1):(n.print_name(e),!0)}ye.DEFMETHOD("print",function(e,t){var n=this,i=n._codegen;function r(){e.prepend_comments(n),n.add_source_map(e),i(n,e),e.append_comments(n)}n instanceof Pe?e.active_scope=n:!e.use_asm&&n instanceof xe&&"use asm"==n.value&&(e.use_asm=e.active_scope),e.push_node(n),t||n.needs_parens(e)?e.with_parens(r):r(),e.pop_node(),n===e.use_asm&&(e.use_asm=null)}),ye.DEFMETHOD("_print",ye.prototype.print),ye.DEFMETHOD("print_to_string",function(e){var t=ri(e);return this.print(t),t.get()}),t(ye,s),t(Ue,function(e){return!(e.has_parens()||!Qn(e))||(!!(e.option("webkit")&&(t=e.parent())instanceof Ft&&t.expression===this)||(!!(e.option("wrap_iife")&&(t=e.parent())instanceof Et&&t.expression===this)||!!(e.option("wrap_func_args")&&(t=e.parent())instanceof Et&&t.args.includes(this))));var t}),t(Ve,function(e){var t=e.parent();return!!(e.option("wrap_func_args")&&t instanceof Et&&t.args.includes(this))||t instanceof Ft&&t.expression===this||t instanceof Mt&&t.condition===this}),t(Ht,function(e){return!e.has_parens()&&Qn(e)}),t(tn,Qn),t(qt,function(e){var t=e.parent();return t instanceof Ft&&t.expression===this||t instanceof Et&&t.expression===this||t instanceof Ot&&"**"===t.operator&&this instanceof $t&&t.left===this&&"++"!==this.operator&&"--"!==this.operator}),t(rt,function(e){var t=e.parent();return t instanceof Ft&&t.expression===this||t instanceof Et&&t.expression===this||t instanceof Ot&&"**"===t.operator&&t.left===this||e.option("safari10")&&t instanceof $t}),t(At,function(e){var t=e.parent();return t instanceof Et||t instanceof qt||t instanceof Ot||t instanceof yt||t instanceof Ft||t instanceof Pt||t instanceof jt||t instanceof Mt||t instanceof Ve||t instanceof Nt||t instanceof je||t instanceof Ie&&this===t.object||t instanceof ot||t instanceof wt}),t(Ot,function(e){var t=e.parent();if(t instanceof Et&&t.expression===this)return!0;if(t instanceof qt)return!0;if(t instanceof Ft&&t.expression===this)return!0;if(t instanceof Ot){const e=t.operator,n=this.operator;if("??"===n&&("||"===e||"&&"===e))return!0;if("??"===e&&("||"===n||"&&"===n))return!0;const i=pe[e],r=pe[n];if(i>r||i==r&&(this===t.right||"**"==e))return!0}if(t instanceof Kt){const e=this.operator,n=pe.in,i=pe[e];if(n>i||n==i&&this===t.value)return!0}}),t(Kt,function(e){var t=e.parent();if(t instanceof Et&&t.expression===this)return!0;if(t instanceof qt)return!0;if(t instanceof Ft&&t.expression===this)return!0;if(t instanceof Ot){const e=t.operator,n=pe[e],i=pe.in;if(n>i||n==i&&(this===t.right||"**"==e))return!0}return t instanceof Kt&&this===t.value||void 0}),t(ot,function(e){var t=e.parent();return t instanceof Ot&&"="!==t.operator||t instanceof Et&&t.expression===this||t instanceof Mt&&t.condition===this||t instanceof qt||t instanceof Ft&&t.expression===this||void 0}),t(Tt,function(e){var t=e.parent();return(t instanceof Et||t instanceof Ft)&&t.expression===this}),t(Ft,function(e){var t=e.parent();if(t instanceof kt&&t.expression===this)return Rn(this,e=>e instanceof Pe||(e instanceof Et?Un:void 0))}),t(Et,function(e){var t,n=e.parent();return!!(n instanceof kt&&n.expression===this||n instanceof wt&&n.is_default&&this.expression instanceof Ue)||this.expression instanceof Ue&&n instanceof Ft&&n.expression===this&&(t=e.parent(1))instanceof It&&t.left===n}),t(kt,function(e){var t=e.parent();if(0===this.args.length&&(t instanceof Ft||t instanceof Et&&t.expression===this||t instanceof Ge&&t.prefix===this))return!0}),t(Sn,function(e){var t=e.parent();if(t instanceof Ft&&t.expression===this){var n=this.getValue();if(n<0||/^0/.test(h(n)))return!0}}),t(Tn,function(e){var t=e.parent();if(t instanceof Ft&&t.expression===this&&this.getValue().startsWith("-"))return!0}),t([It,Mt],function(e){var t=e.parent();return t instanceof qt||t instanceof Ot&&!(t instanceof It)||t instanceof Et&&t.expression===this||t instanceof Mt&&t.condition===this||t instanceof Ft&&t.expression===this||this instanceof It&&this.left instanceof We&&!1===this.left.is_array||void 0}),e(xe,function(e,t){t.print_string(e.value,e.quote),t.semicolon()}),e(je,function(e,t){t.print("..."),e.expression.print(t)}),e(We,function(e,t){t.print(e.is_array?"[":"{");var n=e.names.length;e.names.forEach(function(e,i){i>0&&t.comma(),e.print(t),i==n-1&&e instanceof In&&t.comma()}),t.print(e.is_array?"]":"}")}),e(De,function(e,t){t.print("debugger"),t.semicolon()}),Be.DEFMETHOD("_do_print_body",function(e){p(this.body,e)}),e(be,function(e,t){e.body.print(t),t.semicolon()}),e(He,function(e,t){n(e.body,!0,t,!0),t.print("")}),e(Se,function(e,t){e.label.print(t),t.colon(),e.body.print(t)}),e(we,function(e,t){e.body.print(t),t.semicolon()}),e(Fe,function(e,t){r(e,t)}),e(Ce,function(e,t){t.semicolon()}),e($e,function(e,t){t.print("do"),t.space(),d(e.body,t),t.space(),t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.semicolon()}),e(ze,function(e,t){t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e._do_print_body(t)}),e(Oe,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init?(e.init instanceof _t?e.init.print(t):a(e.init,t,!0),t.print(";"),t.space()):t.print(";"),e.condition?(e.condition.print(t),t.print(";"),t.space()):t.print(";"),e.step&&e.step.print(t)}),t.space(),e._do_print_body(t)}),e(Me,function(e,t){t.print("for"),e.await&&(t.space(),t.print("await")),t.space(),t.with_parens(function(){e.init.print(t),t.space(),t.print(e instanceof Ie?"of":"in"),t.space(),e.object.print(t)}),t.space(),e._do_print_body(t)}),e(Ne,function(e,t){t.print("with"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e._do_print_body(t)}),Re.DEFMETHOD("_do_print",function(e,t){var n=this;t||(n.async&&(e.print("async"),e.space()),e.print("function"),n.is_generator&&e.star(),n.name&&e.space()),n.name instanceof nn?n.name.print(e):t&&n.name instanceof ye&&e.with_square(function(){n.name.print(e)}),e.with_parens(function(){n.argnames.forEach(function(t,n){n&&e.comma(),t.print(e)})}),e.space(),r(n,e,!0)}),e(Re,function(e,t){e._do_print(t),t.gc_scope(e)}),e(Ge,function(e,t){var n=e.prefix,i=n instanceof Re||n instanceof Ot||n instanceof Mt||n instanceof At||n instanceof qt||n instanceof Ct&&n.expression instanceof Ht;i&&t.print("("),e.prefix.print(t),i&&t.print(")"),e.template_string.print(t)}),e(Xe,function(e,t){var n=t.parent()instanceof Ge;t.print("`");for(var i=0;i<e.segments.length;i++)e.segments[i]instanceof Je?n?t.print(e.segments[i].raw):t.print_template_string_chars(e.segments[i].value):(t.print("${"),e.segments[i].print(t),t.print("}"));t.print("`")}),e(Je,function(e,t){t.print_template_string_chars(e.value)}),Ve.DEFMETHOD("_do_print",function(e){var t=this,n=e.parent(),i=n instanceof Ot&&!(n instanceof It)&&!(n instanceof Nt)||n instanceof qt||n instanceof Et&&t===n.expression;i&&e.print("("),t.async&&(e.print("async"),e.space()),1===t.argnames.length&&t.argnames[0]instanceof nn?t.argnames[0].print(e):e.with_parens(function(){t.argnames.forEach(function(t,n){n&&e.comma(),t.print(e)})}),e.space(),e.print("=>"),e.space();const o=t.body[0];if(1===t.body.length&&o instanceof Qe){const t=o.value;t?ei(t)?(e.print("("),t.print(e),e.print(")")):t.print(e):e.print("{}")}else r(t,e);i&&e.print(")"),e.gc_scope(t)}),Ke.DEFMETHOD("_do_print",function(e,t){if(e.print(t),this.value){e.space();const t=this.value.start.comments_before;t&&t.length&&!e.printed_comments.has(t)?(e.print("("),this.value.print(e),e.print(")")):this.value.print(e)}e.semicolon()}),e(Qe,function(e,t){e._do_print(t,"return")}),e(et,function(e,t){e._do_print(t,"throw")}),e(ot,function(e,t){var n=e.is_star?"*":"";t.print("yield"+n),e.expression&&(t.space(),e.expression.print(t))}),e(rt,function(e,t){t.print("await"),t.space();var n=e.expression,i=!(n instanceof Et||n instanceof Dn||n instanceof Ft||n instanceof qt||n instanceof Cn||n instanceof rt||n instanceof Ht);i&&t.print("("),e.expression.print(t),i&&t.print(")")}),tt.DEFMETHOD("_do_print",function(e,t){e.print(t),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(nt,function(e,t){e._do_print(t,"break")}),e(it,function(e,t){e._do_print(t,"continue")}),e(st,function(e,t){t.print("if"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e.alternative?(function(e,t){var n=e.body;if(t.option("braces")||t.option("ie8")&&n instanceof $e)return d(n,t);if(!n)return t.force_semicolon();for(;;)if(n instanceof st){if(!n.alternative)return void d(e.body,t);n=n.alternative}else{if(!(n instanceof Be))break;n=n.body}p(e.body,t)}(e,t),t.space(),t.print("else"),t.space(),e.alternative instanceof st?e.alternative.print(t):p(e.alternative,t)):e._do_print_body(t)}),e(at,function(e,t){t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var n=e.body.length-1;n<0?i(e,t):t.with_block(function(){e.body.forEach(function(e,i){t.indent(!0),e.print(t),i<n&&e.body.length>0&&t.newline()})})}),ut.DEFMETHOD("_do_print_body",function(e){e.newline(),this.body.forEach(function(t){e.indent(),t.print(e),e.newline()})}),e(ct,function(e,t){t.print("default:"),e._do_print_body(t)}),e(ft,function(e,t){t.print("case"),t.space(),e.expression.print(t),t.print(":"),e._do_print_body(t)}),e(lt,function(e,t){t.print("try"),t.space(),e.body.print(t),e.bcatch&&(t.space(),e.bcatch.print(t)),e.bfinally&&(t.space(),e.bfinally.print(t))}),e(pt,function(e,t){r(e,t)}),e(ht,function(e,t){t.print("catch"),e.argname&&(t.space(),t.with_parens(function(){e.argname.print(t)})),t.space(),r(e,t)}),e(dt,function(e,t){t.print("finally"),t.space(),r(e,t)}),_t.DEFMETHOD("_do_print",function(e,t){e.print(t),e.space(),this.definitions.forEach(function(t,n){n&&e.comma(),t.print(e)});var n=e.parent();(!(n instanceof Oe||n instanceof Me)||n&&n.init!==this)&&e.semicolon()}),e(vt,function(e,t){e._do_print(t,"let")}),e(mt,function(e,t){e._do_print(t,"var")}),e(gt,function(e,t){e._do_print(t,"const")}),e(Dt,function(e,t){t.print("import"),t.space(),e.imported_name&&e.imported_name.print(t),e.imported_name&&e.imported_names&&(t.print(","),t.space()),e.imported_names&&(1!==e.imported_names.length||"*"!==e.imported_names[0].foreign_name.name||e.imported_names[0].foreign_name.quote?(t.print("{"),e.imported_names.forEach(function(n,i){t.space(),n.print(t),i<e.imported_names.length-1&&t.print(",")}),t.space(),t.print("}")):e.imported_names[0].print(t)),(e.imported_name||e.imported_names)&&(t.space(),t.print("from"),t.space()),e.module_name.print(t),e.attributes&&(t.print("with"),e.attributes.print(t)),t.semicolon()}),e(xt,function(e,t){t.print("import.meta")}),e(bt,function(e,t){var n=t.parent()instanceof Dt,i=e.name.definition(),r=e.foreign_name,o=(i&&i.mangled_name||e.name.name)!==r.name;o||"*"!==r.name||!!r.quote==!!e.name.quote||(o=!0);var s=!r.quote;o?(n?s?t.print(r.name):t.print_string(r.name,r.quote):e.name.quote?t.print_string(e.name.name,e.name.quote):e.name.print(t),t.space(),t.print("as"),t.space(),n?e.name.print(t):s?t.print(r.name):t.print_string(r.name,r.quote)):e.name.quote?t.print_string(e.name.name,e.name.quote):e.name.print(t)}),e(wt,function(e,t){if(t.print("export"),t.space(),e.is_default&&(t.print("default"),t.space()),e.exported_names)1!==e.exported_names.length||"*"!==e.exported_names[0].name.name||e.exported_names[0].name.quote?(t.print("{"),e.exported_names.forEach(function(n,i){t.space(),n.print(t),i<e.exported_names.length-1&&t.print(",")}),t.space(),t.print("}")):e.exported_names[0].print(t);else if(e.exported_value)e.exported_value.print(t);else if(e.exported_definition&&(e.exported_definition.print(t),e.exported_definition instanceof _t))return;e.module_name&&(t.space(),t.print("from"),t.space(),e.module_name.print(t)),e.attributes&&(t.print("with"),e.attributes.print(t)),(e.exported_value&&!(e.exported_value instanceof Ye||e.exported_value instanceof Ue||e.exported_value instanceof Xt)||e.module_name||e.exported_names)&&t.semicolon()}),e(yt,function(e,t){if(e.name.print(t),e.value){t.space(),t.print("="),t.space();var n=t.parent(1),i=n instanceof Oe||n instanceof Me;a(e.value,t,i)}}),e(Et,function(e,t){e.expression.print(t),e instanceof kt&&0===e.args.length||((e.expression instanceof Et||e.expression instanceof Re)&&t.add_mapping(e.start),e.optional&&t.print("?."),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})}))}),e(kt,function(e,t){t.print("new"),t.space(),Et.prototype._codegen(e,t)}),At.DEFMETHOD("_do_print",function(e){this.expressions.forEach(function(t,n){n>0&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),t.print(e)})}),e(At,function(e,t){e._do_print(t)}),e(Ct,function(e,t){var n=e.expression;n.print(t);var i=e.property,r=T.has(i)?t.option("ie8"):!te(i,t.option("ecma")>=2015&&!t.option("safari10"));e.optional&&t.print("?."),r?(t.print("["),t.add_mapping(e.end),t.print_string(i),t.print("]")):(n instanceof Sn&&n.getValue()>=0&&(/[xa-f.)]/i.test(t.last())||t.print(".")),e.optional||t.print("."),t.add_mapping(e.end),t.print_name(i))}),e(Bt,function(e,t){e.expression.print(t);var n=e.property;e.optional&&t.print("?"),t.print(".#"),t.add_mapping(e.end),t.print_name(n)}),e(St,function(e,t){e.expression.print(t),e.optional&&t.print("?."),t.print("["),e.property.print(t),t.print("]")}),e(Tt,function(e,t){e.expression.print(t)}),e($t,function(e,t){var n=e.operator;"--"===n&&t.last().endsWith("!")&&t.print(" "),t.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&e.expression instanceof $t&&/^[+-]/.test(e.expression.operator))&&t.space(),e.expression.print(t)}),e(zt,function(e,t){e.expression.print(t),t.print(e.operator)}),e(Ot,function(e,t){var n=e.operator;e.left.print(t),">"==n[0]&&t.last().endsWith("--")?t.print(" "):t.space(),t.print(n),t.space(),e.right.print(t)}),e(Mt,function(e,t){e.condition.print(t),t.space(),t.print("?"),t.space(),e.consequent.print(t),t.space(),t.colon(),e.alternative.print(t)}),e(Pt,function(e,t){t.with_square(function(){var n=e.elements,i=n.length;i>0&&t.space(),n.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof In&&t.comma()}),i>0&&t.space()})}),e(Ht,function(e,t){e.properties.length>0?t.with_block(function(){e.properties.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):i(e,t)}),e(Xt,function(e,t){if(t.print("class"),t.space(),e.name&&(e.name.print(t),t.space()),e.extends){var n=!(e.extends instanceof Dn||e.extends instanceof Ft||e.extends instanceof tn||e.extends instanceof Ue);t.print("extends"),n?t.print("("):t.space(),e.extends.print(t),n?t.print(")"):t.space()}e.properties.length>0?t.with_block(function(){e.properties.forEach(function(e,n){n&&t.newline(),t.indent(),e.print(t)}),t.newline()}):t.print("{}")}),e(rn,function(e,t){t.print("new.target")}),e(Rt,function(e,t){function n(e){var t=e.definition();return t?t.mangled_name||t.name:e.name}const i=t.option("shorthand")&&!(e.key instanceof ye);i&&e.value instanceof nn&&n(e.value)===e.key&&!T.has(e.key)?u(e.key,e.quote,t)||(t.colon(),e.value.print(t)):i&&e.value instanceof Nt&&e.value.left instanceof nn&&n(e.value.left)===e.key?(u(e.key,e.quote,t)||(t.colon(),e.value.left.print(t)),t.space(),t.print("="),t.space(),e.value.right.print(t)):(e.key instanceof ye?t.with_square(function(){e.key.print(t)}):u(e.key,e.quote,t),t.colon(),e.value.print(t))}),e(Zt,(e,t)=>{e.static&&(t.print("static"),t.space()),t.print("#"),u(e.key.name,void 0,t),e.value&&(t.print("="),e.value.print(t)),t.semicolon()}),e(Jt,(e,t)=>{e.static&&(t.print("static"),t.space()),e.key instanceof hn?u(e.key.name,e.quote,t):(t.print("["),e.key.print(t),t.print("]")),e.value&&(t.print("="),e.value.print(t)),t.semicolon()}),jt.DEFMETHOD("_print_getter_setter",function(e,t,n){var i=this;i.static&&(n.print("static"),n.space()),e&&(n.print(e),n.space()),i.key instanceof pn?(t&&n.print("#"),u(i.key.name,i.quote,n),i.key.add_source_map(n)):n.with_square(function(){i.key.print(n)}),i.value._do_print(n,!0)}),e(Vt,function(e,t){e._print_getter_setter("set",!1,t)}),e(Yt,function(e,t){e._print_getter_setter("get",!1,t)}),e(Lt,function(e,t){e._print_getter_setter("set",!0,t)}),e(Ut,function(e,t){e._print_getter_setter("get",!0,t)}),e(Wt,function(e,t){var n;e.value.is_generator&&e.value.async?n="async*":e.value.is_generator?n="*":e.value.async&&(n="async"),e._print_getter_setter(n,!1,t)}),e(Gt,function(e,t){var n;e.value.is_generator&&e.value.async?n="async*":e.value.is_generator?n="*":e.value.async&&(n="async"),e._print_getter_setter(n,!0,t)}),e(Kt,function(e,t){e.key.print(t),t.space(),t.print("in"),t.space(),e.value.print(t)}),e(kn,function(e,t){t.print("#"+e.name)}),e(en,function(e,t){t.print("static"),t.space(),r(e,t)}),nn.DEFMETHOD("_do_print",function(e){var t=this.definition();e.print_name(t?t.mangled_name||t.name:this.name)}),e(nn,function(e,t){e._do_print(t)}),e(In,o),e(An,function(e,t){t.print("this")}),e(Fn,function(e,t){t.print("super")}),e(Cn,function(e,t){t.print(e.getValue())}),e(Bn,function(e,t){t.print_string(e.getValue(),e.quote,t.in_directive)}),e(Sn,function(e,t){(t.option("keep_numbers")||t.use_asm)&&e.raw?t.print(e.raw):t.print(h(e.getValue()))}),e(Tn,function(e,t){t.option("keep_numbers")&&e.raw?t.print(e.raw):t.print(e.getValue()+"n")});const c=/(<\s*\/\s*script)/i,f=/^\s*script/i,l=(e,t)=>t.replace("/","\\/");function p(e,t){t.option("braces")?d(e,t):!e||e instanceof Ce?t.force_semicolon():e instanceof vt||e instanceof gt||e instanceof Xt?d(e,t):e.print(t)}function h(e){var t,n,i,r=e.toString(10).replace(/^0\./,".").replace("e+","e"),o=[r];return Math.floor(e)===e&&(e<0?o.push("-0x"+(-e).toString(16).toLowerCase()):o.push("0x"+e.toString(16).toLowerCase())),(t=/^\.0+/.exec(r))?(n=t[0].length,i=r.slice(n),o.push(i+"e-"+(i.length+n-1))):(t=/0+$/.exec(r))?(n=t[0].length,o.push(r.slice(0,-n)+"e"+n)):(t=/^(\d)\.(\d+)e(-?\d+)$/.exec(r))&&o.push(t[1]+t[2]+"e"+(t[3]-t[2].length)),function(e){for(var t=e[0],n=t.length,i=1;i<e.length;++i)e[i].length<n&&(n=(t=e[i]).length);return t}(o)}function d(e,t){!e||e instanceof Ce?t.print("{}"):e instanceof Fe?e.print(t):t.with_block(function(){t.indent(),e.print(t),t.newline()})}function _(e,t){e.forEach(function(e){e.DEFMETHOD("add_source_map",t)})}e(qn,function(e,t){let{source:n,flags:i}=e.getValue();n=D(n),i=i?function(e){const t=new Set(e.split(""));let n="";for(const e of"dgimsuyv")t.has(e)&&(n+=e,t.delete(e));return t.size&&t.forEach(e=>{n+=e}),n}(i):"",n=n.replace(c,l),f.test(n)&&t.last().endsWith("<")&&t.print(" "),t.print(t.to_utf8(`/${n}/${i}`,!1,!0));const r=t.parent();r instanceof Ot&&/^\w/.test(r.operator)&&r.left===e&&t.print(" ")}),_([ye,Se,He],o),_([Pt,Fe,ht,Xt,Cn,De,_t,xe,dt,Ze,Re,kt,Ht,Be,nn,at,ut,Xe,Je,lt],function(e){e.add_mapping(this.start)}),_([Yt,Vt,Ut,Lt,Wt,Gt],function(e){e.add_mapping(this.start,!1)}),_([pn,kn],function(e){const t=this.end&&this.end.type;"name"===t||"privatename"===t?e.add_mapping(this.end,this.name):e.add_mapping(this.end)}),_([jt],function(e){e.add_mapping(this.start,this.key)})}();const oi=(e,t)=>null===e&&null===t||e.TYPE===t.TYPE&&e.shallow_cmp(t),si=()=>!0;ye.prototype.shallow_cmp=function(){throw new Error("did not find a shallow_cmp function for "+this.constructor.name)},De.prototype.shallow_cmp=si,xe.prototype.shallow_cmp=function(e){return this.value===e.value},we.prototype.shallow_cmp=si,Ae.prototype.shallow_cmp=si,Ce.prototype.shallow_cmp=si,Se.prototype.shallow_cmp=function(e){return this.label.name===e.label.name},$e.prototype.shallow_cmp=si,ze.prototype.shallow_cmp=si,Oe.prototype.shallow_cmp=function(e){return(null==this.init?null==e.init:this.init===e.init)&&(null==this.condition?null==e.condition:this.condition===e.condition)&&(null==this.step?null==e.step:this.step===e.step)},Me.prototype.shallow_cmp=si,Ie.prototype.shallow_cmp=si,Ne.prototype.shallow_cmp=si,He.prototype.shallow_cmp=si,je.prototype.shallow_cmp=si,Re.prototype.shallow_cmp=function(e){return this.is_generator===e.is_generator&&this.async===e.async},We.prototype.shallow_cmp=function(e){return this.is_array===e.is_array},Ge.prototype.shallow_cmp=si,Xe.prototype.shallow_cmp=si,Je.prototype.shallow_cmp=function(e){return this.value===e.value},Ze.prototype.shallow_cmp=si,tt.prototype.shallow_cmp=si,rt.prototype.shallow_cmp=si,ot.prototype.shallow_cmp=function(e){return this.is_star===e.is_star},st.prototype.shallow_cmp=function(e){return null==this.alternative?null==e.alternative:this.alternative===e.alternative},at.prototype.shallow_cmp=si,ut.prototype.shallow_cmp=si,lt.prototype.shallow_cmp=function(e){return this.body===e.body&&(null==this.bcatch?null==e.bcatch:this.bcatch===e.bcatch)&&(null==this.bfinally?null==e.bfinally:this.bfinally===e.bfinally)},ht.prototype.shallow_cmp=function(e){return null==this.argname?null==e.argname:this.argname===e.argname},dt.prototype.shallow_cmp=si,_t.prototype.shallow_cmp=si,yt.prototype.shallow_cmp=function(e){return null==this.value?null==e.value:this.value===e.value},bt.prototype.shallow_cmp=si,Dt.prototype.shallow_cmp=function(e){return(null==this.imported_name?null==e.imported_name:this.imported_name===e.imported_name)&&(null==this.imported_names?null==e.imported_names:this.imported_names===e.imported_names)&&(null==this.attributes?null==e.attributes:this.attributes===e.attributes)},xt.prototype.shallow_cmp=si,wt.prototype.shallow_cmp=function(e){return(null==this.exported_definition?null==e.exported_definition:this.exported_definition===e.exported_definition)&&(null==this.exported_value?null==e.exported_value:this.exported_value===e.exported_value)&&(null==this.exported_names?null==e.exported_names:this.exported_names===e.exported_names)&&(null==this.attributes?null==e.attributes:this.attributes===e.attributes)&&this.module_name===e.module_name&&this.is_default===e.is_default},Et.prototype.shallow_cmp=si,At.prototype.shallow_cmp=si,Ft.prototype.shallow_cmp=si,Tt.prototype.shallow_cmp=si,Ct.prototype.shallow_cmp=function(e){return this.property===e.property},Bt.prototype.shallow_cmp=function(e){return this.property===e.property},qt.prototype.shallow_cmp=function(e){return this.operator===e.operator},Ot.prototype.shallow_cmp=function(e){return this.operator===e.operator},Kt.prototype.shallow_cmp=si,Mt.prototype.shallow_cmp=si,Pt.prototype.shallow_cmp=si,Ht.prototype.shallow_cmp=si,jt.prototype.shallow_cmp=si,Rt.prototype.shallow_cmp=function(e){return this.key===e.key&&this.quote===e.quote},Vt.prototype.shallow_cmp=function(e){return this.static===e.static},Yt.prototype.shallow_cmp=function(e){return this.static===e.static},Wt.prototype.shallow_cmp=function(e){return this.static===e.static},Gt.prototype.shallow_cmp=function(e){return this.static===e.static},Xt.prototype.shallow_cmp=function(e){return(null==this.name?null==e.name:this.name===e.name)&&(null==this.extends?null==e.extends:this.extends===e.extends)},Jt.prototype.shallow_cmp=function(e){return this.static===e.static&&("string"!=typeof this.key||this.key===e.key)},Zt.prototype.shallow_cmp=function(e){return this.static===e.static},nn.prototype.shallow_cmp=function(e){return this.name===e.name},rn.prototype.shallow_cmp=si,An.prototype.shallow_cmp=si,Fn.prototype.shallow_cmp=si,Bn.prototype.shallow_cmp=function(e){return this.value===e.value},Sn.prototype.shallow_cmp=function(e){return this.value===e.value},Tn.prototype.shallow_cmp=function(e){return this.value===e.value},qn.prototype.shallow_cmp=function(e){return this.value.flags===e.value.flags&&this.value.source===e.value.source},$n.prototype.shallow_cmp=si;let ai=null,ui=null,ci=null;class fi{constructor(e,t,n){this.name=t.name,this.orig=[t],this.init=n,this.eliminated=0,this.assignments=0,this.scope=e,this.replaced=0,this.global=!1,this.export=0,this.mangled_name=null,this.undeclared=!1,this.id=fi.next_id++,this.chained=!1,this.direct_access=!1,this.escaped=0,this.recursive_refs=0,this.references=[],this.should_replace=void 0,this.single_use=!1,this.fixed=!1,Object.seal(this)}fixed_value(){return!this.fixed||this.fixed instanceof ye?this.fixed:this.fixed()}unmangleable(e){return e||(e={}),!!(ai&&ai.has(this.id)&&y(e.keep_fnames,this.orig[0].name))||this.global&&!e.toplevel||1&this.export||this.undeclared||!e.eval&&this.scope.pinned()||(this.orig[0]instanceof dn||this.orig[0]instanceof ln)&&y(e.keep_fnames,this.orig[0].name)||this.orig[0]instanceof pn||(this.orig[0]instanceof mn||this.orig[0]instanceof _n)&&y(e.keep_classnames,this.orig[0].name)}mangle(e){const t=e.cache&&e.cache.props;if(this.global&&t&&t.has(this.name))this.mangled_name=t.get(this.name);else if(!this.mangled_name&&!this.unmangleable(e)){var n=this.scope,i=this.orig[0];e.ie8&&i instanceof dn&&(n=n.parent_scope);const r=li(this);this.mangled_name=r?r.mangled_name||r.name:n.next_mangled(e,this),this.global&&t&&t.set(this.name,this.mangled_name)}}}function li(e){if(e.orig[0]instanceof vn&&e.scope.is_block_scope())return e.scope.get_defun_scope().variables.get(e.name)}function pi(e,t){let n;ci&&(n=e.get_defun_scope())&&ci.has(n)&&(e=n);var i=e.enclosed,r=t.nth_identifier;e:for(;;){var o=r.get(++e.cname);if(!T.has(o)&&!(t.reserved.has(o)||ui&&ui.has(o))){for(let e=i.length;--e>=0;){const n=i[e];if(o==(n.mangled_name||n.unmangleable(t)&&n.name))continue e}return o}}}function hi(e){return(e=r(e,{eval:!1,nth_identifier:di,ie8:!1,keep_classnames:!1,keep_fnames:!1,module:!1,reserved:[],toplevel:!1})).module&&(e.toplevel=!0),Array.isArray(e.reserved)||e.reserved instanceof Set||(e.reserved=[]),e.reserved=new Set(e.reserved),e.reserved.add("arguments"),e}fi.next_id=1,Pe.DEFMETHOD("figure_out_scope",function(e,{parent_scope:t,toplevel:n=this}={}){if(e=r(e,{cache:null,ie8:!1,safari10:!1,module:!1}),!(n instanceof He))throw new Error("Invalid toplevel scope");var i=this.parent_scope=t,o=new Map,s=null,a=null,u=[],c=new Vn((t,n)=>{if(t.is_block_scope()){const r=i;if(t.block_scope=i=new Pe(t),i._block_scope=!0,i.init_scope_vars(r),i.uses_with=r.uses_with,i.uses_eval=r.uses_eval,e.safari10&&(t instanceof Oe||t instanceof Me||t instanceof Ie)&&u.push(i),t instanceof at){const e=i;i=r,t.expression.walk(c),i=e;for(let e=0;e<t.body.length;e++)t.body[e].walk(c)}else n();return i=r,!0}if(t instanceof We){const e=a;return a=t,n(),a=e,!0}if(t instanceof Pe){t.init_scope_vars(i);var r=i,l=s,p=o;return s=i=t,o=new Map,n(),i=r,s=l,o=p,!0}if(t instanceof Se){var d=t.label;if(o.has(d.name))throw new Error(h("Label {name} defined twice",d));return o.set(d.name,d),n(),o.delete(d.name),!0}if(t instanceof Ne)for(var _=i;_;_=_.parent_scope)_.uses_with=!0;else{if(t instanceof nn&&(t.scope=i),t instanceof bn&&(t.thedef=t,t.references=[]),t instanceof dn)s.def_function(t,"arguments"==t.name?void 0:s);else if(t instanceof ln){const e=s.parent_scope;t.scope=c.directives["use strict"]?e:e.get_defun_scope(),f(t.scope.def_function(t,s),1)}else if(t instanceof mn)f(s.def_variable(t,s),1);else if(t instanceof gn)i.def_variable(t);else if(t instanceof _n)f((t.scope=s.parent_scope).def_function(t,s),1);else if(t instanceof sn||t instanceof cn||t instanceof un||t instanceof vn){if((m=t instanceof an?i.def_variable(t,null):s.def_variable(t,"SymbolVar"==t.TYPE?null:void 0)).orig.every(e=>e===t||(t instanceof an?e instanceof dn:!(e instanceof cn||e instanceof un)))||re(`"${t.name}" is redeclared`,t.start.file,t.start.line,t.start.col,t.start.pos),t instanceof fn||f(m,2),s!==i){t.mark_enclosed();var m=i.find_variable(t);t.thedef!==m&&(t.thedef=m,t.reference())}}else if(t instanceof En){var v=o.get(t.name);if(!v)throw new Error(h("Undefined label {name} [{line},{col}]",{name:t.name,line:t.start.line,col:t.start.col}));t.thedef=v}i instanceof He||!(t instanceof wt||t instanceof Dt)||re(`"${t.TYPE}" statement may only appear at the top level`,t.start.file,t.start.line,t.start.col,t.start.pos)}});function f(e,t){if(a){var n=0;do{t++}while(c.parent(n++)!==a)}var i=c.parent(t);if(e.export=i instanceof wt?1:0){var r=i.exported_definition;(r instanceof Ye||r instanceof Qt)&&i.is_default&&(e.export=2)}}if(e.module&&(c.directives["use strict"]=!0),this.walk(c),this instanceof He&&(this.globals=new Map),c=new Vn(e=>{if(e instanceof tt&&e.label)return e.label.thedef.references.push(e),!0;if(e instanceof Dn){var t,i=e.name;if("eval"==i&&c.parent()instanceof Et)for(var r=e.scope;r&&!r.uses_eval;r=r.parent_scope)r.uses_eval=!0;return c.parent()instanceof bt&&c.parent(1).module_name||!(t=e.scope.find_variable(i))?(t=n.def_global(e),e instanceof xn&&(t.export=1)):t.scope instanceof Re&&"arguments"==i&&(t.scope.get_defun_scope().uses_arguments=!0),e.thedef=t,e.reference(),!e.scope.is_block_scope()||t.orig[0]instanceof an||(e.scope=e.scope.get_defun_scope()),!0}var o;if(e instanceof vn&&(o=li(e.definition())))for(r=e.scope;r&&(p(r.enclosed,o),r!==o.scope);)r=r.parent_scope}),this.walk(c),(e.ie8||e.safari10)&&Rn(this,e=>{if(e instanceof vn){var t=e.name,i=e.thedef.references,r=e.scope.get_defun_scope(),o=r.find_variable(t)||n.globals.get(t)||r.def_variable(e);return i.forEach(function(e){e.thedef=o,e.reference()}),e.thedef=o,e.reference(),!0}}),e.safari10)for(const e of u)e.parent_scope.variables.forEach(function(t){p(e.enclosed,t)})}),He.DEFMETHOD("def_global",function(e){var t=this.globals,n=e.name;if(t.has(n))return t.get(n);var i=new fi(this,e);return i.undeclared=!0,i.global=!0,t.set(n,i),i}),Pe.DEFMETHOD("init_scope_vars",function(e){this.variables=new Map,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=e,this.enclosed=[],this.cname=-1}),Pe.DEFMETHOD("conflicting_def",function(e){return this.enclosed.find(t=>t.name===e)||this.variables.has(e)||this.parent_scope&&this.parent_scope.conflicting_def(e)}),Pe.DEFMETHOD("conflicting_def_shallow",function(e){return this.enclosed.find(t=>t.name===e)||this.variables.has(e)}),Pe.DEFMETHOD("add_child_scope",function(e){if(e.parent_scope===this)return;e.parent_scope=this,e instanceof Ve&&this instanceof Re&&!this.uses_arguments&&(this.uses_arguments=Rn(e,e=>e instanceof Dn&&e.scope instanceof Re&&"arguments"===e.name?Un:e instanceof Re&&!(e instanceof Ve)||void 0)),this.uses_with=this.uses_with||e.uses_with,this.uses_eval=this.uses_eval||e.uses_eval;const t=(()=>{const e=[];let t=this;do{e.push(t)}while(t=t.parent_scope);return e.reverse(),e})(),n=new Set(e.enclosed),i=[];for(const e of t){i.forEach(t=>p(e.enclosed,t));for(const t of e.variables.values())n.has(t)&&(p(i,t),p(e.enclosed,t))}}),Pe.DEFMETHOD("create_symbol",function(e,{source:t,tentative_name:n,scope:i,conflict_scopes:r=[i],init:o=null}={}){let s;if(r=function(e){const t=new Set;for(const n of new Set(e))(function e(n){null==n||t.has(n)||(t.add(n),e(n.parent_scope))})(n);return[...t]}(r),n){n=s=n.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_");let e=0;for(;r.find(e=>e.conflicting_def_shallow(s));)s=n+"$"+e++}if(!s)throw new Error("No symbol name could be generated in create_symbol()");const a=l(e,t,{name:s,scope:i});return this.def_variable(a,o||null),a.mark_enclosed(),a}),ye.DEFMETHOD("is_block_scope",s),Xt.DEFMETHOD("is_block_scope",s),Re.DEFMETHOD("is_block_scope",s),He.DEFMETHOD("is_block_scope",s),ut.DEFMETHOD("is_block_scope",s),Ae.DEFMETHOD("is_block_scope",a),Pe.DEFMETHOD("is_block_scope",function(){return this._block_scope||!1}),Te.DEFMETHOD("is_block_scope",a),Re.DEFMETHOD("init_scope_vars",function(){Pe.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new fn({name:"arguments",start:this.start,end:this.end}))}),Ve.DEFMETHOD("init_scope_vars",function(){Pe.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1}),nn.DEFMETHOD("mark_enclosed",function(){for(var e=this.definition(),t=this.scope;t&&(p(t.enclosed,e),t!==e.scope);)t=t.parent_scope}),nn.DEFMETHOD("reference",function(){this.definition().references.push(this),this.mark_enclosed()}),Pe.DEFMETHOD("find_variable",function(e){return e instanceof nn&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),Pe.DEFMETHOD("def_function",function(e,t){var n=this.def_variable(e,t);return(!n.init||n.init instanceof Ye)&&(n.init=t),n}),Pe.DEFMETHOD("def_variable",function(e,t){var n=this.variables.get(e.name);return n?(n.orig.push(e),n.init&&(n.scope!==e.scope||n.init instanceof Ue)&&(n.init=t)):(n=new fi(this,e,t),this.variables.set(e.name,n),n.global=!this.parent_scope),e.thedef=n}),Pe.DEFMETHOD("next_mangled",function(e){return pi(this,e)}),He.DEFMETHOD("next_mangled",function(e){let t;const n=this.mangled_names;do{t=pi(this,e)}while(n.has(t));return t}),Ue.DEFMETHOD("next_mangled",function(e,t){for(var n=t.orig[0]instanceof fn&&this.name&&this.name.definition(),i=n?n.mangled_name||n.name:null;;){var r=pi(this,e);if(!i||i!=r)return r}}),nn.DEFMETHOD("unmangleable",function(e){var t=this.definition();return!t||t.unmangleable(e)}),bn.DEFMETHOD("unmangleable",s),nn.DEFMETHOD("unreferenced",function(){return!this.definition().references.length&&!this.scope.pinned()}),nn.DEFMETHOD("definition",function(){return this.thedef}),nn.DEFMETHOD("global",function(){return this.thedef.global}),He.DEFMETHOD("mangle_names",function(e){var t=(e=hi(e)).nth_identifier,n=-1,i=[];e.keep_fnames&&(ai=new Set);const r=this.mangled_names=new Set;ui=new Set,e.cache&&(this.globals.forEach(s),e.cache.props&&e.cache.props.forEach(function(e){r.add(e)}));var o=new Vn(function(r,a){if(r instanceof Se){var u=n;return a(),n=u,!0}if(r instanceof Ye&&!(o.parent()instanceof Pe)&&(ci=ci||new Set,ci.add(r.parent_scope.get_defun_scope())),r instanceof Pe)r.variables.forEach(s);else if(r.is_block_scope())r.block_scope.variables.forEach(s);else if(ai&&r instanceof yt&&r.value instanceof Re&&!r.value.name&&y(e.keep_fnames,r.name.name))ai.add(r.name.definition().id);else{if(r instanceof bn){let e;do{e=t.get(++n)}while(T.has(e));return r.mangled_name=e,!0}!e.ie8&&!e.safari10&&r instanceof vn&&i.push(r.definition())}});function s(t){1&t.export?ui.add(t.name):e.reserved.has(t.name)||i.push(t)}this.walk(o),(e.keep_fnames||e.keep_classnames)&&i.forEach(t=>{t.name.length<6&&t.unmangleable(e)&&ui.add(t.name)}),i.forEach(t=>{t.mangle(e)}),ai=null,ui=null,ci=null}),He.DEFMETHOD("find_colliding_names",function(e){const t=e.cache&&e.cache.props,n=new Set;return e.reserved.forEach(i),this.globals.forEach(r),this.walk(new Vn(function(e){e instanceof Pe&&e.variables.forEach(r),e instanceof vn&&r(e.definition())})),n;function i(e){n.add(e)}function r(n){var r=n.name;if(n.global&&t&&t.has(r))r=t.get(r);else if(!n.unmangleable(e))return;i(r)}}),He.DEFMETHOD("expand_names",function(e){var t=(e=hi(e)).nth_identifier;t.reset&&t.sort&&(t.reset(),t.sort());var n=this.find_colliding_names(e),i=0;function r(r){if(r.global&&e.cache)return;if(r.unmangleable(e))return;if(e.reserved.has(r.name))return;const o=li(r),s=r.name=o?o.name:function(){var e;do{e=t.get(i++)}while(n.has(e)||T.has(e));return e}();r.orig.forEach(function(e){e.name=s}),r.references.forEach(function(e){e.name=s})}this.globals.forEach(r),this.walk(new Vn(function(e){e instanceof Pe&&e.variables.forEach(r),e instanceof vn&&r(e.definition())}))}),ye.DEFMETHOD("tail_node",u),At.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),He.DEFMETHOD("compute_char_frequency",function(e){var t=(e=hi(e)).nth_identifier;if(t.reset&&t.consider&&t.sort){t.reset();try{ye.prototype.print=function(i,r){this._print(i,r),this instanceof nn&&!this.unmangleable(e)?t.consider(this.name,-1):e.properties&&(this instanceof Bt?t.consider("#"+this.property,-1):this instanceof Ct?t.consider(this.property,-1):this instanceof St&&n(this.property))},t.consider(this.print_to_string(),1)}finally{ye.prototype.print=ye.prototype._print}t.sort()}function n(e){e instanceof Bn?t.consider(e.value,-1):e instanceof Mt?(n(e.consequent),n(e.alternative)):e instanceof At&&n(e.tail_node())}});const di=(()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_".split(""),t="0123456789".split("");let n,i;function r(){i=new Map,e.forEach(function(e){i.set(e,0)}),t.forEach(function(e){i.set(e,0)})}function o(e,t){return i.get(t)-i.get(e)}function s(){n=_(e,o).concat(_(t,o))}return r(),s(),{get:function(e){var t="",i=54;e++;do{e--,t+=n[e%i],e=Math.floor(e/i),i=64}while(e>0);return t},consider:function(e,t){for(var n=e.length;--n>=0;)i.set(e[n],i.get(e[n])+t)},reset:r,sort:s}})();let _i;ye.prototype.size=function(e,t){_i=e&&e._mangle_options;let n=0;return Ln(this,(e,t)=>{if(n+=e._size(t),e instanceof Ve&&e.is_braceless())return n+=e.body[0].value._size(t),!0},t||e&&e.stack),_i=void 0,n},ye.prototype._size=()=>0,De.prototype._size=()=>8,xe.prototype._size=function(){return 2+this.value.length};const mi=e=>e.length&&e.length-1;Ae.prototype._size=function(){return 2+mi(this.body)},He.prototype._size=function(){return mi(this.body)},Ce.prototype._size=()=>1,Se.prototype._size=()=>2,$e.prototype._size=()=>9,ze.prototype._size=()=>7,Oe.prototype._size=()=>8,Me.prototype._size=()=>8,Ne.prototype._size=()=>6,je.prototype._size=()=>3;const vi=e=>(e.is_generator?1:0)+(e.async?6:0);Le.prototype._size=function(){return vi(this)+4+mi(this.argnames)+mi(this.body)},Ue.prototype._size=function(e){return 2*!!Qn(e)+vi(this)+12+mi(this.argnames)+mi(this.body)},Ye.prototype._size=function(){return vi(this)+13+mi(this.argnames)+mi(this.body)},Ve.prototype._size=function(){let e=2+mi(this.argnames);1===this.argnames.length&&this.argnames[0]instanceof nn||(e+=2);const t=this.is_braceless()?0:mi(this.body)+2;return vi(this)+e+t},We.prototype._size=()=>2,Xe.prototype._size=function(){return 2+3*Math.floor(this.segments.length/2)},Je.prototype._size=function(){return this.value.length},Qe.prototype._size=function(){return this.value?7:6},et.prototype._size=()=>6,nt.prototype._size=function(){return this.label?6:5},it.prototype._size=function(){return this.label?9:8},st.prototype._size=()=>4,at.prototype._size=function(){return 8+mi(this.body)},ft.prototype._size=function(){return 5+mi(this.body)},ct.prototype._size=function(){return 8+mi(this.body)},lt.prototype._size=()=>3,ht.prototype._size=function(){let e=7+mi(this.body);return this.argname&&(e+=2),e},dt.prototype._size=function(){return 7+mi(this.body)},mt.prototype._size=function(){return 4+mi(this.definitions)},vt.prototype._size=function(){return 4+mi(this.definitions)},gt.prototype._size=function(){return 6+mi(this.definitions)},yt.prototype._size=function(){return this.value?1:0},bt.prototype._size=function(){return this.name?4:0},Dt.prototype._size=function(){let e=6;return this.imported_name&&(e+=1),(this.imported_name||this.imported_names)&&(e+=5),this.imported_names&&(e+=2+mi(this.imported_names)),e},xt.prototype._size=()=>11,wt.prototype._size=function(){let e=7+(this.is_default?8:0);return this.exported_value&&(e+=this.exported_value._size()),this.exported_names&&(e+=2+mi(this.exported_names)),this.module_name&&(e+=5),e},Et.prototype._size=function(){return this.optional?4+mi(this.args):2+mi(this.args)},kt.prototype._size=function(){return 6+mi(this.args)},At.prototype._size=function(){return mi(this.expressions)},Ct.prototype._size=function(){return this.optional?this.property.length+2:this.property.length+1},Bt.prototype._size=function(){return this.optional?this.property.length+3:this.property.length+2},St.prototype._size=function(){return this.optional?4:2},qt.prototype._size=function(){return"typeof"===this.operator?7:"void"===this.operator?5:this.operator.length},Ot.prototype._size=function(e){if("in"===this.operator)return 4;let t=this.operator.length;return("+"===this.operator||"-"===this.operator)&&this.right instanceof qt&&this.right.operator===this.operator&&(t+=1),this.needs_parens(e)&&(t+=2),t},Mt.prototype._size=()=>3,Pt.prototype._size=function(){return 2+mi(this.elements)},Ht.prototype._size=function(e){let t=2;return Qn(e)&&(t+=2),t+mi(this.properties)};const gi=e=>"string"==typeof e?e.length:0;Rt.prototype._size=function(){return gi(this.key)+1};const yi=e=>e?7:0;Yt.prototype._size=function(){return 5+yi(this.static)+gi(this.key)},Vt.prototype._size=function(){return 5+yi(this.static)+gi(this.key)},Wt.prototype._size=function(){return yi(this.static)+gi(this.key)},Gt.prototype._size=function(){return Wt.prototype._size.call(this)+1},Ut.prototype._size=function(){return Wt.prototype._size.call(this)+4},Lt.prototype._size=function(){return Wt.prototype._size.call(this)+4},Kt.prototype._size=function(){return 5},Xt.prototype._size=function(){return(this.name?8:7)+(this.extends?8:0)},en.prototype._size=function(){return 8+mi(this.body)},Jt.prototype._size=function(){return yi(this.static)+("string"==typeof this.key?this.key.length+2:0)+(this.value?1:0)},Zt.prototype._size=function(){return Jt.prototype._size.call(this)+1},nn.prototype._size=function(){return _i&&this.thedef&&!this.thedef.unmangleable(_i)?1:this.name.length},hn.prototype._size=function(){return this.name.length},Dn.prototype._size=on.prototype._size=function(){return"arguments"===this.name?9:nn.prototype._size.call(this)},rn.prototype._size=()=>10,yn.prototype._size=function(){return this.name.length},wn.prototype._size=function(){return this.name.length},An.prototype._size=()=>4,Fn.prototype._size=()=>5,Bn.prototype._size=function(){return this.value.length+2},Sn.prototype._size=function(){const{value:e}=this;return 0===e?1:e>0&&Math.floor(e)===e?Math.floor(Math.log10(e)+1):e.toString().length},Tn.prototype._size=function(){return this.value.length},qn.prototype._size=function(){return this.value.toString().length},zn.prototype._size=()=>4,On.prototype._size=()=>3,Mn.prototype._size=()=>6,In.prototype._size=()=>0,Nn.prototype._size=()=>8,jn.prototype._size=()=>4,Hn.prototype._size=()=>5,rt.prototype._size=()=>6,ot.prototype._size=()=>6;const bi=32,Di=256,xi=(e,t)=>e.flags&t,wi=(e,t)=>{e.flags|=t},Ei=(e,t)=>{e.flags&=~t};function ki(e,t){return t instanceof At?e.push(...t.expressions):e.push(t),e}function Ai(e,t){if(1==t.length)return t[0];if(0==t.length)throw new Error("trying to create a sequence with length zero!");return l(At,e,{expressions:t.reduce(ki,[])})}function Fi(e){return l(Ue,e,{uses_arguments:!1,argnames:[],body:[],is_generator:!1,async:!1,variables:new Map,uses_with:!1,uses_eval:!1,parent_scope:null,enclosed:[],cname:0,block_scope:void 0})}function Ci(e,t){switch(typeof e){case"string":return l(Bn,t,{value:e});case"number":return isNaN(e)?l(On,t):isFinite(e)?1/e<0?l($t,t,{operator:"-",expression:l(Sn,t,{value:-e})}):l(Sn,t,{value:e}):e<0?l($t,t,{operator:"-",expression:l(Nn,t)}):l(Nn,t);case"bigint":return l(Tn,t,{value:e.toString()});case"boolean":return l(e?jn:Hn,t);case"undefined":return l(Mn,t);default:if(null===e)return l(zn,t,{value:null});if(e instanceof RegExp)return l(qn,t,{value:{source:D(e.source),flags:e.flags}});throw new Error(h("Can't handle constant of type: {type}",{type:typeof e}))}}function Bi(e,t){return e.size()>t.size()?t:e}function Si(e,t,n){return Qn(e)?function(e,t){return Bi(l(we,e,{body:e}),l(we,t,{body:t})).body}(t,n):Bi(t,n)}function Ti(e){return e instanceof Cn?e.getValue():e instanceof $t&&"void"==e.operator&&e.expression instanceof Cn?void 0:e}function qi(e,t){if(!((t=Ti(t))instanceof ye)){var n;if(e instanceof Pt){var i=e.elements;if("length"==t)return Ci(i.length,e);"number"==typeof t&&t in i&&(n=i[t])}else if(e instanceof Ht){t=""+t;for(var r=e.properties,o=r.length;--o>=0;){if(!(r[o]instanceof Rt))return;n||r[o].key!==t||(n=r[o].value)}}return n instanceof Dn&&n.fixed_value()||n}}function $i(e,t){var n=!1,i=new Vn(function(t){return!!(n||t instanceof Pe)||(t instanceof tt&&i.loopcontrol_target(t)===e?n=!0:void 0)});return t instanceof Se&&i.push(t),i.push(e),e.body.walk(i),n}function zi(e,t,n){return Oi(e,t,n)?Ai(t,[l(Sn,t,{value:0}),n]):n}function Oi(e,t,n){return e instanceof $t&&"delete"==e.operator||e instanceof Et&&e.expression===t&&(n instanceof Tt||n instanceof Ft||n instanceof Dn&&"eval"==n.name)}function Mi(e){return e instanceof Ve||e instanceof Ue}function Ii(e){return"Call"==e.TYPE&&(e.expression instanceof Ue||Ii(e.expression))}function Ni(e){return null===e||e instanceof Ce||e instanceof Fe&&0==e.body.length}const Pi=m("Infinity NaN undefined");function Hi(e){return e instanceof Nn||e instanceof On||e instanceof Mn}function ji(e,t){if(!(e instanceof Dn))return!1;for(var n=e.definition().orig,i=n.length;--i>=0;)if(n[i]instanceof t)return!0}function Ri(e){return!(e instanceof Qt||e instanceof Ye||e instanceof vt||e instanceof gt||e instanceof wt||e instanceof Dt)}function Li(e){if(null===e)return[];if(e instanceof Fe)return e.body;if(e instanceof Ce)return[];if(e instanceof be)return[e];throw new Error("Can't convert thing to statement array")}function Ui(e,t){const n=e=>{if(e instanceof Dn&&t.includes(e.definition()))return Un};return Ln(e,(t,i)=>{if(t instanceof Pe&&t!==e){var r=i.parent();if(r instanceof Et&&r.expression===t&&!t.async&&!t.is_generator)return;return!Rn(t,n)||Un}})}function Vi(e,t){for(var n,i=0;n=e.parent(i);i++)if(n instanceof Re||n instanceof Xt){var r=n.name;if(r&&r.definition()===t)return!0}return!1}function Yi(e,t){return t.top_retain&&e instanceof Ye&&xi(e,1024)&&e.name&&t.top_retain(e.name.definition())}function Wi(e){const t=new Map;for(var n of Object.keys(e))t.set(n,m(e[n]));return(e,n)=>{const i=t.get(e);return null!=i&&i.has(n)}}const Gi=new Set(["Number","String","Array","Object","Function","Promise"]),Xi=["constructor","toString","valueOf"],Ji=Wi({Array:["at","flat","includes","indexOf","join","lastIndexOf","slice",...Xi],Boolean:Xi,Function:Xi,Number:["toExponential","toFixed","toPrecision",...Xi],Object:Xi,RegExp:["test",...Xi],String:["at","charAt","charCodeAt","charPointAt","concat","endsWith","fromCharCode","fromCodePoint","includes","indexOf","italics","lastIndexOf","localeCompare","match","matchAll","normalize","padStart","padEnd","repeat","replace","replaceAll","search","slice","split","startsWith","substr","substring","repeat","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimEnd","trimStart",...Xi]}),Zi=Wi({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","hasOwn","keys"],String:["fromCharCode"]}),Ki=Wi({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),Qi=e=>e instanceof Dn&&e.definition().undeclared,er=m("<<< >> << & | ^ ~"),tr=m("&& || ??"),nr=m("delete ++ --");var ir,rr;function or(e,t){return xi(e,8)||e instanceof Mn||e instanceof $t&&"void"==e.operator&&!e.expression.has_side_effects(t)}function sr(e,t){let n;return e instanceof zn||or(e,t)||e instanceof Dn&&(n=e.definition().fixed)instanceof ye&&ur(n,t)}function ar(e,t){return e instanceof Ft||e instanceof Et?e.optional&&sr(e.expression,t)||ar(e.expression,t):e instanceof Tt&&ar(e.expression,t)}function ur(e,t){return!!sr(e,t)||ar(e,t)}function cr(e,t){return t instanceof qt&&nr.has(t.operator)?t.expression:t instanceof It&&t.left===e||t instanceof Me&&t.init===e?e:void 0}!function(e){const t=m("! delete"),n=m("in instanceof == != === !== < <= >= >");e(ye,s),e($t,function(){return t.has(this.operator)}),e(Ot,function(){return n.has(this.operator)||tr.has(this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),e(Mt,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),e(It,function(){return"="==this.operator&&this.right.is_boolean()}),e(At,function(){return this.tail_node().is_boolean()}),e(jn,a),e(Hn,a)}(function(e,t){e.DEFMETHOD("is_boolean",t)}),function(e){e(ye,s),e(Sn,a);const t=m("+ - ~ ++ --");e(qt,function(e){return t.has(this.operator)&&this.expression.is_number(e)});const n=m("- * / % & | ^ << >> >>>");e(Ot,function(e){return"+"===this.operator?this.left.is_number(e)&&this.right.is_number_or_bigint(e)||this.right.is_number(e)&&this.left.is_number_or_bigint(e):!!n.has(this.operator)&&(this.left.is_number(e)||this.right.is_number(e))}),e(It,function(e){return("="===this.operator||n.has(this.operator.slice(0,-1)))&&this.right.is_number(e)}),e(At,function(e){return this.tail_node().is_number(e)}),e(Mt,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})}(function(e,t){e.DEFMETHOD("is_number",t)}),function(e){e(ye,s),e(Tn,a);const t=m("+ - ~ ++ --");e(qt,function(e){return t.has(this.operator)&&this.expression.is_bigint(e)});const n=m("- * / % & | ^ << >>");e(Ot,function(e){return"+"===this.operator?this.left.is_bigint(e)&&this.right.is_number_or_bigint(e)||this.right.is_bigint(e)&&this.left.is_number_or_bigint(e):!!n.has(this.operator)&&(this.left.is_bigint(e)||this.right.is_bigint(e))}),e(It,function(e){return(n.has(this.operator.slice(0,-1))||"="==this.operator)&&this.right.is_bigint(e)}),e(At,function(e){return this.tail_node().is_bigint(e)}),e(Mt,function(e){return this.consequent.is_bigint(e)&&this.alternative.is_bigint(e)})}(function(e,t){e.DEFMETHOD("is_bigint",t)}),function(e){e(ye,s),e(Sn,a),e(Tn,a);const t=m("+ - ~ ++ --");e(qt,function(e){return t.has(this.operator)});const n=m("- * / % & | ^ << >>");e(Ot,function(e){return"+"===this.operator?this.left.is_number_or_bigint(e)&&this.right.is_number_or_bigint(e):n.has(this.operator)}),e(It,function(e){return n.has(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number_or_bigint(e)}),e(At,function(e){return this.tail_node().is_number_or_bigint(e)}),e(Mt,function(e){return this.consequent.is_number_or_bigint(e)&&this.alternative.is_number_or_bigint(e)})}(function(e,t){e.DEFMETHOD("is_number_or_bigint",t)}),(ir=function(e,t){e.DEFMETHOD("is_32_bit_integer",t)})(ye,s),ir(Sn,function(e){return this.value===(0|this.value)}),ir($t,function(e){return"~"==this.operator?this.expression.is_number(e):"+"===this.operator&&this.expression.is_32_bit_integer(e)}),ir(Ot,function(e){return er.has(this.operator)&&(this.left.is_number(e)||this.right.is_number(e))}),(rr=function(e,t){e.DEFMETHOD("is_string",t)})(ye,s),rr(Bn,a),rr(Xe,a),rr($t,function(){return"typeof"==this.operator}),rr(Ot,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),rr(It,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),rr(At,function(e){return this.tail_node().is_string(e)}),rr(Mt,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),function(e){function t(e,t){for(var n=e.length;--n>=0;)if(e[n].has_side_effects(t))return!0;return!1}e(ye,a),e(Ce,s),e(Cn,s),e(An,s),e(Ae,function(e){return t(this.body,e)}),e(Et,function(e){return!(this.is_callee_pure(e)||this.expression.is_call_pure(e)&&!this.expression.has_side_effects(e))||t(this.args,e)}),e(at,function(e){return this.expression.has_side_effects(e)||t(this.body,e)}),e(ft,function(e){return this.expression.has_side_effects(e)||t(this.body,e)}),e(lt,function(e){return this.body.has_side_effects(e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),e(st,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),e(xt,s),e(Se,function(e){return this.body.has_side_effects(e)}),e(we,function(e){return this.body.has_side_effects(e)}),e(Re,s),e(Xt,function(e){return!(!this.extends||!this.extends.has_side_effects(e))||t(this.properties,e)}),e(en,function(e){return t(this.body,e)}),e(Ot,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(It,a),e(Mt,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(qt,function(e){return nr.has(this.operator)||this.expression.has_side_effects(e)}),e(Dn,function(e){return!this.is_declared(e)&&!Gi.has(this.name)}),e(hn,s),e(on,s),e(Ht,function(e){return t(this.properties,e)}),e(Rt,function(e){return this.computed_key()&&this.key.has_side_effects(e)||this.value&&this.value.has_side_effects(e)}),e([Jt,Zt],function(e){return this.computed_key()&&this.key.has_side_effects(e)||this.static&&this.value&&this.value.has_side_effects(e)}),e([Gt,Ut,Lt,Wt,Yt,Vt],function(e){return this.computed_key()&&this.key.has_side_effects(e)}),e(Pt,function(e){return t(this.elements,e)}),e(Ct,function(e){return ur(this,e)?this.expression.has_side_effects(e):!(this.optional||!this.expression.may_throw_on_access(e))||this.expression.has_side_effects(e)}),e(St,function(e){if(ur(this,e))return this.expression.has_side_effects(e);if(!this.optional&&this.expression.may_throw_on_access(e))return!0;var t=this.property.has_side_effects(e);return!(!t||!this.optional)||t||this.expression.has_side_effects(e)}),e(Tt,function(e){return this.expression.has_side_effects(e)}),e(At,function(e){return t(this.expressions,e)}),e(_t,function(e){return t(this.definitions,e)}),e(yt,function(){return null!=this.value}),e(Je,s),e(Xe,function(e){return t(this.segments,e)})}(function(e,t){for(const n of[].concat(e))n.DEFMETHOD("has_side_effects",t)}),function(e){function t(e,t){for(var n=e.length;--n>=0;)if(e[n].may_throw(t))return!0;return!1}e(ye,a),e(Cn,s),e(Ce,s),e(Re,s),e(on,s),e(An,s),e(xt,s),e(Xt,function(e){return!(!this.extends||!this.extends.may_throw(e))||t(this.properties,e)}),e(en,function(e){return t(this.body,e)}),e(Pt,function(e){return t(this.elements,e)}),e(It,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Dn)&&this.left.may_throw(e)}),e(Ot,function(e){return this.left.may_throw(e)||this.right.may_throw(e)}),e(Ae,function(e){return t(this.body,e)}),e(Et,function(e){return!ur(this,e)&&(!!t(this.args,e)||!this.is_callee_pure(e)&&(!!this.expression.may_throw(e)||!(this.expression instanceof Re)||t(this.expression.body,e)))}),e(ft,function(e){return this.expression.may_throw(e)||t(this.body,e)}),e(Mt,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),e(_t,function(e){return t(this.definitions,e)}),e(st,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),e(Se,function(e){return this.body.may_throw(e)}),e(Ht,function(e){return t(this.properties,e)}),e(Rt,function(e){return!!(this.computed_key()&&this.key.may_throw(e)||this.value)&&this.value.may_throw(e)}),e([Jt,Zt],function(e){return this.computed_key()&&this.key.may_throw(e)||this.static&&this.value&&this.value.may_throw(e)}),e([Wt,Yt,Vt],function(e){return this.computed_key()&&this.key.may_throw(e)}),e([Gt,Ut,Lt],s),e(Qe,function(e){return this.value&&this.value.may_throw(e)}),e(At,function(e){return t(this.expressions,e)}),e(we,function(e){return this.body.may_throw(e)}),e(Ct,function(e){return!ur(this,e)&&(!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e))}),e(St,function(e){return!ur(this,e)&&(!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e))}),e(Tt,function(e){return this.expression.may_throw(e)}),e(at,function(e){return this.expression.may_throw(e)||t(this.body,e)}),e(Dn,function(e){return!this.is_declared(e)&&!Gi.has(this.name)}),e(hn,s),e(lt,function(e){return this.bcatch?this.bcatch.may_throw(e):this.body.may_throw(e)||this.bfinally&&this.bfinally.may_throw(e)}),e(qt,function(e){return!("typeof"==this.operator&&this.expression instanceof Dn)&&this.expression.may_throw(e)}),e(yt,function(e){return!!this.value&&this.value.may_throw(e)})}(function(e,t){for(const n of[].concat(e))n.DEFMETHOD("may_throw",t)}),function(e){function n(e){let n=!0;return Rn(this,i=>{if(i instanceof Dn){if(xi(this,16))return n=!1,Un;var r=i.definition();if(t(r,this.enclosed)&&!this.variables.has(r.name)){if(e){var o=e.find_variable(i);if(r.undeclared?!o:o===r)return n="f",!0}return n=!1,Un}return!0}if(i instanceof An&&this instanceof Ve)return n=!1,Un}),n}e(ye,s),e(Cn,a),e(Xt,function(e){if(this.extends&&!this.extends.is_constant_expression(e))return!1;for(const t of this.properties){if(t.computed_key()&&!t.key.is_constant_expression(e))return!1;if(t.static&&t.value&&!t.value.is_constant_expression(e))return!1;if(t instanceof en)return!1}return n.call(this,e)}),e(Re,n),e(qt,function(){return this.expression.is_constant_expression()}),e(Ot,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()}),e(Pt,function(){return this.elements.every(e=>e.is_constant_expression())}),e(Ht,function(){return this.properties.every(e=>e.is_constant_expression())}),e(jt,function(){return!(this.key instanceof ye||!this.value||!this.value.is_constant_expression())})}(function(e,t){e.DEFMETHOD("is_constant_expression",t)}),function(e){function t(e){return/strict/.test(e.option("pure_getters"))}ye.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),e(ye,t),e(zn,a),e(Mn,a),e(Cn,s),e(Pt,s),e(Ht,function(e){if(!t(e))return!1;for(var n=this.properties.length;--n>=0;)if(this.properties[n]._dot_throw(e))return!0;return!1}),e(Xt,s),e(jt,s),e(Yt,a),e(je,function(e){return this.expression._dot_throw(e)}),e(Ue,s),e(Ve,s),e(zt,s),e($t,function(){return"void"==this.operator}),e(Ot,function(e){return("&&"==this.operator||"||"==this.operator||"??"==this.operator)&&(this.left._dot_throw(e)||this.right._dot_throw(e))}),e(It,function(e){return!!this.logical||"="==this.operator&&this.right._dot_throw(e)}),e(Mt,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),e(Ct,function(e){return!(!t(e)||"prototype"==this.property&&(this.expression instanceof Ue||this.expression instanceof Xt))}),e(Tt,function(e){return this.expression._dot_throw(e)}),e(At,function(e){return this.tail_node()._dot_throw(e)}),e(Dn,function(e){if("arguments"===this.name&&this.scope instanceof Re)return!1;if(xi(this,8))return!0;if(!t(e))return!1;if(Qi(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var n=this.fixed_value();return!n||n._dot_throw(e)})}(function(e,t){e.DEFMETHOD("_dot_throw",t)}),function(e){function t(e){return l($t,e,{operator:"!",expression:e})}function n(e,n,i){var r=t(e);if(i){var o=l(we,n,{body:n});return Bi(r,o)===o?n:r}return Bi(r,n)}e(ye,function(){return t(this)}),e(be,function(){throw new Error("Cannot negate a statement")}),e(Ue,function(){return t(this)}),e(Xt,function(){return t(this)}),e(Ve,function(){return t(this)}),e($t,function(){return"!"==this.operator?this.expression:t(this)}),e(At,function(e){var t=this.expressions.slice();return t.push(t.pop().negate(e)),Ai(this,t)}),e(Mt,function(e,t){var i=this.clone();return i.consequent=i.consequent.negate(e),i.alternative=i.alternative.negate(e),n(this,i,t)}),e(Ot,function(e,i){var r=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return r.operator=">",r;case"<":return r.operator=">=",r;case">=":return r.operator="<",r;case">":return r.operator="<=",r}switch(o){case"==":return r.operator="!=",r;case"!=":return r.operator="==",r;case"===":return r.operator="!==",r;case"!==":return r.operator="===",r;case"&&":return r.operator="||",r.left=r.left.negate(e,i),r.right=r.right.negate(e),n(this,r,i);case"||":return r.operator="&&",r.left=r.left.negate(e,i),r.right=r.right.negate(e),n(this,r,i)}return t(this)})}(function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})}),function(e){function t(e){return l($t,e,{operator:"~",expression:e})}e(ye,function(e){return t(this)}),e(Sn,function(e){const n=~this.value;return n.toString().length>this.value.toString().length?t(this):l(Sn,this,{value:n})}),e($t,function(e,n){return"~"==this.operator&&(this.expression.is_32_bit_integer(e)||(null!=n?n:e.in_32_bit_context()))?this.expression:t(this)})}(function(e,t){e.DEFMETHOD("bitwise_negate",t)});var fr=m("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");Et.DEFMETHOD("is_callee_pure",function(e){if(e.option("unsafe")){var t=this.expression,n=this.args&&this.args[0]&&this.args[0].evaluate(e);if(t.expression&&"hasOwnProperty"===t.expression.name&&(null==n||n.thedef&&n.thedef.undeclared))return!1;if(Qi(t)&&fr.has(t.name))return!0;if(t instanceof Ct&&Qi(t.expression)&&Zi(t.expression.name,t.property))return!0}return!!(this instanceof kt&&e.option("pure_new"))||!(!e.option("side_effects")||!E(this,Wn))||!e.pure_funcs(this)}),ye.DEFMETHOD("is_call_pure",s),Ct.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return;const t=this.expression;let n;return t instanceof Pt?n="Array":t.is_boolean()?n="Boolean":t.is_number(e)?n="Number":t instanceof qn?n="RegExp":t.is_string(e)?n="String":this.may_throw_on_access(e)||(n="Object"),null!=n&&Ji(n,this.property)});const lr=e=>e&&e.aborts();function pr(e,t,n,i,r,o){var s=t.parent(r),a=cr(n,s);if(a)return a;if(!o&&s instanceof Et&&s.expression===n&&!(i instanceof Ve)&&!(i instanceof Xt)&&!s.is_callee_pure(e)&&(!(i instanceof Ue)||!(s instanceof kt)&&i.contains_this()))return!0;if(s instanceof Pt)return pr(e,t,s,s,r+1);if(s instanceof Rt&&n===s.value){var u=t.parent(r+1);return pr(e,t,u,u,r+2)}if(s instanceof Ft&&s.expression===n){var c=qi(i,s.property);return!o&&pr(e,t,s,c,r+1)}}function hr(e){for(let t,n,i=-1;t=e.parent(i),n=e.parent(i+1);i++){if(!(n instanceof At)){if(n instanceof qt){const e=n.operator;if("void"===e)return!1;if("typeof"===e||"+"===e||"-"===e||"!"===e||"~"===e)continue}return!(n instanceof we||n instanceof Se||n instanceof Pe)}if(n.expressions.indexOf(t)!==n.expressions.length-1){const t=e.parent(i+2);return!(n.expressions.length>2||1===n.expressions.length||!Oi(t,n,n.expressions[1]))}}return!0}function dr(e,t){e.DEFMETHOD("_eval",t)}!function(e){function t(){for(var e=0;e<this.body.length;e++)if(lr(this.body[e]))return this.body[e];return null}e(be,c),e(Ze,u),e(Dt,c),e(Fe,t),e(ut,t),e(Qt,function(){for(const e of this.properties)if(e instanceof en&&e.aborts())return e;return null}),e(en,t),e(st,function(){return this.alternative&&lr(this.body)&&lr(this.alternative)&&this})}(function(e,t){e.DEFMETHOD("aborts",t)}),ye.DEFMETHOD("contains_this",function(){return Rn(this,e=>e instanceof An?Un:e!==this&&e instanceof Pe&&!(e instanceof Ve)||void 0)});const _r=Symbol("This AST_Chain is nullish");ye.DEFMETHOD("evaluate",function(e){if(!e.option("evaluate"))return this;var t=this._eval(e,1);if(!t||t instanceof RegExp)return t;if("function"==typeof t||"object"==typeof t||t==_r)return this;if("string"==typeof t){const n=this.size(e);if(t.length+2>n)return this}return t});var mr=m("! ~ - + void");ye.DEFMETHOD("is_constant",function(){return this instanceof Cn?!(this instanceof qn):this instanceof $t&&mr.has(this.operator)&&(this.expression instanceof Cn||this.expression.is_constant())}),dr(be,function(){throw new Error(h("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),dr(Re,u),dr(Xt,u),dr(ye,u),dr(Cn,function(){return this.getValue()});const vr="function"==typeof BigInt;dr(Tn,function(){return vr?BigInt(this.value):this}),dr(qn,function(e){let t=e.evaluated_regexps.get(this.value);if(void 0===t&&w(this.value.source)){try{const{source:e,flags:n}=this.value;t=new RegExp(e,n)}catch(e){t=null}e.evaluated_regexps.set(this.value,t)}return t||this}),dr(Xe,function(){return 1!==this.segments.length?this:this.segments[0].value}),dr(Ue,function(e){if(e.option("unsafe")){var t=function(){};return t.node=this,t.toString=()=>this.print_to_string(),t}return this}),dr(Pt,function(e,t){if(e.option("unsafe")){for(var n=[],i=0,r=this.elements.length;i<r;i++){var o=this.elements[i],s=o._eval(e,t);if(o===s)return this;n.push(s)}return n}return this}),dr(Ht,function(e,t){if(e.option("unsafe")){for(var n={},i=0,r=this.properties.length;i<r;i++){var o=this.properties[i];if(o instanceof je)return this;var s=o.key;if(s instanceof nn)s=s.name;else if(s instanceof ye&&(s=s._eval(e,t))===o.key)return this;if("function"==typeof Object.prototype[s])return this;if(!(o.value instanceof Ue)&&(n[s]=o.value._eval(e,t),n[s]===o.value))return this}return n}return this});var gr=m("! typeof void");dr($t,function(e,t){var n=this.expression;if(e.option("typeofs")&&"typeof"==this.operator){if(n instanceof Re||n instanceof Dn&&n.fixed_value()instanceof Re)return"function";if((n instanceof Ht||n instanceof Pt||n instanceof Dn&&(n.fixed_value()instanceof Ht||n.fixed_value()instanceof Pt))&&!n.has_side_effects(e))return"object"}if(gr.has(this.operator)||t++,(n=n._eval(e,t))===this.expression)return this;switch(this.operator){case"!":return!n;case"typeof":return n instanceof RegExp?this:typeof n;case"void":return;case"~":return~n;case"-":return-n;case"+":return+n}return this});var yr=m("&& || ?? === !==");const br=m("== != === !=="),Dr=e=>"object"==typeof e||"function"==typeof e||"symbol"==typeof e;dr(Ot,function(e,t){yr.has(this.operator)||t++;var n=this.left._eval(e,t);if(n===this.left)return this;var i,r=this.right._eval(e,t);if(r===this.right)return this;if(null!=n&&null!=r&&br.has(this.operator)&&Dr(n)&&Dr(r)&&typeof n==typeof r)return this;if("bigint"==typeof n!=("bigint"==typeof r)||"bigint"==typeof n&&(">>>"===this.operator||"/"===this.operator&&0===Number(r)))return this;switch(this.operator){case"&&":i=n&&r;break;case"||":i=n||r;break;case"??":i=null!=n?n:r;break;case"|":i=n|r;break;case"&":i=n&r;break;case"^":i=n^r;break;case"+":i=n+r;break;case"*":i=n*r;break;case"**":i=n**r;break;case"/":i=n/r;break;case"%":i=n%r;break;case"-":i=n-r;break;case"<<":i=n<<r;break;case">>":i=n>>r;break;case">>>":i=n>>>r;break;case"==":i=n==r;break;case"===":i=n===r;break;case"!=":i=n!=r;break;case"!==":i=n!==r;break;case"<":i=n<r;break;case"<=":i=n<=r;break;case">":i=n>r;break;case">=":i=n>=r;break;default:return this}return"number"==typeof i&&isNaN(i)&&e.find_parent(Ne)?this:i}),dr(Mt,function(e,t){var n=this.condition._eval(e,t);if(n===this.condition)return this;var i=n?this.consequent:this.alternative,r=i._eval(e,t);return r===i?this:r});const xr=new Set;dr(Dn,function(e,t){if(xr.has(this))return this;var n=this.fixed_value();if(!n)return this;xr.add(this);const i=n._eval(e,t);if(xr.delete(this),i===n)return this;if(i&&"object"==typeof i){var r=this.definition().escaped;if(r&&t>r)return this}return i});const wr={Array,Math,Number,Object,String},Er=new Set(["dotAll","global","ignoreCase","multiline","sticky","unicode"]);function kr(e,t){for(const n of[].concat(e))n.DEFMETHOD("drop_side_effect_free",t)}function Ar(e,t,n){var i=e.length;if(!i)return null;for(var r=[],o=!1,s=0;s<i;s++){var a=e[s].drop_side_effect_free(t,n);o|=a!==e[s],a&&(r.push(a),n=!1)}return o?r.length?r:null:e}dr(Ft,function(e,t){let n=this.expression._eval(e,t+1);if(n===_r||this.optional&&null==n)return _r;if("length"===this.property){if("string"==typeof n)return n.length;if(n instanceof Pt&&n.elements.every(e=>!(e instanceof je))&&n.elements.every(t=>!t.has_side_effects(e)))return n.elements.length}if(e.option("unsafe")){var i=this.property;if(i instanceof ye&&(i=i._eval(e,t))===this.property)return this;var r=this.expression;if(Qi(r)){var o,s="hasOwnProperty"===r.name&&"call"===i&&(o=e.parent()&&e.parent().args)&&o&&o[0]&&o[0].evaluate(e);if(null==(s=s instanceof Ct?s.expression:s)||s.thedef&&s.thedef.undeclared)return this.clone();if(!Ki(r.name,i))return this;n=wr[r.name]}else{if(n instanceof RegExp){if("source"==i)return D(n.source);if("flags"==i||Er.has(i))return n[i]}if(!n||n===r||!g(n,i))return this;if("function"==typeof n)switch(i){case"name":return n.node.name?n.node.name.name:"";case"length":return n.node.length_property();default:return this}}return n[i]}return this}),dr(Tt,function(e,t){const n=this.expression._eval(e,t);return n===_r?void 0:n===this.expression?this:n}),dr(Et,function(e,t){var n=this.expression;const i=n._eval(e,t);if(i===_r||this.optional&&null==i)return _r;if(e.option("unsafe")&&n instanceof Ft){var r,o=n.property;if(o instanceof ye&&(o=o._eval(e,t))===n.property)return this;var s=n.expression;if(Qi(s)){var a="hasOwnProperty"===s.name&&"call"===o&&this.args[0]&&this.args[0].evaluate(e);if(null==(a=a instanceof Ct?a.expression:a)||a.thedef&&a.thedef.undeclared)return this.clone();if(!Zi(s.name,o))return this;r=wr[s.name]}else{if((r=s._eval(e,t+1))===s||!r)return this;if(!Ji(r.constructor.name,o))return this}for(var u=[],c=0,f=this.args.length;c<f;c++){var l=this.args[c],p=l._eval(e,t);if(l===p)return this;if(l instanceof Re)return this;u.push(p)}try{return r[o].apply(r,u)}catch(e){}}return this}),dr(kt,u),kr(ye,u),kr(Cn,c),kr(An,c),kr(Et,function(e,t){if(ar(this,e))return this.expression.drop_side_effect_free(e,t);if(!this.is_callee_pure(e)){if(this.expression.is_call_pure(e)){var n=this.args.slice();return n.unshift(this.expression.expression),(n=Ar(n,e,t))&&Ai(this,n)}if(Mi(this.expression)&&(!this.expression.name||!this.expression.name.definition().references.length)){var i=this.clone();return i.expression.process_expression(!1,e),i}return this}var r=Ar(this.args,e,t);return r&&Ai(this,r)}),kr(Le,c),kr(Ue,c),kr(Ve,c),kr(Xt,function(e){const t=[];if(this.is_self_referential()&&this.has_side_effects(e))return this;const n=this.extends&&this.extends.drop_side_effect_free(e);n&&t.push(n);for(const n of this.properties)if(n instanceof en){if(n.has_side_effects(e))return this}else{const i=n.drop_side_effect_free(e);i&&t.push(i)}if(!t.length)return null;const i=Ai(this,t);return this instanceof Qt?l(we,this,{body:i}):i}),kr([Jt,Zt],function(e){const t=this.computed_key()&&this.key.drop_side_effect_free(e),n=this.static&&this.value&&this.value.drop_side_effect_free(e);return t&&n?Ai(this,[t,n]):t||n||null}),kr(Ot,function(e,t){var n=this.right.drop_side_effect_free(e);if(!n)return this.left.drop_side_effect_free(e,t);if(tr.has(this.operator)){if(n===this.right)return this;var i=this.clone();return i.right=n,i}var r=this.left.drop_side_effect_free(e,t);return r?Ai(this,[r,n]):this.right.drop_side_effect_free(e,t)}),kr(It,function(e){if(this.logical)return this;var t=this.left;if(t.has_side_effects(e)||e.has_directive("use strict")&&t instanceof Ft&&t.expression.is_constant())return this;for(wi(this,bi);t instanceof Ft;)t=t.expression;return t.is_constant_expression(e.find_parent(Pe))?this.right.drop_side_effect_free(e):this}),kr(Mt,function(e){var t=this.consequent.drop_side_effect_free(e),n=this.alternative.drop_side_effect_free(e);if(t===this.consequent&&n===this.alternative)return this;if(!t)return n?l(Ot,this,{operator:"||",left:this.condition,right:n}):this.condition.drop_side_effect_free(e);if(!n)return l(Ot,this,{operator:"&&",left:this.condition,right:t});var i=this.clone();return i.consequent=t,i.alternative=n,i}),kr(qt,function(e,t){if(nr.has(this.operator))return this.expression.has_side_effects(e)?Ei(this,bi):wi(this,bi),this;if("typeof"==this.operator&&this.expression instanceof Dn)return null;var n=this.expression.drop_side_effect_free(e,t);return t&&n&&Ii(n)?n===this.expression&&"!"==this.operator?this:n.negate(e,t):n}),kr(Dn,function(e){return this.is_declared(e)||Gi.has(this.name)?null:this}),kr(Ht,function(e,t){var n=Ar(this.properties,e,t);return n&&Ai(this,n)}),kr(Rt,function(e,t){const n=this.key instanceof ye&&this.key.drop_side_effect_free(e,t),i=this.value.drop_side_effect_free(e,t);return n&&i?Ai(this,[n,i]):n||i}),kr([Wt,Yt,Vt],function(){return this.computed_key()?this.key:null}),kr([Gt,Ut,Lt],function(){return null}),kr(Pt,function(e,t){var n=Ar(this.elements,e,t);return n&&Ai(this,n)}),kr(Ct,function(e,t){return ar(this,e)?this.expression.drop_side_effect_free(e,t):!this.optional&&this.expression.may_throw_on_access(e)?this:this.expression.drop_side_effect_free(e,t)}),kr(St,function(e,t){if(ar(this,e))return this.expression.drop_side_effect_free(e,t);if(!this.optional&&this.expression.may_throw_on_access(e))return this;var n=this.property.drop_side_effect_free(e);if(n&&this.optional)return this;var i=this.expression.drop_side_effect_free(e,t);return i&&n?Ai(this,[i,n]):i||n}),kr(Tt,function(e,t){return this.expression.drop_side_effect_free(e,t)}),kr(At,function(e){var t=this.tail_node(),n=t.drop_side_effect_free(e);if(n===t)return this;var i=this.expressions.slice(0,-1);return n&&i.push(n),i.length?Ai(this,i):l(Sn,this,{value:0})}),kr(je,function(e,t){return this.expression.drop_side_effect_free(e,t)}),kr(Je,c),kr(Xe,function(e){var t=Ar(this.segments,e,Qn);return t&&Ai(this,t)});const Fr=/keep_assign/;function Cr(e,t){e.DEFMETHOD("reduce_vars",t)}function Br(e,t){t.assignments=0,t.chained=!1,t.direct_access=!1,t.escaped=0,t.recursive_refs=0,t.references=[],t.single_use=void 0,t.scope.pinned()||t.orig[0]instanceof fn&&t.scope.uses_arguments?t.fixed=!1:t.orig[0]instanceof un||!e.exposed(t)?t.fixed=t.init:t.fixed=!1}function Sr(e,t,n){n.variables.forEach(function(n){Br(t,n),null===n.fixed?(e.defs_to_safe_ids.set(n.id,e.safe_ids),zr(e,n,!0)):n.fixed&&(e.loop_ids.set(n.id,e.in_loop),zr(e,n,!0))})}function Tr(e,t){t.block_scope&&t.block_scope.variables.forEach(t=>{Br(e,t)})}function qr(e){e.safe_ids=Object.create(e.safe_ids)}function $r(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function zr(e,t,n){e.safe_ids[t.id]=n}function Or(e,t){if("m"==t.single_use)return!1;if(e.safe_ids[t.id]){if(null==t.fixed){var n=t.orig[0];if(n instanceof fn||"arguments"==n.name)return!1;t.fixed=l(Mn,n)}return!0}return t.fixed instanceof Ye}function Mr(e,t,n,i){if(void 0===t.fixed)return!0;let r;return null===t.fixed&&(r=e.defs_to_safe_ids.get(t.id))?(r[t.id]=!1,e.defs_to_safe_ids.delete(t.id),!0):!!g(e.safe_ids,t.id)&&!!Or(e,t)&&!1!==t.fixed&&!(null!=t.fixed&&(!i||t.references.length>t.assignments))&&(t.fixed instanceof Ye?i instanceof ye&&t.fixed.parent_scope===n:t.orig.every(e=>!(e instanceof un||e instanceof ln||e instanceof dn)))}function Ir(e,t,n,i,r,o=0,s=1){var a=e.parent(o);if(r){if(r.is_constant())return;if(r instanceof tn)return}if(a instanceof It&&("="===a.operator||a.logical)&&i===a.right||a instanceof Et&&(i!==a.expression||a instanceof kt)||a instanceof Ke&&i===a.value&&i.scope!==t.scope||a instanceof yt&&i===a.value||a instanceof ot&&i===a.value&&i.scope!==t.scope)return!(s>1)||r&&r.is_constant_expression(n)||(s=1),void((!t.escaped||t.escaped>s)&&(t.escaped=s));if(a instanceof Pt||a instanceof rt||a instanceof Ot&&tr.has(a.operator)||a instanceof Mt&&i!==a.condition||a instanceof je||a instanceof At&&i===a.tail_node())Ir(e,t,n,a,a,o+1,s);else if(a instanceof Rt&&i===a.value){var u=e.parent(o+1);Ir(e,t,n,u,u,o+2,s)}else if(a instanceof Ft&&i===a.expression&&(Ir(e,t,n,a,r=qi(r,a.property),o+1,s+1),r))return;o>0||a instanceof At&&i!==a.tail_node()||a instanceof we||(t.direct_access=!0)}Pe.DEFMETHOD("drop_unused",function(e){if(!e.option("unused"))return;if(e.has_directive("use asm"))return;if(!this.variables)return;var t=this;if(t.pinned())return;var n=!(t instanceof He)||e.toplevel.funcs,i=!(t instanceof He)||e.toplevel.vars;const r=Fr.test(e.option("unused"))?s:function(e){return e instanceof It&&!e.logical&&(xi(e,bi)||"="==e.operator)?e.left:e instanceof qt&&xi(e,bi)?e.expression:void 0};var o=new Map,a=new Map;t instanceof He&&e.top_retain&&t.variables.forEach(function(t){e.top_retain(t)&&o.set(t.id,t)});var u=new Map,c=new Map,p=this,h=new Vn(function(r,s){if(r instanceof Re&&r.uses_arguments&&!h.has_directive("use strict")&&r.argnames.forEach(function(e){if(e instanceof on){var t=e.definition();o.set(t.id,t)}}),r===t)return;if(r instanceof Xt&&r.has_side_effects(e)&&(r.is_self_referential()?s():r.visit_nondeferred_class_parts(h)),r instanceof Ye||r instanceof Qt){var f=r.name.definition();return(h.parent()instanceof wt||!n&&p===t)&&f.global&&o.set(f.id,f),v(c,f.id,r),!0}const l=p===t;if(r instanceof fn&&l&&v(u,r.definition().id,r),r instanceof _t&&l){const t=h.parent()instanceof wt;return r.definitions.forEach(function(n){if(n.name instanceof sn&&v(u,n.name.definition().id,n),!t&&i||Rn(n.name,e=>{if(e instanceof on){const t=e.definition();t.global&&o.set(t.id,t)}}),n.name instanceof We&&n.walk(h),n.name instanceof on&&n.value){var r=n.name.definition();v(c,r.id,n.value),r.chained||n.name.fixed_value()!==n.value||a.set(r.id,n),n.value.has_side_effects(e)&&n.value.walk(h)}}),!0}return m(r,s)});t.walk(h),h=new Vn(m),o.forEach(function(e){var t=c.get(e.id);t&&t.forEach(function(e){e.walk(h)})});var _=new Yn(function(s,c,h){var m=_.parent();if(i){const t=r(s);if(t instanceof Dn){var v=t.definition(),g=o.has(v.id);if(s instanceof It){if(!g||a.has(v.id)&&a.get(v.id)!==s){const t=s.right.transform(_);return g||t.has_side_effects(e)||hr(_)?zi(m,s,t):h?f.skip:l(Sn,s,{value:0})}}else if(!g)return h?f.skip:l(Sn,s,{value:0})}}if(p===t){if(s.name&&(s instanceof tn&&!y(e.option("keep_classnames"),(v=s.name.definition()).name)||s instanceof Ue&&!y(e.option("keep_fnames"),(v=s.name.definition()).name))&&(!o.has(v.id)||v.orig.length>1)&&(s.name=null),s instanceof Re&&!(s instanceof Le))for(var b=!e.option("keep_fargs")||m instanceof Et&&m.expression===s&&!s.pinned()&&(!s.name||s.name.unreferenced()),D=s.argnames,x=D.length;--x>=0;){var w=D[x];w instanceof je&&(w=w.expression),w instanceof Nt&&(w=w.left),w instanceof We||o.has(w.definition().id)?b=!1:(wi(w,1),b&&D.pop())}if(s instanceof Qt&&s!==t){const t=s.name.definition();if(c(s,this),!(t.global&&!n||o.has(t.id))){const n=s.drop_side_effect_free(e);return null==n?(t.eliminated++,h?f.skip:l(Ce,s)):n}return s}if(s instanceof Ye&&s!==t){const e=s.name.definition();if(!(e.global&&!n||o.has(e.id)))return e.eliminated++,h?f.skip:l(Ce,s)}if(s instanceof _t&&!(m instanceof Me&&m.init===s)){var E=!(m instanceof He||s instanceof mt),k=[],A=[],F=[],C=[];switch(s.definitions.forEach(function(t){t.value&&(t.value=t.value.transform(_));var n=t.name instanceof We,r=n?new fi(null,{name:"<destructure>"}):t.name.definition();if(E&&r.global)return F.push(t);if(!i&&!E||n&&(t.name.names.length||t.name.is_array||1!=e.option("pure_getters"))||o.has(r.id)){if(t.value&&a.has(r.id)&&a.get(r.id)!==t&&(t.value=t.value.drop_side_effect_free(e)),t.name instanceof sn){var c=u.get(r.id);if(c.length>1&&(!t.value||r.orig.indexOf(t.name)>r.eliminated)){if(t.value){var f=l(Dn,t.name,t.name);r.references.push(f);var p=l(It,t,{operator:"=",logical:!1,left:f,right:t.value});a.get(r.id)===t&&a.set(r.id,p),C.push(p.transform(_))}return d(c,t),void r.eliminated++}}t.value?(C.length>0&&(F.length>0?(C.push(t.value),t.value=Ai(t.value,C)):k.push(l(we,s,{body:Ai(s,C)})),C=[]),F.push(t)):A.push(t)}else if(r.orig[0]instanceof vn)(h=t.value&&t.value.drop_side_effect_free(e))&&C.push(h),t.value=null,A.push(t);else{var h;(h=t.value&&t.value.drop_side_effect_free(e))&&C.push(h),r.eliminated++}}),(A.length>0||F.length>0)&&(s.definitions=A.concat(F),k.push(s)),C.length>0&&k.push(l(we,s,{body:Ai(s,C)})),k.length){case 0:return h?f.skip:l(Ce,s);case 1:return k[0];default:return h?f.splice(k):l(Fe,s,{body:k})}}if(s instanceof Oe)return c(s,this),s.init instanceof Fe&&(B=s.init,s.init=B.body.pop(),B.body.push(s)),s.init instanceof we?s.init=s.init.body:Ni(s.init)&&(s.init=null),B?h?f.splice(B.body):B:s;if(s instanceof Se&&s.body instanceof Oe){if(c(s,this),s.body instanceof Fe){var B=s.body;return s.body=B.body.pop(),B.body.push(s),h?f.splice(B.body):B}return s}if(s instanceof Fe)return c(s,this),h&&s.body.every(Ri)?f.splice(s.body):s;if(s instanceof Pe&&!(s instanceof en)){const e=p;return p=s,c(s,this),p=e,s}}},function(e,t){if(e instanceof At)switch(e.expressions.length){case 0:return t?f.skip:l(Sn,e,{value:0});case 1:return e.expressions[0]}});function m(e,n){var i;const s=r(e);if(s instanceof Dn&&!ji(e.left,an)&&t.variables.get(s.name)===(i=s.definition()))return e instanceof It&&(e.right.walk(h),i.chained||e.left.fixed_value()!==e.right||a.set(i.id,e)),!0;if(e instanceof Dn){if(i=e.definition(),!o.has(i.id)&&(o.set(i.id,i),i.orig[0]instanceof vn)){const e=i.scope.is_block_scope()&&i.scope.get_defun_scope().variables.get(i.name);e&&o.set(e.id,e)}return!0}if(e instanceof Xt)return n(),!0;if(e instanceof Pe&&!(e instanceof en)){var u=p;return p=e,n(),p=u,!0}}t.transform(_)}),Cr(ye,o);const Nr=e=>Rn(e,e=>{if(e instanceof nn){var t=e.definition();t&&(e instanceof Dn&&t.references.push(e),t.fixed=!1)}});function Pr(e){const t=[];Rn(e,n=>{if(n!==e)return n instanceof Ye?(t.push(n),!0):n instanceof Pe||n instanceof we||void 0});const n=new Map,i=new Map,r=new Set,o=new Set;for(const s of t){const t=s.name.definition(),a=[];for(const i of s.enclosed)!1!==i.fixed&&i!==t&&i.scope.get_defun_scope()===e&&(r.add(i.id),0===i.assignments&&1===i.orig.length&&i.orig[0]instanceof ln?(o.add(i.id),r.add(i.id),o.add(t.id),r.add(t.id),n.has(t.id)||n.set(t.id,[]),n.get(t.id).push(i.id)):a.push(i));a.length&&(i.set(t.id,a),o.add(t.id),r.add(t.id))}if(!i.size)return;let s=1;const a=new Map,u=new Map;Ln(e,(e,t)=>{if(e instanceof nn&&e.thedef){const n=e.definition().id;s++,r.has(n)&&(e instanceof on||cr(e,t.parent()))&&u.set(n,s),o.has(n)&&(a.has(n)||Vi(t,n)||a.set(n,s))}});for(const[e,t]of a){const i=new Set(n.get(e));for(const e of i){let r=a.get(e);if(!(null!=r&&r<t)){a.set(e,t);for(const t of n.get(e)||[])i.add(t)}}}for(const[e,t]of i){const n=a.get(e);if(void 0!==n)for(const e of t)!1!==e.fixed&&n<(u.get(e.id)||0)&&(e.fixed=!1)}}function Hr(e){return e instanceof Te&&e.body instanceof Fe?e.body:e}function jr(e){if(e instanceof An)return!0;if(e instanceof Dn)return e.definition().orig[0]instanceof dn;if(e instanceof Ft){if((e=e.expression)instanceof Dn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||!(e instanceof qn)&&(e instanceof Cn||jr(e))}return!1}function Rr(e,t,n){Rn(t,i=>{if(i instanceof mt){const e=(o=[],(r=i).definitions.forEach(function(e){e.name instanceof on?(e.value=null,o.push(e)):e.declarations_as_names().forEach(t=>{o.push(l(yt,e,{name:t,value:null}))})}),o.length?l(mt,r,{definitions:o}):null);return e&&n.push(e),!0}var r,o;return i instanceof Ye&&(i===t||!e.has_directive("use strict"))?(n.push(i===t?i:l(mt,i,{definitions:[l(yt,i,{name:l(sn,i.name,i.name),value:null})]})),!0):i instanceof wt||i instanceof Dt?(n.push(i),!0):i instanceof Pe||void 0})}function Lr(e,n){const i=n.find_scope(),r=i.get_defun_scope(),{in_loop:o,in_try:s}=function(){var e=n.self(),t=0,i=!1,r=!1;do{if(e instanceof Te)i=!0;else{if(e instanceof Pe)break;e instanceof pt&&(r=!0)}}while(e=n.parent(t++));return{in_loop:i,in_try:r}}();var a,u=10;do{a=!1,p(e),n.option("dead_code")&&_(e,n),n.option("if_return")&&h(e,n),n.sequences_limit>0&&(v(e,n),y(e,n)),n.option("join_vars")&&D(e),n.option("collapse_vars")&&c(e,n)}while(a&&u-- >0);function c(e,n){if(i.pinned()||r.pinned())return e;for(var u,c=[],p=e.length,h=new Yn(function(e){if(S)return e;if(!B)return e!==_[m]?e:++m<_.length?O(e):(B=!0,(y=H(e,0))===e&&(S=!0),e);var t,r=h.parent();if(e instanceof It&&(e.logical||"="!=e.operator&&D.equivalent_to(e.left))||e instanceof rt||e instanceof Et&&D instanceof Ft&&D.equivalent_to(e.expression)||(e instanceof Et||e instanceof Ft)&&e.optional||e instanceof De||e instanceof We||e instanceof je&&e.expression instanceof nn&&(e.expression instanceof An||e.expression.definition().references.length>1)||e instanceof Te&&!(e instanceof Oe)||e instanceof tt||e instanceof lt||e instanceof Ne||e instanceof ot||e instanceof wt||e instanceof Xt||r instanceof Oe&&e!==r.init||!A&&e instanceof Dn&&!e.is_declared(n)&&!Gi.has(e)||e instanceof Dn&&r instanceof Et&&E(r,Xn)||e instanceof jt&&e.key instanceof ye)return S=!0,e;if(b||w&&A||!(r instanceof Ot&&tr.has(r.operator)&&r.left!==e||r instanceof Mt&&r.condition!==e||r instanceof st&&r.condition!==e)||(b=r),q&&!(e instanceof on)&&D.equivalent_to(e)&&!function(e,t){for(const{def:n}of t.values()){const t=e.find_variable(n.name);if(t){if(t===n)continue;return!0}}return!1}(h.find_scope()||i,x)){if(b)return S=!0,e;if(cr(e,r))return g&&T++,e;if(T++,g&&v instanceof yt)return e;if(a=S=!0,v instanceof zt)return l($t,v,v);if(v instanceof yt){var o=v.name.definition(),u=v.value;return o.references.length-o.replaced!=1||n.exposed(o)?l(It,v,{operator:"=",logical:!1,left:l(Dn,v.name,v.name),right:u}):(o.replaced++,C&&Hi(u)?u.transform(n):zi(r,e,u))}return Ei(v,bi),v}return(e instanceof Et||e instanceof Ke&&(k||D instanceof Ft||G(D))||e instanceof Ft&&(k||e.expression.may_throw_on_access(n))||e instanceof Dn&&(x.has(e.name)&&x.get(e.name).modified||k&&G(e))||e instanceof yt&&e.value&&(x.has(e.name.name)||k&&G(e.name))||(t=cr(e.left,e))&&(t instanceof Ft||x.has(t.name))||F&&(s?e.has_side_effects(n):X(e)))&&(y=e,e instanceof Pe&&(S=!0)),O(e)},function(e){S||(y===e&&(S=!0),b===e&&(b=null))}),d=new Yn(function(e){if(S)return e;if(!B){if(e!==_[m])return e;if(++m<_.length)return;return B=!0,e}return e instanceof Dn&&e.name==z.name?(--T||(S=!0),cr(e,d.parent())?e:(z.replaced++,g.replaced--,v.value)):e instanceof ct||e instanceof Pe?e:void 0});--p>=0;){0==p&&n.option("unused")&&N();var _=[];for(P(e[p]);c.length>0;){_=c.pop();var m=0,v=_[_.length-1],g=null,y=null,b=null,D=j(v);if(D&&!jr(D)&&!D.has_side_effects(n)){var x=L(v),w=V(D);D instanceof Dn&&x.set(D.name,{def:D.definition(),modified:!1});var k=Y(v),A=W(),F=v.may_throw(n),C=v.name instanceof fn,B=C,S=!1,T=0,q=!u||!B;if(!q){for(let e=n.self().argnames.lastIndexOf(v.name)+1;!S&&e<u.length;e++)u[e].transform(h);q=!0}for(var $=p;!S&&$<e.length;$++)e[$].transform(h);if(g){var z=v.name.definition();if(S&&z.references.length-z.replaced>T)T=!1;else{for(S=!1,m=0,B=C,$=p;!S&&$<e.length;$++)e[$].transform(d);g.single_use=!1}}T&&!U(v)&&e.splice(p,1)}}}function O(e){if(e instanceof Pe)return e;if(e instanceof at){e.expression=e.expression.transform(h);for(var t=0,n=e.body.length;!S&&t<n;t++){var i=e.body[t];if(i instanceof ft){if(!B){if(i!==_[m])continue;m++}if(i.expression=i.expression.transform(h),!A)break}}return S=!0,e}}function M(e,t,n){var i=!1,o=!(e instanceof Ve);return t.walk(new Vn(function(t,s){if(i)return!0;if(t instanceof Dn&&(e.variables.has(t.name)||function(e,t){if(e.global)return!1;let n=e.scope;for(;n&&n!==t;){if(n.variables.has(e.name))return!0;n=n.parent_scope}return!1}(t.definition(),e))){var a=t.definition().scope;if(a!==r)for(;a=a.parent_scope;)if(a===r)return!0;return i=!0}if((n||o)&&t instanceof An)return i=!0;if(t instanceof Pe&&!(t instanceof Ve)){var u=o;return o=!1,s(),o=u,!0}})),i}function I(e){return!(e instanceof je)&&!Rn(e,e=>{if(e instanceof rt)return Un})}function N(){var e,i=n.self();if(Mi(i)&&!i.name&&!i.uses_arguments&&!i.pinned()&&(e=n.parent())instanceof Et&&e.expression===i&&e.args.every(I)){var r=n.has_directive("use strict");r&&!t(r,i.body)&&(r=!1);var o=i.argnames.length;u=e.args.slice(o);for(var s=new Set,a=o;--a>=0;){var f=i.argnames[a],p=e.args[a];const t=f.definition&&f.definition();if(!(t&&t.orig.length>1||(u.unshift(l(yt,f,{name:f,value:p})),s.has(f.name))))if(s.add(f.name),f instanceof je){var h=e.args.slice(a);h.every(e=>!M(i,e,r))&&c.unshift([l(yt,f,{name:f.expression,value:l(Pt,e,{elements:h})})])}else p?(p instanceof Re&&p.pinned()||M(i,p,r))&&(p=null):p=l(Mn,f).transform(n),p&&c.unshift([l(yt,f,{name:f,value:p})])}}}function P(e){if(_.push(e),e instanceof It)e.left.has_side_effects(n)||e.right instanceof Tt||c.push(_.slice()),P(e.right);else if(e instanceof Ot)P(e.left),P(e.right);else if(e instanceof Et&&!E(e,Xn))P(e.expression),e.args.forEach(P);else if(e instanceof ft)P(e.expression);else if(e instanceof Mt)P(e.condition),P(e.consequent),P(e.alternative);else if(e instanceof _t){var t=e.definitions.length,i=t-200;for(i<0&&(i=0);i<t;i++)P(e.definitions[i])}else e instanceof qe?(P(e.condition),e.body instanceof Ae||P(e.body)):e instanceof Ke?e.value&&P(e.value):e instanceof Oe?(e.init&&P(e.init),e.condition&&P(e.condition),e.step&&P(e.step),e.body instanceof Ae||P(e.body)):e instanceof Me?(P(e.object),e.body instanceof Ae||P(e.body)):e instanceof st?(P(e.condition),e.body instanceof Ae||P(e.body),!e.alternative||e.alternative instanceof Ae||P(e.alternative)):e instanceof At?e.expressions.forEach(P):e instanceof we?P(e.body):e instanceof at?(P(e.expression),e.body.forEach(P)):e instanceof qt?"++"!=e.operator&&"--"!=e.operator||c.push(_.slice()):e instanceof yt&&(!e.value||e.value instanceof Tt||(c.push(_.slice()),P(e.value)));_.pop()}function H(e,t,n){var i=h.parent(t);return i instanceof It?!n||i.logical||i.left instanceof Ft||x.has(i.left.name)?e:H(i,t+1,n):i instanceof Ot?!n||tr.has(i.operator)&&i.left!==e?e:H(i,t+1,n):i instanceof Et||i instanceof ft?e:i instanceof Mt?n&&i.condition===e?H(i,t+1,n):e:i instanceof _t?H(i,t+1,!0):i instanceof Ke?n?H(i,t+1,n):e:i instanceof st?n&&i.condition===e?H(i,t+1,n):e:i instanceof Te?e:i instanceof At?H(i,t+1,i.tail_node()!==e):i instanceof we?H(i,t+1,!0):i instanceof at||i instanceof yt?e:null}function j(e){if(e instanceof It&&e.logical)return!1;if(!(e instanceof yt&&e.name instanceof on)){const t=e instanceof It?e.left:e.expression;return!ji(t,un)&&!ji(t,cn)&&t}var i=e.name.definition();if(t(e.name,i.orig)){var r=i.references.length-i.replaced;if(r)return i.orig.length-i.eliminated>1&&!(e.name instanceof fn)||(r>1?function(e){var t=e.value;if(t instanceof Dn&&"arguments"!=t.name){var n=t.definition();if(!n.undeclared)return g=n}}(e):!n.exposed(i))?l(Dn,e.name,e.name):void 0}}function R(e){return e instanceof It?e.right:e.value}function L(e){var t=new Map;if(e instanceof qt)return t;var i=new Vn(function(e){for(var r=e;r instanceof Ft;)r=r.expression;if(r instanceof Dn){const o=t.get(r.name);o&&o.modified||t.set(r.name,{def:r.definition(),modified:pr(n,i,e,e,0)})}});return R(e).walk(i),t}function U(t){if(t.name instanceof fn){var i=n.parent(),r=n.self().argnames,o=r.indexOf(t.name);if(o<0)i.args.length=Math.min(i.args.length,r.length-1);else{var s=i.args;s[o]&&(s[o]=l(Sn,s[o],{value:0}))}return!0}var a=!1;return e[p].transform(new Yn(function(e,n,i){return a?e:e===t||e.body===t?(a=!0,e instanceof yt?(e.value=e.name instanceof un?l(Mn,e.value):null,e):i?f.skip:null):void 0},function(e){if(e instanceof At)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}))}function V(e){for(;e instanceof Ft;)e=e.expression;return e instanceof Dn&&e.definition().scope.get_defun_scope()===r&&!(o&&(x.has(e.name)||v instanceof qt||v instanceof It&&!v.logical&&"="!=v.operator))}function Y(e){return e instanceof qt?nr.has(e.operator):R(e).has_side_effects(n)}function W(){if(k)return!1;if(g)return!0;if(D instanceof Dn){var e=D.definition();if(e.references.length-e.replaced==(v instanceof yt?1:2))return!0}return!1}function G(e){if(!e.definition)return!0;var t=e.definition();return!(1==t.orig.length&&t.orig[0]instanceof ln)&&(t.scope.get_defun_scope()!==r||t.references.some(e=>e.scope.get_defun_scope()!==r))}function X(e,t){if(e instanceof It)return X(e.left,!0);if(e instanceof qt)return X(e.expression,!0);if(e instanceof yt)return e.value&&X(e.value);if(t){if(e instanceof Ct)return X(e.expression,!0);if(e instanceof St)return X(e.expression,!0);if(e instanceof Dn)return e.definition().scope.get_defun_scope()!==r}return!1}}function p(e){for(var t=[],n=0;n<e.length;){var i=e[n];i instanceof Fe&&i.body.every(Ri)?(a=!0,p(i.body),e.splice(n,1,...i.body),n+=i.body.length):i instanceof Ce?(a=!0,e.splice(n,1)):i instanceof xe?t.indexOf(i.value)<0?(n++,t.push(i.value)):(a=!0,e.splice(n,1)):n++}}function h(e,t){for(var n=t.self(),i=function(e){for(var t=0,n=e.length;--n>=0;){var i=e[n];if(i instanceof st&&i.body instanceof Qe&&++t>1)return!0}return!1}(e),r=n instanceof Re,o=Math.min(e.length,500);--o>=0;){var s=e[o],u=g(o),c=e[u];if(r&&!c&&s instanceof Qe){if(!s.value){a=!0,e.splice(o,1);continue}if(s.value instanceof $t&&"void"==s.value.operator){a=!0,e[o]=l(we,s,{body:s.value.expression});continue}}if(s instanceof st){let n,i;if(n=lr(s.body),h(n)&&(i=v(s.body,n))){n.label&&d(n.label.thedef.references,n),a=!0,(s=s.clone()).condition=s.condition.negate(t),s.body=l(Fe,s,{body:Li(s.alternative).concat(_())}),s.alternative=l(Fe,s,{body:i}),e[o]=s.transform(t);continue}if(n=lr(s.alternative),h(n)&&(i=v(s.alternative,n))){n.label&&d(n.label.thedef.references,n),a=!0,(s=s.clone()).body=l(Fe,s.body,{body:Li(s.body).concat(_())}),s.alternative=l(Fe,s.alternative,{body:i}),e[o]=s.transform(t);continue}}if(s instanceof st&&s.body instanceof Qe){var f=s.body.value;if(!f&&!s.alternative&&(r&&!c||c instanceof Qe&&!c.value)){a=!0,e[o]=l(we,s.condition,{body:s.condition});continue}if(f&&!s.alternative&&c instanceof Qe&&c.value){a=!0,(s=s.clone()).alternative=c,e[o]=s.transform(t),e.splice(u,1);continue}if(f&&!s.alternative&&(!c&&r&&i||c instanceof Qe)){a=!0,(s=s.clone()).alternative=c||l(Qe,s,{value:null}),e[o]=s.transform(t),c&&e.splice(u,1);continue}var p=e[y(o)];if(t.option("sequences")&&r&&!s.alternative&&p instanceof st&&p.body instanceof Qe&&g(u)==e.length&&c instanceof we){a=!0,(s=s.clone()).alternative=l(Fe,c,{body:[c,l(Qe,c,{value:null})]}),e[o]=s.transform(t),e.splice(u,1);continue}}}function h(i){if(!i)return!1;for(var s=o+1,a=e.length;s<a;s++){var u=e[s];if(u instanceof gt||u instanceof vt)return!1}var c=i instanceof tt?t.loopcontrol_target(i):null;return i instanceof Qe&&r&&function(e){return!e||e instanceof $t&&"void"==e.operator}(i.value)||i instanceof it&&n===Hr(c)||i instanceof nt&&c instanceof Fe&&n===c}function _(){var t=e.slice(o+1);return e.length=o+1,t.filter(function(t){return!(t instanceof Ye&&(e.push(t),1))})}function v(e,t){var n=Li(e);if(t===n[n.length-1]&&(n=n.slice(0,-1)).every(e=>Ri(e)))return t.value&&n.push(l(we,t.value,{body:t.value.expression})),n}function g(t){for(var n=t+1,i=e.length;n<i;n++){var r=e[n];if(!(r instanceof mt&&m(r)))break}return n}function y(t){for(var n=t;--n>=0;){var i=e[n];if(!(i instanceof mt&&m(i)))break}return n}}function _(e,t){for(var n,i=t.self(),r=0,o=0,s=e.length;r<s;r++){var u=e[r];if(u instanceof tt){var c=t.loopcontrol_target(u);u instanceof nt&&!(c instanceof Te)&&Hr(c)===i||u instanceof it&&Hr(c)===i?u.label&&d(u.label.thedef.references,u):e[o++]=u}else e[o++]=u;if(lr(u)){n=e.slice(r+1);break}}e.length=o,a=o!=s,n&&n.forEach(function(n){Rr(t,n,e)})}function m(e){return e.definitions.every(e=>!e.value)}function v(e,t){if(!(e.length<2)){for(var n=[],i=0,r=0,o=e.length;r<o;r++){var s=e[r];if(s instanceof we){n.length>=t.sequences_limit&&c();var u=s.body;n.length>0&&(u=u.drop_side_effect_free(t)),u&&ki(n,u)}else s instanceof _t&&m(s)||s instanceof Ye||c(),e[i++]=s}c(),e.length=i,i!=o&&(a=!0)}function c(){if(n.length){var t=Ai(n[0],n);e[i++]=l(we,t,{body:t}),n=[]}}}function g(e,t){if(!(e instanceof Fe))return e;for(var n=null,i=0,r=e.body.length;i<r;i++){var o=e.body[i];if(o instanceof mt&&m(o))t.push(o);else{if(n||o instanceof gt||o instanceof vt)return!1;n=o}}return n}function y(e,t){function n(e){r--,a=!0;var n=i.body;return Ai(n,[n,e]).transform(t)}for(var i,r=0,o=0;o<e.length;o++){var s=e[o];if(i&&(s instanceof Ke?s.value=n(s.value||l(Mn,s).transform(t)):s instanceof Oe?s.init instanceof _t||Rn(i.body,e=>e instanceof Pe||(e instanceof Ot&&"in"===e.operator?Un:void 0))||(s.init?s.init=n(s.init):(s.init=i.body,r--,a=!0)):s instanceof Me?s.init instanceof gt||s.init instanceof vt||(s.object=n(s.object)):s instanceof st?s.condition=n(s.condition):(s instanceof at||s instanceof Ne)&&(s.expression=n(s.expression))),t.option("conditionals")&&s instanceof st){var u=[],c=g(s.body,u),f=g(s.alternative,u);if(!1!==c&&!1!==f&&u.length>0){var p=u.length;u.push(l(st,s,{condition:s.condition,body:c||l(Ce,s.body),alternative:f})),u.unshift(r,1),[].splice.apply(e,u),o+=p,r+=p+1,i=null,a=!0;continue}}e[r++]=s,i=s instanceof we?s:null}e.length=r}function b(e,t){if(e instanceof _t){var r,o=e.definitions[e.definitions.length-1];if(o.value instanceof Ht&&(t instanceof It&&!t.logical?r=[t]:t instanceof At&&(r=t.expressions.slice()),r)){var s=!1;do{var a=r[0];if(!(a instanceof It))break;if("="!=a.operator)break;if(!(a.left instanceof Ft))break;var u=a.left.expression;if(!(u instanceof Dn))break;if(o.name.name!=u.name)break;if(!a.right.is_constant_expression(i))break;var c=a.left.property;if(c instanceof ye&&(c=c.evaluate(n)),c instanceof ye)break;c=""+c;var f=n.option("ecma")<2015&&n.has_directive("use strict")?function(e){return e.key!=c&&e.key&&e.key.name!=c}:function(e){return e.key&&e.key.name!=c};if(!o.value.properties.every(f))break;var p=o.value.properties.filter(function(e){return e.key===c})[0];p?p.value=new At({start:p.start,expressions:[p.value.clone(),a.right.clone()],end:p.end}):o.value.properties.push(l(Rt,a,{key:c,value:a.right})),r.shift(),s=!0}while(r.length);return s&&r}}}function D(e){for(var t,n=0,i=-1,r=e.length;n<r;n++){var o=e[n],s=e[i];if(o instanceof _t)s&&s.TYPE==o.TYPE?(s.definitions=s.definitions.concat(o.definitions),a=!0):t&&t.TYPE==o.TYPE&&m(o)?(t.definitions=t.definitions.concat(o.definitions),a=!0):(e[++i]=o,t=o);else if(o instanceof Ke)o.value=c(o.value);else if(o instanceof Oe)(u=b(s,o.init))?(a=!0,o.init=u.length?Ai(o.init,u):null,e[++i]=o):s instanceof mt&&(!o.init||o.init.TYPE==s.TYPE)?(o.init&&(s.definitions=s.definitions.concat(o.init.definitions)),o.init=s,e[i]=o,a=!0):t instanceof mt&&o.init instanceof mt&&m(o.init)?(t.definitions=t.definitions.concat(o.init.definitions),o.init=null,e[++i]=o,a=!0):e[++i]=o;else if(o instanceof Me)o.object=c(o.object);else if(o instanceof st)o.condition=c(o.condition);else if(o instanceof we){var u;if(u=b(s,o.body)){if(a=!0,!u.length)continue;o.body=Ai(o.body,u)}e[++i]=o}else o instanceof at||o instanceof Ne?o.expression=c(o.expression):e[++i]=o}function c(t){e[++i]=o;var n=b(s,t);return n?(a=!0,n.length?Ai(t,n):t instanceof At?t.tail_node().left:t.left):t}e.length=i+1}}function Ur(e,t){for(const n of t.enclosed){if(t.variables.has(n.name))continue;const i=e.find_variable(n.name);if(i){if(i===n)continue;return!0}}return!1}function Vr(e,t){return(t instanceof Re||t instanceof Xt)&&!!e.is_within_loop()}Cr(Le,function(e,t,n){return qr(e),Sr(e,n,this),t(),$r(e),!0}),Cr(It,function(e,t,n){var i=this;if(i.left instanceof We)return void Nr(i.left);const r=()=>{if(i.logical)return i.left.walk(e),qr(e),i.right.walk(e),$r(e),!0};var o=i.left;if(!(o instanceof Dn))return r();var s=o.definition(),a=Mr(e,s,o.scope,i.right);if(s.assignments++,!a)return r();var u=s.fixed;if(!u&&"="!=i.operator&&!i.logical)return r();var c="="==i.operator,f=c?i.right:i;return pr(n,e,i,f,0)?r():(s.references.push(o),i.logical||(c||(s.chained=!0),s.fixed=c?function(){return i.right}:function(){return l(Ot,i,{operator:i.operator.slice(0,-1),left:u instanceof ye?u:u(),right:i.right})}),i.logical?(zr(e,s,!1),qr(e),i.right.walk(e),$r(e),!0):(zr(e,s,!1),i.right.walk(e),zr(e,s,!0),Ir(e,s,o.scope,i,f,0,1),!0))}),Cr(Ot,function(e){if(tr.has(this.operator))return this.left.walk(e),qr(e),this.right.walk(e),$r(e),!0}),Cr(Ae,function(e,t,n){Tr(n,this)}),Cr(ft,function(e){return qr(e),this.expression.walk(e),$r(e),qr(e),Ee(this,e),$r(e),!0}),Cr(Xt,function(e,t){return Ei(this,16),qr(e),t(),$r(e),!0}),Cr(en,function(e,t,n){Tr(n,this)}),Cr(Mt,function(e){return this.condition.walk(e),qr(e),this.consequent.walk(e),$r(e),qr(e),this.alternative.walk(e),$r(e),!0}),Cr(Tt,function(e,t){const n=e.safe_ids;return t(),e.safe_ids=n,!0}),Cr(Et,function(e){this.expression.walk(e),this.optional&&qr(e);for(const t of this.args)t.walk(e);return!0}),Cr(Ft,function(e){if(this.optional)return this.expression.walk(e),qr(e),this.property instanceof ye&&this.property.walk(e),!0}),Cr(ct,function(e,t){return qr(e),t(),$r(e),!0}),Cr(Re,function(e,t,n){var i;return Ei(this,16),qr(e),Sr(e,n,this),!this.name&&!this.uses_arguments&&!this.pinned()&&(i=e.parent())instanceof Et&&i.expression===this&&!i.args.some(e=>e instanceof je)&&this.argnames.every(e=>e instanceof nn)&&this.argnames.forEach((t,n)=>{if(t.definition){var r=t.definition();r.orig.length>1||(void 0!==r.fixed||this.uses_arguments&&!e.has_directive("use strict")?r.fixed=!1:(r.fixed=function(){return i.args[n]||l(Mn,i)},e.loop_ids.set(r.id,e.in_loop),zr(e,r,!0)))}}),t(),$r(e),Pr(this),!0}),Cr($e,function(e,t,n){Tr(n,this);const i=e.in_loop;return e.in_loop=this,qr(e),this.body.walk(e),$i(this)&&($r(e),qr(e)),this.condition.walk(e),$r(e),e.in_loop=i,!0}),Cr(Oe,function(e,t,n){Tr(n,this),this.init&&this.init.walk(e);const i=e.in_loop;return e.in_loop=this,qr(e),this.condition&&this.condition.walk(e),this.body.walk(e),this.step&&($i(this)&&($r(e),qr(e)),this.step.walk(e)),$r(e),e.in_loop=i,!0}),Cr(Me,function(e,t,n){Tr(n,this),Nr(this.init),this.object.walk(e);const i=e.in_loop;return e.in_loop=this,qr(e),this.body.walk(e),$r(e),e.in_loop=i,!0}),Cr(st,function(e){return this.condition.walk(e),qr(e),this.body.walk(e),$r(e),this.alternative&&(qr(e),this.alternative.walk(e),$r(e)),!0}),Cr(Se,function(e){return qr(e),this.body.walk(e),$r(e),!0}),Cr(vn,function(){this.definition().fixed=!1}),Cr(Dn,function(e,t,n){var i,r,o=this.definition();o.references.push(this),1==o.references.length&&!o.fixed&&o.orig[0]instanceof ln&&e.loop_ids.set(o.id,e.in_loop),void 0!==o.fixed&&Or(e,o)?o.fixed&&((i=this.fixed_value())instanceof Re&&Vi(e,o)?o.recursive_refs++:i&&!n.exposed(o)&&function(e,t,n){return t.option("unused")&&!n.scope.pinned()&&n.references.length-n.recursive_refs==1&&e.loop_ids.get(n.id)===e.in_loop}(e,n,o)?o.single_use=i instanceof Re&&!i.pinned()||i instanceof Xt||o.scope===this.scope&&i.is_constant_expression():o.single_use=!1,pr(n,e,this,i,0,!!(r=i)&&(r.is_constant()||r instanceof Re||r instanceof An))&&(o.single_use?o.single_use="m":o.fixed=!1)):o.fixed=!1,Ir(e,o,this.scope,this,i,0,1)}),Cr(He,function(e,t,n){return this.globals.forEach(function(e){Br(n,e)}),Sr(e,n,this),t(),Pr(this),!0}),Cr(lt,function(e,t,n){return Tr(n,this),qr(e),this.body.walk(e),$r(e),this.bcatch&&(qr(e),this.bcatch.walk(e),$r(e)),this.bfinally&&this.bfinally.walk(e),!0}),Cr(qt,function(e){var t=this;if("++"===t.operator||"--"===t.operator){var n=t.expression;if(n instanceof Dn){var i=n.definition(),r=Mr(e,i,n.scope,!0);if(i.assignments++,r){var o=i.fixed;if(o)return i.references.push(n),i.chained=!0,i.fixed=function(){return l(Ot,t,{operator:t.operator.slice(0,-1),left:l($t,t,{operator:"+",expression:o instanceof ye?o:o()}),right:l(Sn,t,{value:1})})},zr(e,i,!0),!0}}}}),Cr(yt,function(e,t){var n=this;if(n.name instanceof We)Nr(n.name);else{var i=n.name.definition();if(n.value){if(Mr(e,i,n.name.scope,n.value))return i.fixed=function(){return n.value},e.loop_ids.set(i.id,e.in_loop),zr(e,i,!1),t(),zr(e,i,!0),!0;i.fixed=!1}}}),Cr(ze,function(e,t,n){Tr(n,this);const i=e.in_loop;return e.in_loop=this,qr(e),t(),$r(e),e.in_loop=i,!0}),function(e){function t(e,n){if(e instanceof ye)return e instanceof Cn||(e=e.clone(!0)),l(e.CTOR,n,e);if(Array.isArray(e))return l(Pt,n,{elements:e.map(function(e){return t(e,n)})});if(e&&"object"==typeof e){var i=[];for(var r in e)g(e,r)&&i.push(l(Rt,n,{key:r,value:t(e[r],n)}));return l(Ht,n,{properties:i})}return Ci(e,n)}He.DEFMETHOD("resolve_defines",function(e){return e.option("global_defs")?(this.figure_out_scope({ie8:e.option("ie8")}),this.transform(new Yn(function(t){var n=t._find_defs(e,"");if(n){for(var i,r=0,o=t;(i=this.parent(r++))&&i instanceof Ft&&i.expression===o;)o=i;if(!cr(o,i))return n}}))):this}),e(ye,o),e(Tt,function(e,t){return this.expression._find_defs(e,t)}),e(Ct,function(e,t){return this.expression._find_defs(e,"."+this.property+t)}),e(on,function(){this.global()}),e(Dn,function(e,n){if(this.global()){var i=e.option("global_defs"),r=this.name+n;return g(i,r)?t(i[r],this):void 0}}),e(xt,function(e,n){var i=e.option("global_defs"),r="import.meta"+n;if(g(i,r))return t(i[r],this)})}(function(e,t){e.DEFMETHOD("_find_defs",t)});class Yr extends Vn{constructor(e,{false_by_default:t=!1,mangle_options:n=!1}){super(),void 0===e.defaults||e.defaults||(t=!0),this.options=r(e,{arguments:!1,arrows:!t,booleans:!t,booleans_as_integers:!1,collapse_vars:!t,comparisons:!t,computed_props:!t,conditionals:!t,dead_code:!t,defaults:!0,directives:!t,drop_console:!1,drop_debugger:!t,ecma:5,evaluate:!t,expression:!1,global_defs:!1,hoist_funs:!1,hoist_props:!t,hoist_vars:!1,ie8:!1,if_return:!t,inline:!t,join_vars:!t,keep_classnames:!1,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,lhs_constants:!t,loops:!t,module:!1,negate_iife:!t,passes:1,properties:!t,pure_getters:!t&&"strict",pure_funcs:null,pure_new:!1,reduce_funcs:!t,reduce_vars:!t,sequences:!t,side_effects:!t,switches:!t,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!t,unsafe:!1,unsafe_arrows:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_symbols:!1,unsafe_methods:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!t,warnings:!1},!0);var i=this.options.global_defs;if("object"==typeof i)for(var o in i)"@"===o[0]&&g(i,o)&&(i[o.slice(1)]=de(i[o],{expression:!0}));!0===this.options.inline&&(this.options.inline=3);var s=this.options.pure_funcs;this.pure_funcs="function"==typeof s?s:s?function(e){return!s.includes(e.expression.print_to_string())}:a;var u=this.options.top_retain;u instanceof RegExp?this.top_retain=function(e){return u.test(e.name)}:"function"==typeof u?this.top_retain=u:u&&("string"==typeof u&&(u=u.split(/,/)),this.top_retain=function(e){return u.includes(e.name)}),this.options.module&&(this.directives["use strict"]=!0,this.options.toplevel=!0);var c=this.options.toplevel;this.toplevel="string"==typeof c?{funcs:/funcs/.test(c),vars:/vars/.test(c)}:{funcs:c,vars:c};var f=this.options.sequences;this.sequences_limit=1==f?800:0|f,this.evaluated_regexps=new Map,this._toplevel=void 0,this._mangle_options=n?hi(n):n}mangle_options(){var e=this._mangle_options&&this._mangle_options.nth_identifier||di,t=this._mangle_options&&this._mangle_options.module||this.option("module");return{ie8:this.option("ie8"),nth_identifier:e,module:t}}option(e){return this.options[e]}exposed(e){if(e.export)return!0;if(e.global)for(var t=0,n=e.orig.length;t<n;t++)if(!this.toplevel[e.orig[t]instanceof ln?"funcs":"vars"])return!0;return!1}in_boolean_context(){if(!this.option("booleans"))return!1;for(var e,t=this.self(),n=0;e=this.parent(n);n++){if(e instanceof we||e instanceof Mt&&e.condition===t||e instanceof qe&&e.condition===t||e instanceof Oe&&e.condition===t||e instanceof st&&e.condition===t||e instanceof $t&&"!"==e.operator&&e.expression===t)return!0;if(!(e instanceof Ot&&("&&"==e.operator||"||"==e.operator||"??"==e.operator)||e instanceof Mt||e.tail_node()===t))return!1;t=e}}in_32_bit_context(e){if(!this.option("evaluate"))return!1;for(var t,n=this.self(),i=0;t=this.parent(i);i++){if(t instanceof Ot&&er.has(t.operator))return!e||(n===t.left?t.right:t.left).is_number(this);if(t instanceof $t)return"~"===t.operator;if(!(t instanceof Ot&&("&&"==t.operator||"||"==t.operator||"??"==t.operator)||t instanceof Mt&&t.condition!==n||t.tail_node()===n))return!1;n=t}}in_computed_key(){if(!this.option("evaluate"))return!1;for(var e,t=this.self(),n=0;e=this.parent(n);n++)if(e instanceof jt&&e.key===t)return!0;return!1}get_toplevel(){return this._toplevel}compress(e){e=e.resolve_defines(this),this._toplevel=e,this.option("expression")&&this._toplevel.process_expression(!0);for(var t=+this.options.passes||1,n=1/0,i=!1,r=this.mangle_options(),o=0;o<t;o++)if(this._toplevel.figure_out_scope(r),0===o&&this.option("drop_console")&&(this._toplevel=this._toplevel.drop_console(this.option("drop_console"))),(o>0||this.option("reduce_vars"))&&this._toplevel.reset_opt_flags(this),this._toplevel=this._toplevel.transform(this),t>1){let e=0;if(Rn(this._toplevel,()=>{e++}),e<n)n=e,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&this._toplevel.process_expression(!1),e=this._toplevel,this._toplevel=void 0,e}before(e,t){if(xi(e,Di))return e;var n=!1;e instanceof Pe&&(e=(e=e.hoist_properties(this)).hoist_declarations(this),n=!0),t(e,this),t(e,this);var i=e.optimize(this);return n&&i instanceof Pe&&(i.drop_unused(this),t(i,this)),i===e&&wi(i,Di),i}is_lhs(){return cr(this.stack[this.stack.length-1],this.stack[this.stack.length-2])}}function Wr(e,t){e.DEFMETHOD("optimize",function(e){var n=this;if(xi(n,512))return n;if(e.has_directive("use asm"))return n;var i=t(n,e);return wi(i,512),i})}function Gr(e,t){for(var n,i=0;(n=e.parent(i++))&&!(n instanceof Pe);)if(n instanceof ht&&n.argname){n=n.argname.definition().scope;break}return n.find_variable(t)}Wr(ye,function(e){return e}),He.DEFMETHOD("drop_console",function(e){const t=Array.isArray(e),n=new Yn(function(i){if("Call"===i.TYPE){var r=i.expression;if(r instanceof Ft){for(var o=r.expression,s=r.property,a=2;o.expression;)s=o.property,o=o.expression,a++;if((!t||e.includes(s))&&Qi(o)&&"console"==o.name){if(3!==a||["call","apply"].includes(r.property)||!hr(n))return l(Mn,i);r.expression=Fi(i),wi(r.expression,Di),i.args=[]}}}});return this.transform(n)}),ye.DEFMETHOD("equivalent_to",function(e){return((e,t)=>{if(!oi(e,t))return!1;const n=[e],i=[t],r=n.push.bind(n),o=i.push.bind(i);for(;n.length&&i.length;){const e=n.pop(),t=i.pop();if(!oi(e,t))return!1;if(e._children_backwards(r),t._children_backwards(o),n.length!==i.length)return!1}return 0==n.length&&0==i.length})(this,e)}),Pe.DEFMETHOD("process_expression",function(e,t){var n=this,i=new Yn(function(r){if(e&&r instanceof we)return l(Qe,r,{value:r.body});if(!e&&r instanceof Qe){if(t){var o=r.value&&r.value.drop_side_effect_free(t,!0);return o?l(we,r,{body:o}):l(Ce,r)}return l(we,r,{body:r.value||l($t,r,{operator:"void",expression:l(Sn,r,{value:0})})})}if(r instanceof Xt||r instanceof Re&&r!==n)return r;if(r instanceof Ae){var s=r.body.length-1;s>=0&&(r.body[s]=r.body[s].transform(i))}else r instanceof st?(r.body=r.body.transform(i),r.alternative&&(r.alternative=r.alternative.transform(i))):r instanceof Ne&&(r.body=r.body.transform(i));return r});n.transform(i)}),He.DEFMETHOD("reset_opt_flags",function(e){const t=this,n=e.option("reduce_vars"),i=new Vn(function(r,o){if(Ei(r,1792),n)return e.top_retain&&r instanceof Ye&&i.parent()===t&&wi(r,1024),r.reduce_vars(i,o,e)});i.safe_ids=Object.create(null),i.in_loop=null,i.loop_ids=new Map,i.defs_to_safe_ids=new Map,t.walk(i)}),nn.DEFMETHOD("fixed_value",function(){var e=this.thedef.fixed;return!e||e instanceof ye?e:e()}),Dn.DEFMETHOD("is_immutable",function(){var e=this.definition().orig;return 1==e.length&&e[0]instanceof dn});var Xr=m("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");Dn.DEFMETHOD("is_declared",function(e){return!this.definition().undeclared||e.option("unsafe")&&Xr.has(this.name)});var Jr=new Set(["use asm","use strict"]);function Zr(e,t){return Lr(e.body,t),t.option("side_effects")&&1==e.body.length&&e.body[0]===t.has_directive("use strict")&&(e.body.length=0),e}function Kr(e,t){var n=e.body instanceof Fe?e.body.body[0]:e.body;if(t.option("dead_code")&&r(n)){var i=[];return e.init instanceof be?i.push(e.init):e.init&&i.push(l(we,e.init,{body:e.init})),e.condition&&i.push(l(we,e.condition,{body:e.condition})),Rr(t,e.body,i),l(Fe,e,{body:i})}return n instanceof st&&(r(n.body)?(e.condition?e.condition=l(Ot,e.condition,{left:e.condition,operator:"&&",right:n.condition.negate(t)}):e.condition=n.condition.negate(t),o(n.alternative)):r(n.alternative)&&(e.condition?e.condition=l(Ot,e.condition,{left:e.condition,operator:"&&",right:n.condition}):e.condition=n.condition,o(n.body))),e;function r(e){return e instanceof nt&&t.loopcontrol_target(e)===t.self()}function o(n){n=Li(n),e.body instanceof Fe?(e.body=e.body.clone(),e.body.body=n.concat(e.body.body.slice(1)),e.body=e.body.transform(t)):e.body=l(Fe,e.body,{body:n}).transform(t),e=Kr(e,t)}}Wr(xe,function(e,t){return!t.option("directives")||Jr.has(e.value)&&t.has_directive(e.value)===e?e:l(Ce,e)}),Wr(De,function(e,t){return t.option("drop_debugger")?l(Ce,e):e}),Wr(Se,function(e,t){return e.body instanceof nt&&t.loopcontrol_target(e.body)===e.body?l(Ce,e):0==e.label.references.length?e.body:e}),Wr(Ae,function(e,t){return Lr(e.body,t),e}),Wr(Fe,function(e,t){switch(Lr(e.body,t),e.body.length){case 1:if(!t.has_directive("use strict")&&t.parent()instanceof st&&!((n=e.body[0])instanceof gt||n instanceof vt||n instanceof Xt)||Ri(e.body[0]))return e.body[0];break;case 0:return l(Ce,e)}var n;return e}),Wr(Re,Zr),Pe.DEFMETHOD("hoist_declarations",function(e){var t=this;if(e.has_directive("use asm"))return t;var n=e.option("hoist_funs"),i=e.option("hoist_vars");if(n||i){var r=[],o=[],s=new Map,a=0,u=0;Rn(t,e=>e instanceof Pe&&e!==t||(e instanceof mt?(++u,!0):void 0)),i=i&&u>1;var c=new Yn(function(u){if(u!==t){if(u instanceof xe)return r.push(u),l(Ce,u);if(n&&u instanceof Ye&&!(c.parent()instanceof wt)&&c.parent()===t)return o.push(u),l(Ce,u);if(i&&u instanceof mt&&!u.definitions.some(e=>e.name instanceof We)){u.definitions.forEach(function(e){s.set(e.name.name,e),++a});var f=u.to_assignments(e),p=c.parent();if(p instanceof Me&&p.init===u){if(null==f){var h=u.definitions[0].name;return l(Dn,h,h)}return f}return p instanceof Oe&&p.init===u?f:f?l(we,u,{body:f}):l(Ce,u)}if(u instanceof Pe)return u}});if(t=t.transform(c),a>0){var f=[];const e=t instanceof Re,n=e?t.args_as_names():null;if(s.forEach((t,i)=>{e&&n.some(e=>e.name===t.name.name)?s.delete(i):((t=t.clone()).value=null,f.push(t),s.set(i,t))}),f.length>0){for(;0<t.body.length;){if(t.body[0]instanceof we){var p,h,_=t.body[0].body;if(_ instanceof It&&"="==_.operator&&(p=_.left)instanceof nn&&s.has(p.name)){if((m=s.get(p.name)).value)break;m.value=_.right,d(f,m),f.push(m),t.body.splice(0,1);continue}if(_ instanceof At&&(h=_.expressions[0])instanceof It&&"="==h.operator&&(p=h.left)instanceof nn&&s.has(p.name)){var m;if((m=s.get(p.name)).value)break;m.value=h.right,d(f,m),f.push(m),t.body[0].body=Ai(_,_.expressions.slice(1));continue}}if(t.body[0]instanceof Ce)t.body.splice(0,1);else{if(!(t.body[0]instanceof Fe))break;t.body.splice(0,1,...t.body[0].body)}}f=l(mt,t,{definitions:f}),o.push(f)}}t.body=r.concat(o,t.body)}return t}),Pe.DEFMETHOD("hoist_properties",function(e){var t=this;if(!e.option("hoist_props")||e.has_directive("use asm"))return t;var n=t instanceof He&&e.top_retain||s,i=new Map,r=new Yn(function(o,s){if(o instanceof yt){const a=o.name;let u,c;if(a.scope===t&&1!=(u=a.definition()).escaped&&!u.assignments&&!u.direct_access&&!u.single_use&&!e.exposed(u)&&!n(u)&&(c=a.fixed_value())===o.value&&c instanceof Ht&&!c.properties.some(e=>e instanceof je||e.computed_key())){s(o,this);const e=new Map,n=[];return c.properties.forEach(({key:i,value:s})=>{const u=r.find_scope(),c=t.create_symbol(a.CTOR,{source:a,scope:u,conflict_scopes:new Set([u,...a.definition().references.map(e=>e.scope)]),tentative_name:a.name+"_"+i});e.set(String(i),c.definition()),n.push(l(yt,o,{name:c,value:s}))}),i.set(u.id,e),f.splice(n)}}else if(o instanceof Ft&&o.expression instanceof Dn){const e=i.get(o.expression.definition().id);if(e){const t=e.get(String(Ti(o.property))),n=l(Dn,o,{name:t.name,scope:o.expression.scope,thedef:t});return n.reference({}),n}}});return t.transform(r)}),Wr(we,function(e,t){if(t.option("side_effects")){var n=e.body,i=n.drop_side_effect_free(t,!0);if(!i)return l(Ce,e);if(i!==n)return l(we,e,{body:i})}return e}),Wr(ze,function(e,t){return t.option("loops")?l(Oe,e,e).optimize(t):e}),Wr($e,function(e,t){if(!t.option("loops"))return e;var n=e.condition.tail_node().evaluate(t);if(!(n instanceof ye)){if(n)return l(Oe,e,{body:l(Fe,e.body,{body:[e.body,l(we,e.condition,{body:e.condition})]})}).optimize(t);if(!$i(e,t.parent()))return l(Fe,e.body,{body:[e.body,l(we,e.condition,{body:e.condition})]}).optimize(t)}return e}),Wr(Oe,function(e,t){if(!t.option("loops"))return e;if(t.option("side_effects")&&e.init&&(e.init=e.init.drop_side_effect_free(t)),e.condition){var n=e.condition.evaluate(t);if(!(n instanceof ye))if(n)e.condition=null;else if(!t.option("dead_code")){var i=e.condition;e.condition=Ci(n,e.condition),e.condition=Bi(e.condition.transform(t),i)}if(t.option("dead_code")&&(n instanceof ye&&(n=e.condition.tail_node().evaluate(t)),!n)){var r=[];return Rr(t,e.body,r),e.init instanceof be?r.push(e.init):e.init&&r.push(l(we,e.init,{body:e.init})),r.push(l(we,e.condition,{body:e.condition})),l(Fe,e,{body:r}).optimize(t)}}return Kr(e,t)}),Wr(st,function(e,t){if(Ni(e.alternative)&&(e.alternative=null),!t.option("conditionals"))return e;var n=e.condition.evaluate(t);if(!(t.option("dead_code")||n instanceof ye)){var i=e.condition;e.condition=Ci(n,i),e.condition=Bi(e.condition.transform(t),i)}if(t.option("dead_code")){if(n instanceof ye&&(n=e.condition.tail_node().evaluate(t)),!n){var r=[];return Rr(t,e.body,r),r.push(l(we,e.condition,{body:e.condition})),e.alternative&&r.push(e.alternative),l(Fe,e,{body:r}).optimize(t)}if(!(n instanceof ye))return(r=[]).push(l(we,e.condition,{body:e.condition})),r.push(e.body),e.alternative&&Rr(t,e.alternative,r),l(Fe,e,{body:r}).optimize(t)}var o=e.condition.negate(t),s=e.condition.size(),a=o.size(),u=a<s;if(e.alternative&&u){u=!1,e.condition=o;var c=e.body;e.body=e.alternative||l(Ce,e),e.alternative=c}if(Ni(e.body)&&Ni(e.alternative))return l(we,e.condition,{body:e.condition.clone()}).optimize(t);if(e.body instanceof we&&e.alternative instanceof we)return l(we,e,{body:l(Mt,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).optimize(t);if(Ni(e.alternative)&&e.body instanceof we)return s===a&&!u&&e.condition instanceof Ot&&"||"==e.condition.operator&&(u=!0),u?l(we,e,{body:l(Ot,e,{operator:"||",left:o,right:e.body.body})}).optimize(t):l(we,e,{body:l(Ot,e,{operator:"&&",left:e.condition,right:e.body.body})}).optimize(t);if(e.body instanceof Ce&&e.alternative instanceof we)return l(we,e,{body:l(Ot,e,{operator:"||",left:e.condition,right:e.alternative.body})}).optimize(t);if(e.body instanceof Ke&&e.alternative instanceof Ke&&e.body.TYPE==e.alternative.TYPE)return l(e.body.CTOR,e,{value:l(Mt,e,{condition:e.condition,consequent:e.body.value||l(Mn,e.body),alternative:e.alternative.value||l(Mn,e.alternative)}).transform(t)}).optimize(t);if(e.body instanceof st&&!e.body.alternative&&!e.alternative&&(e=l(st,e,{condition:l(Ot,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),lr(e.body)&&e.alternative){var f=e.alternative;return e.alternative=null,l(Fe,e,{body:[e,f]}).optimize(t)}return lr(e.alternative)?(r=e.body,e.body=e.alternative,e.condition=u?o:e.condition.negate(t),e.alternative=null,l(Fe,e,{body:[e,r]}).optimize(t)):e}),Wr(at,function(e,t){if(!t.option("switches"))return e;var n,i=e.expression.evaluate(t);if(!(i instanceof ye)){var r=e.expression;e.expression=Ci(i,r),e.expression=Bi(e.expression.transform(t),r)}if(!t.option("dead_code"))return e;i instanceof ye&&(i=e.expression.tail_node().evaluate(t));for(var o,s,a=[],u=[],c=0,f=e.body.length;c<f&&!s;c++){if((n=e.body[c])instanceof ct)o?_(n,u[u.length-1]):o=n;else if(!(i instanceof ye)){var p=n.expression.evaluate(t);if(!(p instanceof ye)&&p!==i){_(n,u[u.length-1]);continue}if(p instanceof ye&&!p.has_side_effects(t)&&(p=n.expression.tail_node().evaluate(t)),p===i&&(s=n,o)){var h=u.indexOf(o);u.splice(h,1),_(o,u[h-1]),o=null}}u.push(n)}for(;c<f;)_(e.body[c++],u[u.length-1]);e.body=u;let d=o||s;if(o=null,s=null,u.every((e,t)=>(e===d||e.expression instanceof Cn)&&(0===e.body.length||lr(e)||u.length-1===t)))for(let e=0;e<u.length;e++){const t=u[e];for(let n=e+1;n<u.length;n++){const i=u[n];if(0===i.body.length)continue;const r=n===u.length-1,o=m(i,t,!1);if(o||r&&m(i,t,!0)){!o&&r&&i.body.push(l(nt));let t=n-1,s=0;for(;t>e&&b(u[t--]);)s++;const a=u.splice(n-s,1+s);u.splice(e+1,0,...a),e+=a.length}}}for(let e=0;e<u.length;e++){let t=u[e];if(0!==t.body.length&&lr(t))for(let n=e+1;n<u.length;e++,n++){let e=u[n];if(0!==e.body.length){if(!(m(e,t,!1)||n===u.length-1&&m(e,t,!0)))break;t.body=[],t=e}}}{let e=u.length-1;for(;e>=0;e--){let n=u[e].body;if(y(n[n.length-1],t)&&n.pop(),!b(u[e]))break}if(e++,!d||u.indexOf(d)>=e)for(let n=u.length-1;n>=e;n--){let e=u[n];if(e===d)d=null,u.pop();else{if(e.expression.has_side_effects(t))break;u.pop()}}}e:if(d){let e=u.indexOf(d),n=e;for(;n<u.length-1&&b(u[n]);n++);if(n<u.length-1)break e;let i=u.length-1;for(;i>=0;i--){let e=u[i];if(e!==d&&e.expression.has_side_effects(t))break}if(n>i){let t=e-1;for(;t>=0&&b(u[t]);t--);let r=Math.max(i,t)+1,o=e;i>e?(o=i,u[i].body=u[n].body):d.body=u[n].body,u.splice(o+1,n-o),u.splice(r,e-r)}}e:if(d){let n,i=u.findIndex(e=>!b(e));if(i===u.length-1){let t=u[i];if(g(e))break e;n=l(Fe,t,{body:t.body}),t.body=[]}else if(-1!==i)break e;let r=u.find(e=>e!==d&&e.expression.has_side_effects(t));if(!r)return l(Fe,e,{body:a.concat(v(e.expression),d.expression?v(d.expression):[],n||[])}).optimize(t);const o=u.indexOf(d);if(u.splice(o,1),d=null,n)return l(Fe,e,{body:a.concat(e,n)}).optimize(t)}if(u.length>0&&(u[0].body=a.concat(u[0].body)),0==u.length)return l(Fe,e,{body:a.concat(v(e.expression))}).optimize(t);if(1==u.length&&!g(e)){let n=u[0];return l(st,e,{condition:l(Ot,e,{operator:"===",left:e.expression,right:n.expression}),body:l(Fe,n,{body:n.body}),alternative:null}).optimize(t)}if(2===u.length&&d&&!g(e)){let n=u[0]===d?u[1]:u[0],i=d.expression&&v(d.expression);if(lr(u[0])){let r=u[0];return y(r.body[r.body.length-1],t)&&r.body.pop(),l(st,e,{condition:l(Ot,e,{operator:"===",left:e.expression,right:n.expression}),body:l(Fe,n,{body:n.body}),alternative:l(Fe,d,{body:[].concat(i||[],d.body)})}).optimize(t)}let r="===",o=l(Fe,n,{body:n.body}),s=l(Fe,d,{body:[].concat(i||[],d.body)});if(u[0]===d){r="!==";let e=s;s=o,o=e}return l(Fe,e,{body:[l(st,e,{condition:l(Ot,e,{operator:r,left:e.expression,right:n.expression}),body:o,alternative:null}),s]}).optimize(t)}return e;function _(e,n){n&&!lr(n)?n.body=n.body.concat(e.body):Rr(t,e,a)}function m(e,t,n){let i=e.body,r=t.body;if(n&&(i=i.concat(l(nt))),i.length!==r.length)return!1;let o=l(Fe,e,{body:i}),s=l(Fe,t,{body:r});return o.equivalent_to(s)}function v(e){return l(we,e,{body:e})}function g(e){let t=!1,n=new Vn(e=>{if(t)return!0;if(e instanceof Re)return!0;if(e instanceof we)return!0;if(!y(e,n))return;let i=n.parent();i instanceof ut&&i.body[i.body.length-1]===e||(t=!0)});return e.walk(n),t}function y(t,n){return t instanceof nt&&n.loopcontrol_target(t)===e}function b(e){return!lr(e)&&!l(Fe,e,{body:e.body}).has_side_effects(t)}}),Wr(lt,function(e,t){if(e.bcatch&&e.bfinally&&e.bfinally.body.every(Ni)&&(e.bfinally=null),t.option("dead_code")&&e.body.body.every(Ni)){var n=[];return e.bcatch&&Rr(t,e.bcatch,n),e.bfinally&&n.push(...e.bfinally.body),l(Fe,e,{body:n}).optimize(t)}return e}),_t.DEFMETHOD("to_assignments",function(e){var t=e.option("reduce_vars"),n=[];for(const e of this.definitions){if(e.value){var i=l(Dn,e.name,e.name);n.push(l(It,e,{operator:"=",logical:!1,left:i,right:e.value})),t&&(i.definition().fixed=!1)}const r=e.name.definition();r.eliminated++,r.replaced--}return 0==n.length?null:Ai(this,n)}),Wr(_t,function(e){return 0==e.definitions.length?l(Ce,e):e}),Wr(yt,function(e,t){return e.name instanceof cn&&null!=e.value&&or(e.value,t)&&(e.value=null),e}),Wr(Dt,function(e){return e}),Wr(Et,function(e,t){var n=e.expression,i=n;oo(e.args);var r=e.args.every(e=>!(e instanceof je));t.option("reduce_vars")&&i instanceof Dn&&(i=i.fixed_value());var o=i instanceof Re;if(o&&i.pinned())return e;if(t.option("unused")&&r&&o&&!i.uses_arguments){for(var s=0,a=0,u=0,c=e.args.length;u<c;u++){if(i.argnames[u]instanceof je){if(xi(i.argnames[u].expression,1))for(;u<c;)(_=e.args[u++].drop_side_effect_free(t))&&(e.args[s++]=_);else for(;u<c;)e.args[s++]=e.args[u++];a=s;break}var f=u>=i.argnames.length;if(f||xi(i.argnames[u],1)){if(_=e.args[u].drop_side_effect_free(t))e.args[s++]=_;else if(!f){e.args[s++]=l(Sn,e.args[u],{value:0});continue}}else e.args[s++]=e.args[u];a=s}e.args.length=a}if(n instanceof Ct&&n.expression instanceof Dn&&"console"===n.expression.name&&n.expression.definition().undeclared&&"assert"===n.property){const n=e.args[0];if(n){const i=n.evaluate(t);if(1===i||!0===i)return l(Mn,e)}}if(t.option("unsafe")&&!n.contains_optional()){if(n instanceof Ct&&"Array"===n.start.value&&"from"===n.property&&1===e.args.length){const[n]=e.args;if(n instanceof Pt)return l(Pt,n,{elements:n.elements}).optimize(t)}if(Qi(n))switch(n.name){case"Array":if(1!=e.args.length)return l(Pt,e,{elements:e.args}).optimize(t);if(e.args[0]instanceof Sn&&e.args[0].value<=11){const t=[];for(let n=0;n<e.args[0].value;n++)t.push(new In);return new Pt({elements:t})}break;case"Object":if(0==e.args.length)return l(Ht,e,{properties:[]});break;case"String":if(0==e.args.length)return l(Bn,e,{value:""});if(e.args.length<=1)return l(Ot,e,{left:e.args[0],operator:"+",right:l(Bn,e,{value:""})}).optimize(t);break;case"Number":if(0==e.args.length)return l(Sn,e,{value:0});if(1==e.args.length&&t.option("unsafe_math"))return l($t,e,{expression:e.args[0],operator:"+"}).optimize(t);break;case"Symbol":1==e.args.length&&e.args[0]instanceof Bn&&t.option("unsafe_symbols")&&(e.args.length=0);break;case"Boolean":if(0==e.args.length)return l(Hn,e);if(1==e.args.length)return l($t,e,{expression:l($t,e,{expression:e.args[0],operator:"!"}),operator:"!"}).optimize(t);break;case"RegExp":var p=[];if(e.args.length>=1&&e.args.length<=2&&e.args.every(e=>{var n=e.evaluate(t);return p.push(n),e!==n})&&w(p[0])){let[n,i]=p;n=D(new RegExp(n).source);const r=l(qn,e,{value:{source:n,flags:i}});if(r._eval(t)!==r)return r}}else if(n instanceof Ct)switch(n.property){case"toString":if(0==e.args.length&&!n.expression.may_throw_on_access(t))return l(Ot,e,{left:l(Bn,e,{value:""}),operator:"+",right:n.expression}).optimize(t);break;case"join":if(n.expression instanceof Pt)e:{var h;if(!(e.args.length>0&&(h=e.args[0].evaluate(t))===e.args[0])){var d,_,m=[],v=[];for(u=0,c=n.expression.elements.length;u<c;u++){var g=n.expression.elements[u];if(g instanceof je)break e;var y=g.evaluate(t);y!==g?v.push(y):(v.length>0&&(m.push(l(Bn,e,{value:v.join(h)})),v.length=0),m.push(g))}return v.length>0&&m.push(l(Bn,e,{value:v.join(h)})),0==m.length?l(Bn,e,{value:""}):1==m.length?m[0].is_string(t)?m[0]:l(Ot,m[0],{operator:"+",left:l(Bn,e,{value:""}),right:m[0]}):""==h?(d=m[0].is_string(t)||m[1].is_string(t)?m.shift():l(Bn,e,{value:""}),m.reduce(function(e,t){return l(Ot,t,{operator:"+",left:e,right:t})},d).optimize(t)):((_=e.clone()).expression=_.expression.clone(),_.expression.expression=_.expression.expression.clone(),_.expression.expression.elements=m,Si(t,e,_))}}break;case"charAt":if(n.expression.is_string(t)){var b=e.args[0],x=b?b.evaluate(t):0;if(x!==b)return l(St,n,{expression:n.expression,property:Ci(0|x,b||n)}).optimize(t)}break;case"apply":if(2==e.args.length&&e.args[1]instanceof Pt){var k=e.args[1].elements.slice();return k.unshift(e.args[0]),l(Et,e,{expression:l(Ct,n,{expression:n.expression,optional:!1,property:"call"}),args:k}).optimize(t)}break;case"call":var A=n.expression;if(A instanceof Dn&&(A=A.fixed_value()),A instanceof Re&&!A.contains_this())return(e.args.length?Ai(this,[e.args[0],l(Et,e,{expression:n.expression,args:e.args.slice(1)})]):l(Et,e,{expression:n.expression,args:[]})).optimize(t)}}if(t.option("unsafe_Function")&&Qi(n)&&"Function"==n.name){if(0==e.args.length)return Fi(e).optimize(t);if(e.args.every(e=>e instanceof Bn))try{var F="n(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})",C=de(F),B=t.mangle_options();C.figure_out_scope(B);var S,T=new Yr(t.options,{mangle_options:t._mangle_options});return(C=C.transform(T)).figure_out_scope(B),C.compute_char_frequency(B),C.mangle_names(B),Rn(C,e=>{if(Mi(e))return S=e,Un}),F=ri(),Fe.prototype._codegen.call(S,S,F),e.args=[l(Bn,e,{value:S.argnames.map(function(e){return e.print_to_string()}).join(",")}),l(Bn,e.args[e.args.length-1],{value:F.get().replace(/^{|}$/g,"")})],e}catch(e){if(!(e instanceof ie))throw e}}return function(e,t){if(t.in_computed_key())return e;var n=e.expression,i=n,r=e.args.every(e=>!(e instanceof je));if(t.option("reduce_vars")&&i instanceof Dn&&!E(e,Xn)){const r=i.fixed_value();if(Yi(r,t)||!t.toplevel.funcs&&n.definition().global)return e;i=r}if(Vr(t,i)&&!E(e,Gn))return e;var o=i instanceof Re,s=o&&i.body[0],a=o&&!i.is_generator&&!i.async,u=a&&t.option("inline")&&!e.is_callee_pure(t);if(u&&s instanceof Qe){let n=s.value;if(!n||n.is_constant_expression()){n=n?n.clone(!0):l(Mn,e);const i=e.args.concat(n);return Ai(e,i).optimize(t)}if(1===i.argnames.length&&i.argnames[0]instanceof fn&&e.args.length<2&&!(e.args[0]instanceof je)&&n instanceof Dn&&n.name===i.argnames[0].name){const n=(e.args[0]||l(Mn)).optimize(t);let i;return n instanceof Ft&&(i=t.parent())instanceof Et&&i.expression===e?Ai(e,[l(Sn,e,{value:0}),n]):n}}if(u){var c,f,p=-1;let o,a,u;if(r&&!i.uses_arguments&&!(t.parent()instanceof Xt)&&!(i.name&&i instanceof Ue)&&(a=function(e){var n=i.body,r=n.length;if(t.option("inline")<3)return 1==r&&_(e);e=null;for(var o=0;o<r;o++){var s=n[o];if(s instanceof mt){if(e&&!s.definitions.every(e=>!e.value))return!1}else{if(e)return!1;s instanceof Ce||(e=s)}}return _(e)}(s))&&(n===i||E(e,Gn)||t.option("unused")&&1==(o=n.definition()).references.length&&!Vi(t,o)&&i.is_constant_expression(n.scope))&&!E(e,Wn|Xn)&&!i.contains_this()&&function(){var e=new Set;do{if((c=t.parent(++p)).is_block_scope()&&c.block_scope&&c.block_scope.variables.forEach(function(t){e.add(t.name)}),c instanceof ht)c.argname&&e.add(c.argname.name);else if(c instanceof Te)f=[];else if(c instanceof Dn&&c.fixed_value()instanceof Pe)return!1}while(!(c instanceof Pe));var n=!(c instanceof He)||t.toplevel.vars,r=t.option("inline");return!(!function(e,t){for(var n=i.body.length,r=0;r<n;r++){var o=i.body[r];if(o instanceof mt){if(!t)return!1;for(var s=o.definitions.length;--s>=0;){var a=o.definitions[s].name;if(a instanceof We||e.has(a.name)||Pi.has(a.name)||c.conflicting_def(a.name))return!1;f&&f.push(a.definition())}}}return!0}(e,r>=3&&n)||!function(e,t){for(var n=0,r=i.argnames.length;n<r;n++){var o=i.argnames[n];if(o instanceof Nt){if(xi(o.left,1))continue;return!1}if(o instanceof We)return!1;if(o instanceof je){if(xi(o.expression,1))continue;return!1}if(!xi(o,1)){if(!t||e.has(o.name)||Pi.has(o.name)||c.conflicting_def(o.name))return!1;f&&f.push(o.definition())}}return!0}(e,r>=2&&n)||f&&0!=f.length&&Ui(i,f))}()&&(u=t.find_scope())&&!Ur(u,i)&&!function(){let e,n=0;for(;e=t.parent(n++);){if(e instanceof Nt)return!0;if(e instanceof Ae)break}return!1}()&&!(c instanceof Xt))return wi(i,Di),u.add_child_scope(i),Ai(e,function(n){var r=[],o=[];if(function(t,n){for(var r=i.argnames.length,o=e.args.length;--o>=r;)n.push(e.args[o]);for(o=r;--o>=0;){var s=i.argnames[o],a=e.args[o];if(xi(s,1)||!s.name||c.conflicting_def(s.name))a&&n.push(a);else{var u=l(sn,s,s);s.definition().orig.push(u),!a&&f&&(a=l(Mn,e)),m(t,n,u,a)}}t.reverse(),n.reverse()}(r,o),function(e,t){for(var n=t.length,r=0,o=i.body.length;r<o;r++){var s=i.body[r];if(s instanceof mt)for(var a=0,u=s.definitions.length;a<u;a++){var c=s.definitions[a],p=c.name;if(m(e,t,p,c.value),f&&i.argnames.every(e=>e.name!=p.name)){var h=i.variables.get(p.name),d=l(Dn,p,p);h.references.push(d),t.splice(n++,0,l(It,c,{operator:"=",logical:!1,left:d,right:l(Mn,p)}))}}}}(r,o),o.push(n),r.length){const e=c.body.indexOf(t.parent(p-1))+1;c.body.splice(e,0,l(mt,i,{definitions:r}))}return o.map(e=>e.clone(!0))}(a)).optimize(t)}if(u&&E(e,Gn))return wi(i,Di),(i=(i=l(i.CTOR===Ye?Ue:i.CTOR,i,i)).clone(!0)).figure_out_scope({},{parent_scope:t.find_scope(),toplevel:t.get_toplevel()}),l(Et,e,{expression:i,args:e.args}).optimize(t);if(a&&t.option("side_effects")&&i.body.every(Ni)){var h=e.args.concat(l(Mn,e));return Ai(e,h).optimize(t)}if(t.option("negate_iife")&&t.parent()instanceof we&&Ii(e))return e.negate(t,!0);var d=e.evaluate(t);return d!==e?(d=Ci(d,e).optimize(t),Si(t,d,e)):e;function _(t){return t?t instanceof Qe?t.value?t.value.clone(!0):l(Mn,e):t instanceof we?l($t,t,{operator:"void",expression:t.body.clone(!0)}):void 0:l(Mn,e)}function m(t,n,i,r){var o=i.definition();c.variables.has(i.name)||(c.variables.set(i.name,o),c.enclosed.push(o),t.push(l(yt,i,{name:i,value:null})));var s=l(Dn,i,i);o.references.push(s),r&&n.push(l(It,e,{operator:"=",logical:!1,left:s,right:r.clone()}))}}(e,t)}),ye.DEFMETHOD("contains_optional",function(){return(this instanceof Ft||this instanceof Et||this instanceof Tt)&&(!!this.optional||this.expression.contains_optional())}),Wr(kt,function(e,t){return t.option("unsafe")&&Qi(e.expression)&&["Object","RegExp","Function","Error","Array"].includes(e.expression.name)?l(Et,e,e).transform(t):e}),Wr(At,function(e,t){if(!t.option("side_effects"))return e;var n,i,r=[];n=Qn(t),i=e.expressions.length-1,e.expressions.forEach(function(e,o){o<i&&(e=e.drop_side_effect_free(t,n)),e&&(ki(r,e),n=!1)});var o=r.length-1;return function(){for(;o>0&&or(r[o],t);)o--;o<r.length-1&&(r[o]=l($t,e,{operator:"void",expression:r[o]}),r.length=o+1)}(),0==o?((e=zi(t.parent(),t.self(),r[0]))instanceof At||(e=e.optimize(t)),e):(e.expressions=r,e)}),qt.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof At){var t=this.expression.expressions.slice(),n=this.clone();return n.expression=t.pop(),t.push(n),Ai(this,t).optimize(e)}return this}),Wr(zt,function(e,t){return e.lift_sequences(t)}),Wr($t,function(e,t){var n=e.expression;if("delete"==e.operator&&!(n instanceof Dn||n instanceof Ft||n instanceof Tt||Hi(n)))return Ai(e,[n,l(jn,e)]).optimize(t);var i=e.lift_sequences(t);if(i!==e)return i;if(t.option("side_effects")&&"void"==e.operator)return(n=n.drop_side_effect_free(t))?(e.expression=n,e):l(Mn,e).optimize(t);if(t.in_boolean_context())switch(e.operator){case"!":if(n instanceof $t&&"!"==n.operator)return n.expression;n instanceof Ot&&(e=Si(t,e,n.negate(t,Qn(t))));break;case"typeof":return(n instanceof Dn?l(jn,e):Ai(e,[n,l(jn,e)])).optimize(t)}if("-"==e.operator&&n instanceof Nn&&(n=n.transform(t)),n instanceof Ot&&("+"==e.operator||"-"==e.operator)&&("*"==n.operator||"/"==n.operator||"%"==n.operator))return l(Ot,e,{operator:n.operator,left:l($t,n.left,{operator:e.operator,expression:n.left}),right:n.right});if(t.option("evaluate")){if("~"===e.operator&&e.expression instanceof $t&&"~"===e.expression.operator&&(t.in_32_bit_context(!1)||e.expression.expression.is_32_bit_integer(t)))return e.expression.expression;if("~"===e.operator&&n instanceof Ot&&"^"===n.operator)return n.left instanceof $t&&"~"===n.left.operator?n.left=n.left.bitwise_negate(t,!0):n.right=n.right.bitwise_negate(t,!0),n}if("-"!=e.operator||!(n instanceof Sn||n instanceof Nn||n instanceof Tn)){var r=e.evaluate(t);if(r!==e)return Si(t,r=Ci(r,e).optimize(t),e)}return e}),Ot.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof At){var t=this.left.expressions.slice();return(n=this.clone()).left=t.pop(),t.push(n),Ai(this,t).optimize(e)}if(this.right instanceof At&&!this.left.has_side_effects(e)){for(var n,i="="==this.operator&&this.left instanceof Dn,r=(t=this.right.expressions).length-1,o=0;o<r&&(i||!t[o].has_side_effects(e));o++);if(o==r)return t=t.slice(),(n=this.clone()).right=t.pop(),t.push(n),Ai(this,t).optimize(e);if(o>0)return(n=this.clone()).right=Ai(this.right,t.slice(o)),(t=t.slice(0,o)).push(n),Ai(this,t).optimize(e)}}return this});var Qr=m("== === != !== * & | ^");function eo(e,t){return e instanceof Dn||e.TYPE===t.TYPE}Wr(Ot,function(e,t){function n(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(t)&&!e.right.has_side_effects(t)}function i(t){if(n()){t&&(e.operator=t);var i=e.left;e.left=e.right,e.right=i}}if(t.option("lhs_constants")&&Qr.has(e.operator)&&e.right.is_constant()&&!e.left.is_constant()&&(e.left instanceof Ot&&pe[e.left.operator]>=pe[e.operator]||i()),e=e.lift_sequences(t),t.option("comparisons"))switch(e.operator){case"===":case"!==":var r=!0;(e.left.is_string(t)&&e.right.is_string(t)||e.left.is_number(t)&&e.right.is_number(t)||e.left.is_bigint(t)&&e.right.is_bigint(t)||e.left.is_boolean()&&e.right.is_boolean()||e.left.equivalent_to(e.right))&&(e.operator=e.operator.substr(0,2));case"==":case"!=":if(!r&&or(e.left,t))e.left=l(zn,e.left);else if(!r&&or(e.right,t))e.right=l(zn,e.right);else if(t.option("typeofs")&&e.left instanceof Bn&&"undefined"==e.left.value&&e.right instanceof $t&&"typeof"==e.right.operator)((o=e.right.expression)instanceof Dn?!o.is_declared(t):o instanceof Ft&&t.option("ie8"))||(e.right=o,e.left=l(Mn,e.left).optimize(t),2==e.operator.length&&(e.operator+="="));else if(t.option("typeofs")&&e.left instanceof $t&&"typeof"==e.left.operator&&e.right instanceof Bn&&"undefined"==e.right.value){var o;((o=e.left.expression)instanceof Dn?!o.is_declared(t):o instanceof Ft&&t.option("ie8"))||(e.left=o,e.right=l(Mn,e.right).optimize(t),2==e.operator.length&&(e.operator+="="))}else{if(e.left instanceof Dn&&e.right instanceof Dn&&e.left.definition()===e.right.definition()&&((u=e.left.fixed_value())instanceof Pt||u instanceof Re||u instanceof Ht||u instanceof Xt))return l("="==e.operator[0]?jn:Hn,e);if(e.left.is_32_bit_integer(t)&&e.right.is_32_bit_integer(t)){const n=e=>l($t,e,{operator:"!",expression:e}),i=(e,i)=>i?t.in_boolean_context()?e:n(n(e)):n(e);if(e.left instanceof Sn&&0===e.left.value)return i(e.right,"!"===e.operator[0]);if(e.right instanceof Sn&&0===e.right.value)return i(e.left,"!"===e.operator[0]);let r,o,s;if((r=e.left instanceof Ot?e.left:e.right instanceof Ot?e.right:null)&&(s=r===e.left?e.right:e.left)&&"&"===r.operator&&s instanceof Sn&&s.is_32_bit_integer(t)&&(o=r.left.equivalent_to(s)?r.right:r.right.equivalent_to(s)?r.left:null)){let n=i(l(Ot,e,{operator:"&",left:s,right:l($t,e,{operator:"~",expression:o})}),"!"===e.operator[0]);return Si(t,n,e)}}}break;case"&&":case"||":var s=e.left;if(s.operator==e.operator&&(s=s.right),s instanceof Ot&&s.operator==("&&"==e.operator?"!==":"===")&&e.right instanceof Ot&&s.operator==e.right.operator&&(or(s.left,t)&&e.right.left instanceof zn||s.left instanceof zn&&or(e.right.left,t))&&!s.right.has_side_effects(t)&&s.right.equivalent_to(e.right.right)){var a=l(Ot,e,{operator:s.operator.slice(0,-1),left:l(zn,e),right:s.right});return s!==e.left&&(a=l(Ot,e,{operator:e.operator,left:e.left.left,right:a})),a}}var u;if("+"==e.operator&&t.in_boolean_context()){var c=e.left.evaluate(t),f=e.right.evaluate(t);if(c&&"string"==typeof c)return Ai(e,[e.right,l(jn,e)]).optimize(t);if(f&&"string"==typeof f)return Ai(e,[e.left,l(jn,e)]).optimize(t)}if(t.option("comparisons")&&e.is_boolean()){if(!(t.parent()instanceof Ot)||t.parent()instanceof It){var p=l($t,e,{operator:"!",expression:e.negate(t,Qn(t))});e=Si(t,e,p)}if(t.option("unsafe_comps"))switch(e.operator){case"<":i(">");break;case"<=":i(">=")}}if("+"==e.operator){if(e.right instanceof Bn&&""==e.right.getValue()&&e.left.is_string(t))return e.left;if(e.left instanceof Bn&&""==e.left.getValue()&&e.right.is_string(t))return e.right;if(e.left instanceof Ot&&"+"==e.left.operator&&e.left.left instanceof Bn&&""==e.left.left.getValue()&&e.right.is_string(t))return e.left=e.left.right,e}if(t.option("evaluate")){switch(e.operator){case"&&":if(!(c=!!xi(e.left,2)||!xi(e.left,4)&&e.left.evaluate(t)))return zi(t.parent(),t.self(),e.left).optimize(t);if(!(c instanceof ye))return Ai(e,[e.left,e.right]).optimize(t);if(f=e.right.evaluate(t)){if(!(f instanceof ye)&&("&&"==(h=t.parent()).operator&&h.left===t.self()||t.in_boolean_context()))return e.left.optimize(t)}else{if(t.in_boolean_context())return Ai(e,[e.left,l(Hn,e)]).optimize(t);wi(e,4)}if("||"==e.left.operator&&!(d=e.left.right.evaluate(t)))return l(Mt,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(t);break;case"||":var h,d;if(!(c=!!xi(e.left,2)||!xi(e.left,4)&&e.left.evaluate(t)))return Ai(e,[e.left,e.right]).optimize(t);if(!(c instanceof ye))return zi(t.parent(),t.self(),e.left).optimize(t);if(f=e.right.evaluate(t)){if(!(f instanceof ye)){if(t.in_boolean_context())return Ai(e,[e.left,l(jn,e)]).optimize(t);wi(e,2)}}else if("||"==(h=t.parent()).operator&&h.left===t.self()||t.in_boolean_context())return e.left.optimize(t);if("&&"==e.left.operator&&(d=e.left.right.evaluate(t))&&!(d instanceof ye))return l(Mt,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(t);break;case"??":if(ur(e.left,t))return e.right;if(!((c=e.left.evaluate(t))instanceof ye))return null==c?e.right:e.left;if(t.in_boolean_context()){const n=e.right.evaluate(t);if(!(n instanceof ye||n))return e.left}}var _=!0;switch(e.operator){case"+":if(e.right instanceof Cn&&e.left instanceof Ot&&"+"==e.left.operator&&e.left.is_string(t)){var m=(v=l(Ot,e,{operator:"+",left:e.left.right,right:e.right})).optimize(t);v!==m&&(e=l(Ot,e,{operator:"+",left:e.left.left,right:m}))}if(e.left instanceof Ot&&"+"==e.left.operator&&e.left.is_string(t)&&e.right instanceof Ot&&"+"==e.right.operator&&e.right.is_string(t)){var v,g=(v=l(Ot,e,{operator:"+",left:e.left.right,right:e.right.left})).optimize(t);v!==g&&(e=l(Ot,e,{operator:"+",left:l(Ot,e.left,{operator:"+",left:e.left.left,right:g}),right:e.right.right}))}if(e.right instanceof $t&&"-"==e.right.operator&&e.left.is_number_or_bigint(t)){e=l(Ot,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof $t&&"-"==e.left.operator&&n()&&e.right.is_number_or_bigint(t)){e=l(Ot,e,{operator:"-",left:e.right,right:e.left.expression});break}if(e.left instanceof Xe){var y=e.left;if((m=e.right.evaluate(t))!=e.right)return y.segments[y.segments.length-1].value+=String(m),y}if(e.right instanceof Xe&&(m=e.right,(y=e.left.evaluate(t))!=e.left))return m.segments[0].value=String(y)+m.segments[0].value,m;if(e.left instanceof Xe&&e.right instanceof Xe){var b=(y=e.left).segments;m=e.right,b[b.length-1].value+=m.segments[0].value;for(var D=1;D<m.segments.length;D++)b.push(m.segments[D]);return y}case"*":_=t.option("unsafe_math");case"&":case"|":case"^":if(e.left.is_number_or_bigint(t)&&e.right.is_number_or_bigint(t)&&n()&&!(e.left instanceof Ot&&e.left.operator!=e.operator&&pe[e.left.operator]>=pe[e.operator])){var x=l(Ot,e,{operator:e.operator,left:e.right,right:e.left});e=e.right instanceof Cn&&!(e.left instanceof Cn)?Si(t,x,e):Si(t,e,x)}_&&e.is_number_or_bigint(t)&&(e.right instanceof Ot&&e.right.operator==e.operator&&(e=l(Ot,e,{operator:e.operator,left:l(Ot,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof Cn&&e.left instanceof Ot&&e.left.operator==e.operator&&(e.left.left instanceof Cn?e=l(Ot,e,{operator:e.operator,left:l(Ot,e.left,{operator:e.operator,left:e.left.left,right:e.right,start:e.left.left.start,end:e.right.end}),right:e.left.right}):e.left.right instanceof Cn&&(e=l(Ot,e,{operator:e.operator,left:l(Ot,e.left,{operator:e.operator,left:e.left.right,right:e.right,start:e.left.right.start,end:e.right.end}),right:e.left.left}))),e.left instanceof Ot&&e.left.operator==e.operator&&e.left.right instanceof Cn&&e.right instanceof Ot&&e.right.operator==e.operator&&e.right.left instanceof Cn&&(e=l(Ot,e,{operator:e.operator,left:l(Ot,e.left,{operator:e.operator,left:l(Ot,e.left.left,{operator:e.operator,left:e.left.right,right:e.right.left,start:e.left.right.start,end:e.right.left.end}),right:e.left.left}),right:e.right.right})))}if(er.has(e.operator)){let n,i,r,o,s=e.left;if("&"===e.operator&&e.right instanceof Ot&&"|"===e.right.operator&&"number"==typeof(i=e.left.evaluate(t))&&("number"==typeof(n=e.right.right.evaluate(t))?(r=e.right.left,o=e.right.right):"number"==typeof(n=e.right.left.evaluate(t))&&(r=e.right.right,o=e.right.left),r&&o))if(0===(n&i))e=l(Ot,e,{operator:e.operator,left:s,right:r});else{const a=l(Ot,e,{operator:"|",left:l(Ot,e,{operator:"&",left:r,right:s}),right:Ci(n&i,o)});e=Si(t,e,a)}"|"!==e.operator&&"&"!==e.operator||!e.left.equivalent_to(e.right)||e.left.has_side_effects(t)||!t.in_32_bit_context(!0)||(e.left=l(Sn,e,{value:0}),e.operator="|"),"^"===e.operator&&e.left instanceof $t&&"~"===e.left.operator&&e.right instanceof $t&&"~"===e.right.operator&&(e=l(Ot,e,{operator:"^",left:e.left.expression,right:e.right.expression})),("<<"===e.operator||">>"===e.operator)&&e.right instanceof Sn&&0===e.right.value&&(e.operator="|");const a=e.right instanceof Sn&&0===e.right.value?e.right:e.left instanceof Sn&&0===e.left.value?e.left:null,u=a&&(a===e.right?e.left:e.right);if(a&&("|"===e.operator||"^"===e.operator)&&(u.is_32_bit_integer(t)||t.in_32_bit_context(!0)))return u;if(a&&"&"===e.operator&&!u.has_side_effects(t)&&u.is_32_bit_integer(t))return a;const c=e=>e instanceof Sn&&-1===e.value||e instanceof $t&&"-"===e.operator&&e.expression instanceof Sn&&1===e.expression.value,f=c(e.right)?e.right:c(e.left)?e.left:null,p=f===e.right?e.left:e.right;if(f&&"&"===e.operator&&(p.is_32_bit_integer(t)||t.in_32_bit_context(!0)))return p;if(f&&"^"===e.operator&&(p.is_32_bit_integer(t)||t.in_32_bit_context(!0)))return p.bitwise_negate(t)}}if(e.right instanceof Ot&&e.right.operator==e.operator&&(tr.has(e.operator)||"+"==e.operator&&(e.right.left.is_string(t)||e.left.is_string(t)&&e.right.right.is_string(t))))return e.left=l(Ot,e.left,{operator:e.operator,left:e.left.transform(t),right:e.right.left.transform(t)}),e.right=e.right.right.transform(t),e.transform(t);var w=e.evaluate(t);return w!==e?(w=Ci(w,e).optimize(t),Si(t,w,e)):e}),Wr(xn,function(e){return e}),Wr(Dn,function(e,t){if(!t.option("ie8")&&Qi(e)&&!t.find_parent(Ne))switch(e.name){case"undefined":return l(Mn,e).optimize(t);case"NaN":return l(On,e).optimize(t);case"Infinity":return l(Nn,e).optimize(t)}return t.option("reduce_vars")&&!t.is_lhs()?function(e,t){if(t.in_computed_key())return e;const n=t.parent(),i=e.definition(),r=t.find_scope();let o=e.fixed_value();if(t.top_retain&&i.global&&t.top_retain(i)&&function(e,t){return 1!==e.orig.length||!t||t.size()>e.name.length}(i,o))return i.fixed=!1,i.single_use=!1,e;if(Vr(t,o))return e;let s=i.single_use&&!(n instanceof Et&&n.is_callee_pure(t)||E(n,Xn))&&!(n instanceof wt&&o instanceof Re&&o.name);if(s&&o instanceof ye&&(s=!o.has_side_effects(t)&&!o.may_throw(t)),o instanceof Xt&&i.scope!==e.scope)return e;if(s&&(o instanceof Re||o instanceof Xt))if(Yi(o,t))s=!1;else if(i.scope===e.scope||1!=i.escaped&&!xi(o,16)&&!function(e){for(var t,n=0;t=e.parent(n++);){if(t instanceof be)return!1;if(t instanceof Pt||t instanceof Rt||t instanceof Ht)return!0}return!1}(t)&&t.option("reduce_funcs")){if(Vi(t,i))s=!1;else if((i.scope!==e.scope||i.orig[0]instanceof fn)&&(s=o.is_constant_expression(e.scope),"f"==s)){var a=e.scope;do{(a instanceof Ye||Mi(a))&&wi(a,16)}while(a=a.parent_scope)}}else s=!1;if(s&&(o instanceof Re||o instanceof Xt)&&(s=i.scope===e.scope&&!Ur(r,o)||n instanceof Et&&n.expression===e&&!Ur(r,o)&&!(o.name&&o.name.definition().recursive_refs>0)),s&&o){if(o instanceof Qt&&(wi(o,Di),o=l(tn,o,o)),o instanceof Ye&&(wi(o,Di),o=l(Ue,o,o)),i.recursive_refs>0&&o.name instanceof ln){const e=o.name.definition();let t=o.variables.get(o.name.name),n=t&&t.orig[0];n instanceof dn||(n=l(dn,o.name,o.name),n.scope=o,o.name=n,t=o.def_function(n)),Rn(o,n=>{n instanceof Dn&&n.definition()===e&&(n.thedef=t,t.references.push(n))})}return(o instanceof Re||o instanceof Xt)&&o.parent_scope!==r&&(o=o.clone(!0,t.get_toplevel()),r.add_child_scope(o)),o.optimize(t)}if(o){let n;if(o instanceof An)i.orig[0]instanceof fn||!i.references.every(e=>i.scope===e.scope)||(n=o);else{var u=o.evaluate(t);u===o||!t.option("unsafe_regexp")&&u instanceof RegExp||(n=Ci(u,o))}if(n){const r=e.size(t),s=n.size(t);let a=0;if(t.option("unused")&&!t.exposed(i)&&(a=(r+2+o.size(t))/(i.references.length-i.assignments)),s<=r+a)return n}}return e}(e,t):e}),Wr(Mn,function(e,t){if(t.option("unsafe_undefined")){var n=Gr(t,"undefined");if(n){var i=l(Dn,e,{name:"undefined",scope:n.scope,thedef:n});return wi(i,8),i}}var r=t.is_lhs();return r&&eo(r,e)?e:l($t,e,{operator:"void",expression:l(Sn,e,{value:0})})}),Wr(Nn,function(e,t){var n=t.is_lhs();return n&&eo(n,e)?e:!t.option("keep_infinity")||n&&!eo(n,e)||Gr(t,"Infinity")?l(Ot,e,{operator:"/",left:l(Sn,e,{value:1}),right:l(Sn,e,{value:0})}):e}),Wr(On,function(e,t){var n=t.is_lhs();return n&&!eo(n,e)||Gr(t,"NaN")?l(Ot,e,{operator:"/",left:l(Sn,e,{value:0}),right:l(Sn,e,{value:0})}):e});const to=m("+ - / * % >> << >>> | ^ &"),no=m("* | ^ &");function io(e,t){return e instanceof Dn&&(e=e.fixed_value()),!!e&&(!(e instanceof Re||e instanceof Xt)||!(e instanceof Re&&e.contains_this())||t.parent()instanceof kt)}function ro(e,t){return t.in_boolean_context()?Si(t,e,Ai(e,[e,l(jn,e)]).optimize(t)):e}function oo(e){for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof je){var i=n.expression;i instanceof Pt&&!i.elements.some(e=>e instanceof In)&&(e.splice(t,1,...i.elements),t--)}}}function so(e,t){if(!t.option("computed_props"))return e;if(!(e.key instanceof Cn))return e;if(e.key instanceof Bn||e.key instanceof Sn){const n=e.key.value.toString();if("__proto__"===n)return e;if("constructor"==n&&t.parent()instanceof Xt)return e;e instanceof Rt?(e.quote=e.key.quote,e.key=n):e instanceof Jt?(e.quote=e.key.quote,e.key=l(hn,e.key,{name:n})):(e.quote=e.key.quote,e.key=l(pn,e.key,{name:n}))}return e}Wr(It,function(e,t){if(e.logical)return e.lift_sequences(t);var n;if("="===e.operator&&e.left instanceof Dn&&"arguments"!==e.left.name&&!(n=e.left.definition()).undeclared&&e.right.equivalent_to(e.left))return e.right;if(t.option("dead_code")&&e.left instanceof Dn&&(n=e.left.definition()).scope===t.find_parent(Re)){var i,r=0,o=e;do{if(i=o,(o=t.parent(r++))instanceof Ke){if(s(r,o))break;if(Ui(n.scope,[n]))break;return"="==e.operator?e.right:(n.fixed=!1,l(Ot,e,{operator:e.operator.slice(0,-1),left:e.left,right:e.right}).optimize(t))}}while(o instanceof Ot&&o.right===i||o instanceof At&&o.tail_node()===i)}return"="==(e=e.lift_sequences(t)).operator&&e.left instanceof Dn&&e.right instanceof Ot&&(e.right.left instanceof Dn&&e.right.left.name==e.left.name&&to.has(e.right.operator)?(e.operator=e.right.operator+"=",e.right=e.right.right):e.right.right instanceof Dn&&e.right.right.name==e.left.name&&no.has(e.right.operator)&&!e.right.left.has_side_effects(t)&&(e.operator=e.right.operator+"=",e.right=e.right.left)),e;function s(n,i){function r(){const n=e.right;e.right=l(zn,n);const r=i.may_throw(t);return e.right=n,r}for(var o,s=e.left.definition().scope.get_defun_scope();(o=t.parent(n++))!==s;)if(o instanceof lt){if(o.bfinally)return!0;if(o.bcatch&&r())return!0}}}),Wr(Nt,function(e,t){if(!t.option("evaluate"))return e;var n=e.right.evaluate(t);let i,r;return void 0===n?(i=t.parent())instanceof Re&&!1!==t.option("keep_fargs")&&("Call"!==(r=t.parent(1)).TYPE||r.expression!==i)||(e=e.left):n!==e.right&&(n=Ci(n,e.right),e.right=Bi(n,e.right)),e}),Wr(Mt,function(e,t){if(!t.option("conditionals"))return e;if(e.condition instanceof At){var n=e.condition.expressions.slice();return e.condition=n.pop(),n.push(e),Ai(e,n)}var i=e.condition.evaluate(t);if(i!==e.condition)return zi(t.parent(),t.self(),i?e.consequent:e.alternative);var r=i.negate(t,Qn(t));Si(t,i,r)===r&&(e=l(Mt,e,{condition:r,consequent:e.alternative,alternative:e.consequent}));var o,s=e.condition,a=e.consequent,u=e.alternative;if(s instanceof Dn&&a instanceof Dn&&s.definition()===a.definition())return l(Ot,e,{operator:"||",left:s,right:u});if(a instanceof It&&u instanceof It&&a.operator===u.operator&&a.logical===u.logical&&a.left.equivalent_to(u.left)&&(!e.condition.has_side_effects(t)||"="==a.operator&&!a.left.has_side_effects(t)))return l(It,e,{operator:a.operator,left:a.left,logical:a.logical,right:l(Mt,e,{condition:e.condition,consequent:a.right,alternative:u.right})});if(a instanceof Et&&u.TYPE===a.TYPE&&a.args.length>0&&a.args.length==u.args.length&&a.expression.equivalent_to(u.expression)&&!e.condition.has_side_effects(t)&&!a.expression.has_side_effects(t)&&"number"==typeof(o=function(){for(var e=a.args,t=u.args,n=0,i=e.length;n<i;n++){if(e[n]instanceof je)return;if(!e[n].equivalent_to(t[n])){if(t[n]instanceof je)return;for(var r=n+1;r<i;r++){if(e[r]instanceof je)return;if(!e[r].equivalent_to(t[r]))return}return n}}}())){var c=a.clone();return c.args[o]=l(Mt,e,{condition:e.condition,consequent:a.args[o],alternative:u.args[o]}),c}if(u instanceof Mt&&a.equivalent_to(u.consequent))return l(Mt,e,{condition:l(Ot,e,{operator:"||",left:s,right:u.condition}),consequent:a,alternative:u.alternative}).optimize(t);if(t.option("ecma")>=2020&&function(e,t,n){if(t.may_throw(n))return!1;let i;if(e instanceof Ot&&"=="===e.operator&&((i=ur(e.left,n)&&e.left)||(i=ur(e.right,n)&&e.right))&&(i===e.left?e.right:e.left).equivalent_to(t))return!0;if(e instanceof Ot&&"||"===e.operator){let i,r;const o=e=>{if(!(e instanceof Ot)||"==="!==e.operator&&"=="!==e.operator)return!1;let o,s=0;return e.left instanceof zn&&(s++,i=e,o=e.right),e.right instanceof zn&&(s++,i=e,o=e.left),or(e.left,n)&&(s++,r=e,o=e.right),or(e.right,n)&&(s++,r=e,o=e.left),1===s&&!!o.equivalent_to(t)};if(!o(e.left))return!1;if(!o(e.right))return!1;if(i&&r&&i!==r)return!0}return!1}(s,u,t))return l(Ot,e,{operator:"??",left:u,right:a}).optimize(t);if(u instanceof At&&a.equivalent_to(u.expressions[u.expressions.length-1]))return Ai(e,[l(Ot,e,{operator:"||",left:s,right:Ai(e,u.expressions.slice(0,-1))}),a]).optimize(t);if(u instanceof Ot&&"&&"==u.operator&&a.equivalent_to(u.right))return l(Ot,e,{operator:"&&",left:l(Ot,e,{operator:"||",left:s,right:u.left}),right:a}).optimize(t);if(a instanceof Mt&&a.alternative.equivalent_to(u))return l(Mt,e,{condition:l(Ot,e,{left:e.condition,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:u});if(a.equivalent_to(u))return Ai(e,[e.condition,a]).optimize(t);if(a instanceof Ot&&"||"==a.operator&&a.right.equivalent_to(u))return l(Ot,e,{operator:"||",left:l(Ot,e,{operator:"&&",left:e.condition,right:a.left}),right:u}).optimize(t);const f=t.in_boolean_context();return h(e.consequent)?d(e.alternative)?p(e.condition):l(Ot,e,{operator:"||",left:p(e.condition),right:e.alternative}):d(e.consequent)?h(e.alternative)?p(e.condition.negate(t)):l(Ot,e,{operator:"&&",left:p(e.condition.negate(t)),right:e.alternative}):h(e.alternative)?l(Ot,e,{operator:"||",left:p(e.condition.negate(t)),right:e.consequent}):d(e.alternative)?l(Ot,e,{operator:"&&",left:p(e.condition),right:e.consequent}):e;function p(e){return e.is_boolean()?e:l($t,e,{operator:"!",expression:e.negate(t)})}function h(e){return e instanceof jn||f&&e instanceof Cn&&e.getValue()||e instanceof $t&&"!"==e.operator&&e.expression instanceof Cn&&!e.expression.getValue()}function d(e){return e instanceof Hn||f&&e instanceof Cn&&!e.getValue()||e instanceof $t&&"!"==e.operator&&e.expression instanceof Cn&&e.expression.getValue()}}),Wr(Pn,function(e,t){if(t.in_boolean_context())return l(Sn,e,{value:+e.value});var n=t.parent();return t.option("booleans_as_integers")?(n instanceof Ot&&("==="==n.operator||"!=="==n.operator)&&(n.operator=n.operator.replace(/=$/,"")),l(Sn,e,{value:+e.value})):t.option("booleans")?n instanceof Ot&&("=="==n.operator||"!="==n.operator)?l(Sn,e,{value:+e.value}):l($t,e,{operator:"!",expression:l(Sn,e,{value:1-e.value})}):e}),Ft.DEFMETHOD("flatten_object",function(e,t){if(t.option("properties")&&"__proto__"!==e&&!(this instanceof Bt)){var n=t.option("unsafe_arrows")&&t.option("ecma")>=2015,i=this.expression;if(i instanceof Ht)for(var r=i.properties,o=r.length;--o>=0;){var s=r[o];if(""+(s instanceof Wt?s.key.name:s.key)==e){if(!r.every(e=>(e instanceof Rt||n&&e instanceof Wt&&!e.value.is_generator)&&!e.computed_key()))return;if(!io(s.value,t))return;return l(St,this,{expression:l(Pt,i,{elements:r.map(function(e){var t=e.value;t instanceof Le&&(t=l(Ue,t,t));var n=e.key;return n instanceof ye&&!(n instanceof pn)?Ai(e,[n,t]):t})}),property:l(Sn,this,{value:o})})}}}}),Wr(St,function(e,t){var n,i=e.expression,r=e.property;if(t.option("properties")){var o=r.evaluate(t);if(o!==r){"string"==typeof o&&("undefined"==o?o=void 0:(x=parseFloat(o)).toString()==o&&(o=x)),r=e.property=Bi(r,Ci(o,r).transform(t));var s=""+o;if(ee(s)&&s.length<=r.size()+1)return l(Ct,e,{expression:i,optional:e.optional,property:s,quote:r.quote}).optimize(t)}}e:if(t.option("arguments")&&i instanceof Dn&&"arguments"==i.name&&1==i.definition().orig.length&&(n=i.scope)instanceof Re&&n.uses_arguments&&!(n instanceof Ve)&&r instanceof Sn){for(var a=r.getValue(),u=new Set,c=n.argnames,f=0;f<c.length;f++){if(!(c[f]instanceof fn))break e;var p=c[f].name;if(u.has(p))break e;u.add(p)}var h=n.argnames[a];if(h&&t.has_directive("use strict")){var d=h.definition();(!t.option("reduce_vars")||d.assignments||d.orig.length>1)&&(h=null)}else if(!h&&!t.option("keep_fargs")&&a<n.argnames.length+5)for(;a>=n.argnames.length;)h=n.create_symbol(fn,{source:n,scope:n,tentative_name:"argument_"+n.argnames.length}),n.argnames.push(h);if(h){var _=l(Dn,e,h);return _.reference({}),Ei(h,1),_}}if(t.is_lhs())return e;if(o!==r){var m=e.flatten_object(s,t);m&&(i=e.expression=m.expression,r=e.property=m.property)}if(t.option("properties")&&t.option("side_effects")&&r instanceof Sn&&i instanceof Pt){a=r.getValue();var v=i.elements,g=v[a];e:if(io(g,t)){for(var y=!0,b=[],D=v.length;--D>a;)(x=v[D].drop_side_effect_free(t))&&(b.unshift(x),y&&x.has_side_effects(t)&&(y=!1));if(g instanceof je)break e;for(g=g instanceof In?l(Mn,g):g,y||b.unshift(g);--D>=0;){var x;if((x=v[D])instanceof je)break e;(x=x.drop_side_effect_free(t))?b.unshift(x):a--}return y?(b.push(g),Ai(e,b).optimize(t)):l(St,e,{expression:l(Pt,i,{elements:b}),property:l(Sn,r,{value:a})})}}var w=e.evaluate(t);return w!==e?Si(t,w=Ci(w,e).optimize(t),e):e}),Wr(Tt,function(e,t){if(ur(e.expression,t)){let n=t.parent();return n instanceof $t&&"delete"===n.operator?Ci(0,e):l(Mn,e)}return e.expression instanceof Ft||e.expression instanceof Et?e:e.expression}),Wr(Ct,function(e,t){const n=t.parent();if(t.is_lhs())return e;if(t.option("unsafe_proto")&&e.expression instanceof Ct&&"prototype"==e.expression.property){var i=e.expression.expression;if(Qi(i))switch(i.name){case"Array":e.expression=l(Pt,e.expression,{elements:[]});break;case"Function":e.expression=Fi(e.expression);break;case"Number":e.expression=l(Sn,e.expression,{value:0});break;case"Object":e.expression=l(Ht,e.expression,{properties:[]});break;case"RegExp":e.expression=l(qn,e.expression,{value:{source:"t",flags:""}});break;case"String":e.expression=l(Bn,e.expression,{value:""})}}if(!(n instanceof Et&&E(n,Xn))){const n=e.flatten_object(e.property,t);if(n)return n.optimize(t)}if(e.expression instanceof Ft&&n instanceof Ft)return e;let r=e.evaluate(t);return r!==e?(r=Ci(r,e).optimize(t),Si(t,r,e)):e}),Wr(Pt,function(e,t){var n=ro(e,t);return n!==e?n:(oo(e.elements),e)}),Wr(Ht,function(e,t){var n=ro(e,t);return n!==e?n:(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof je){const i=n.expression;i instanceof Ht&&i.properties.every(e=>e instanceof Rt)?(e.splice(t,1,...i.properties),t--):!(i instanceof Cn||i.is_constant())||i instanceof Bn||(e.splice(t,1),t--)}}}(e.properties),e)}),Wr(qn,ro),Wr(Qe,function(e,t){return e.value&&or(e.value,t)&&(e.value=null),e}),Wr(Ve,Zr),Wr(Ue,function(e,t){return e=Zr(e,t),!(t.option("unsafe_arrows")&&t.option("ecma")>=2015)||e.name||e.is_generator||e.uses_arguments||e.pinned()||Rn(e,e=>{if(e instanceof An)return Un})?e:l(Ve,e,e).optimize(t)}),Wr(Xt,function(e){for(let t=0;t<e.properties.length;t++){const n=e.properties[t];n instanceof en&&0==n.body.length&&(e.properties.splice(t,1),t--)}return e}),Wr(en,function(e,t){return Lr(e.body,t),e}),Wr(ot,function(e,t){return e.expression&&!e.is_star&&or(e.expression,t)&&(e.expression=null),e}),Wr(Xe,function(e,t){if(!t.option("evaluate")||t.parent()instanceof Ge)return e;for(var n=[],i=0;i<e.segments.length;i++){var r=e.segments[i];if(r instanceof ye){var o=r.evaluate(t);if(o!==r&&(o+"").length<=r.size()+3){n[n.length-1].value=n[n.length-1].value+o+e.segments[++i].value;continue}if(r instanceof Xe){var s=r.segments;n[n.length-1].value+=s[0].value;for(var a=1;a<s.length;a++)r=s[a],n.push(r);continue}}n.push(r)}if(e.segments=n,1==n.length)return l(Bn,e,n[0]);if(3===n.length&&n[1]instanceof ye&&(n[1].is_string(t)||n[1].is_number_or_bigint(t)||ur(n[1],t)||t.option("unsafe"))){if(""===n[2].value)return l(Ot,e,{operator:"+",left:l(Bn,e,{value:n[0].value}),right:n[1]});if(""===n[0].value)return l(Ot,e,{operator:"+",left:n[1],right:l(Bn,e,{value:n[2].value})})}return e}),Wr(Ge,function(e){return e}),Wr(jt,so),Wr(Wt,function(e,t){if(so(e,t),t.option("arrows")&&t.parent()instanceof Ht&&!e.value.is_generator&&!e.value.uses_arguments&&!e.value.pinned()&&1==e.value.body.length&&e.value.body[0]instanceof Qe&&e.value.body[0].value&&!e.value.contains_this()){var n=l(Ve,e.value,e.value);return n.async=e.value.async,n.is_generator=e.value.is_generator,l(Rt,e,{key:e.key instanceof pn?e.key.name:e.key,value:n,quote:e.quote})}return e}),Wr(Rt,function(e,t){so(e,t);var n=t.option("unsafe_methods");if(n&&t.option("ecma")>=2015&&(!(n instanceof RegExp)||n.test(e.key+""))){var i=e.key,r=e.value;if((r instanceof Ve&&Array.isArray(r.body)&&!r.contains_this()||r instanceof Ue)&&!r.name)return l(Wt,e,{key:i instanceof ye?i:l(pn,e,{name:i}),value:l(Le,r,r),quote:e.quote})}return e}),Wr(We,function(e,t){if(1==t.option("pure_getters")&&t.option("unused")&&!e.is_array&&Array.isArray(e.names)&&!function(e){for(var t=[/^VarDef$/,/^(Const|Let|Var)$/,/^Export$/],n=0,i=0,r=t.length;n<r;i++){var o=e.parent(i);if(!o)return!1;if(0!==n||"Destructuring"!=o.TYPE){if(!t[n].test(o.TYPE))return!1;n++}}return!0}(t)&&!(e.names[e.names.length-1]instanceof je)){for(var n=[],i=0;i<e.names.length;i++){var r=e.names[i];r instanceof Rt&&"string"==typeof r.key&&r.value instanceof on&&!o(t,r.value.definition())||n.push(r)}n.length!=e.names.length&&(e.names=n)}return e;function o(e,t){return!!t.references.length||!!t.global&&(!e.toplevel.vars||!!e.top_retain&&e.top_retain(t))}});n(93775).TextDecoder;var ao=(",".charCodeAt(0),";".charCodeAt(0),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),uo=new Uint8Array(64),co=new Uint8Array(128);for(let e=0;e<64;e++){const t=ao.charCodeAt(e);uo[e]=t,co[t]=e}n(4424),n(65606),n(65606)})()})();